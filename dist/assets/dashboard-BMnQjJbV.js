import{c as H,r as x,b as fs,j as i,R as W,d as ms,e as Lr,a as gs}from"./index-D4Up2AtV.js";import{C as dt,S as ke}from"./shield-CsDVxKhG.js";import{h as hs}from"./storage-qviMmoTj.js";import{P as Xt,X as Zt}from"./x-CoQZahBj.js";import{L as $n,A as bs}from"./lock-BZ-_hWH9.js";import{B as xs}from"./bar-chart-3-Dls762i5.js";import{S as ys}from"./settings-JaTo_ynO.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=H("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=H("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=H("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=H("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=H("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=H("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=H("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=H("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=H("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=H("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}var be;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(be||(be={}));const Wn="popstate";function As(e){e===void 0&&(e={});function t(o,s){let{pathname:a="/",search:l="",hash:c=""}=je(o.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),tn("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){let a=o.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=o.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:ut(s))}function r(o,s){Nt(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ks(t,n,r,e)}function V(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rs(){return Math.random().toString(36).substr(2,8)}function Vn(e,t){return{usr:e.state,key:e.key,idx:t}}function tn(e,t,n,r){return n===void 0&&(n=null),ze({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?je(t):t,{state:n,key:t&&t.key||r||Rs()})}function ut(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function je(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ks(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,l=be.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(ze({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){l=be.Pop;let b=f(),v=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:v})}function p(b,v){l=be.Push;let y=tn(g.location,b,v);n&&n(y,b),u=f()+1;let D=Vn(y,u),N=g.createHref(y);try{a.pushState(D,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(N)}s&&c&&c({action:l,location:g.location,delta:1})}function m(b,v){l=be.Replace;let y=tn(g.location,b,v);n&&n(y,b),u=f();let D=Vn(y,u),N=g.createHref(y);a.replaceState(D,"",N),s&&c&&c({action:l,location:g.location,delta:0})}function h(b){let v=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof b=="string"?b:ut(b);return y=y.replace(/ $/,"%20"),V(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return l},get location(){return e(o,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Wn,d),c=b,()=>{o.removeEventListener(Wn,d),c=null}},createHref(b){return t(o,b)},createURL:h,encodeLocation(b){let v=h(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(b){return a.go(b)}};return g}var Hn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hn||(Hn={}));function Os(e,t,n){return n===void 0&&(n="/"),Ms(e,t,n)}function Ms(e,t,n,r){let o=typeof t=="string"?je(t):t,s=Oe(o.pathname||"/",n);if(s==null)return null;let a=Ur(e);Bs(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=qs(s);l=Hs(a[c],u)}return l}function Ur(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(V(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xe([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(V(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ur(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Ws(u,s.index),routesMeta:f})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let c of Wr(s.path))o(s,a,c)}),t}function Wr(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let a=Wr(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),o&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bs(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vs(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ls=/^:[\w-]+$/,Fs=3,$s=2,_s=1,Gs=10,Us=-2,zn=e=>e==="*";function Ws(e,t){let n=e.split("/"),r=n.length;return n.some(zn)&&(r+=Us),t&&(r+=$s),n.filter(o=>!zn(o)).reduce((o,s)=>o+(Ls.test(s)?Fs:s===""?_s:Gs),r)}function Vs(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function Hs(e,t,n){let{routesMeta:r}=e,o={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",d=nn({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!d)return null;Object.assign(o,d.params),a.push({params:o,pathname:xe([s,d.pathname]),pathnameBase:Zs(xe([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=xe([s,d.pathnameBase]))}return a}function nn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zs(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],a=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let g=l[d]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const h=l[d];return m&&!h?u[p]=void 0:u[p]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function zs(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Nt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function qs(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Oe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ys=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=e=>Ys.test(e);function Js(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?je(e):e,s;if(n)if(Ks(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Nt(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=qn(n.substring(1),"/"):s=qn(n,t)}else s=t;return{pathname:s,search:Qs(r),hash:ea(o)}}function qn(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Bt(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xs(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vr(e,t){let n=Xs(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hr(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=je(e):(o=ze({},e),V(!o.pathname||!o.pathname.includes("?"),Bt("?","pathname","search",o)),V(!o.pathname||!o.pathname.includes("#"),Bt("#","pathname","hash",o)),V(!o.search||!o.search.includes("#"),Bt("#","search","hash",o)));let s=e===""||o.pathname==="",a=s?"/":o.pathname,l;if(a==null)l=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;o.pathname=p.join("/")}l=d>=0?t[d]:"/"}let c=Js(o,l),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const xe=e=>e.join("/").replace(/\/\/+/g,"/"),Zs=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qs=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ea=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ta(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zr=["post","put","patch","delete"];new Set(zr);const na=["get",...zr];new Set(na);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}const Dt=x.createContext(null),qr=x.createContext(null),Ne=x.createContext(null),St=x.createContext(null),Pe=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Yr=x.createContext(null);function ra(e,t){let{relative:n}=t===void 0?{}:t;tt()||V(!1);let{basename:r,navigator:o}=x.useContext(Ne),{hash:s,pathname:a,search:l}=Ct(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:xe([r,a])),o.createHref({pathname:c,search:l,hash:s})}function tt(){return x.useContext(St)!=null}function nt(){return tt()||V(!1),x.useContext(St).location}function Kr(e){x.useContext(Ne).static||x.useLayoutEffect(e)}function Jr(){let{isDataRoute:e}=x.useContext(Pe);return e?ha():oa()}function oa(){tt()||V(!1);let e=x.useContext(Dt),{basename:t,future:n,navigator:r}=x.useContext(Ne),{matches:o}=x.useContext(Pe),{pathname:s}=nt(),a=JSON.stringify(Vr(o,n.v7_relativeSplatPath)),l=x.useRef(!1);return Kr(()=>{l.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=Hr(u,JSON.parse(a),s,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xe([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,a,s,e])}function Ct(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(Ne),{matches:o}=x.useContext(Pe),{pathname:s}=nt(),a=JSON.stringify(Vr(o,r.v7_relativeSplatPath));return x.useMemo(()=>Hr(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function sa(e,t){return aa(e,t)}function aa(e,t,n,r){tt()||V(!1);let{navigator:o}=x.useContext(Ne),{matches:s}=x.useContext(Pe),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=nt(),f;if(t){var d;let b=typeof t=="string"?je(t):t;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||V(!1),f=b}else f=u;let p=f.pathname||"/",m=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let h=Os(e,{pathname:m}),g=ua(h&&h.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:xe([c,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:xe([c,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return t&&g?x.createElement(St.Provider,{value:{location:qe({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:be.Pop}},g):g}function ia(){let e=ga(),t=ta(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:o},n):null,null)}const la=x.createElement(ia,null);class ca extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Pe.Provider,{value:this.props.routeContext},x.createElement(Yr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function da(e){let{routeContext:t,match:n,children:r}=e,o=x.useContext(Dt);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Pe.Provider,{value:t},r)}function ua(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(o=n)==null?void 0:o.errors;if(l!=null){let f=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||V(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:m}=n,h=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,p)=>{let m,h=!1,g=null,b=null;n&&(m=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||la,c&&(u<0&&p===0?(ba("route-fallback"),h=!0,b=null):u===p&&(h=!0,b=d.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,p+1)),y=()=>{let D;return m?D=g:h?D=b:d.route.Component?D=x.createElement(d.route.Component,null):d.route.element?D=d.route.element:D=f,x.createElement(da,{match:d,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:D})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?x.createElement(ca,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Xr=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xr||{}),Zr=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zr||{});function pa(e){let t=x.useContext(Dt);return t||V(!1),t}function fa(e){let t=x.useContext(qr);return t||V(!1),t}function ma(e){let t=x.useContext(Pe);return t||V(!1),t}function Qr(e){let t=ma(),n=t.matches[t.matches.length-1];return n.route.id||V(!1),n.route.id}function ga(){var e;let t=x.useContext(Yr),n=fa(),r=Qr();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ha(){let{router:e}=pa(Xr.UseNavigateStable),t=Qr(Zr.UseNavigateStable),n=x.useRef(!1);return Kr(()=>{n.current=!0}),x.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,qe({fromRouteId:t},s)))},[e,t])}const Yn={};function ba(e,t,n){Yn[e]||(Yn[e]=!0)}function xa(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ae(e){V(!1)}function ya(e){let{basename:t="/",children:n=null,location:r,navigationType:o=be.Pop,navigator:s,static:a=!1,future:l}=e;tt()&&V(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:a,future:qe({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=je(r));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:h="default"}=r,g=x.useMemo(()=>{let b=Oe(f,c);return b==null?null:{location:{pathname:b,search:d,hash:p,state:m,key:h},navigationType:o}},[c,f,d,p,m,h,o]);return g==null?null:x.createElement(Ne.Provider,{value:u},x.createElement(St.Provider,{children:n,value:g}))}function va(e){let{children:t,location:n}=e;return sa(rn(t),n)}new Promise(()=>{});function rn(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,o)=>{if(!x.isValidElement(r))return;let s=[...t,o];if(r.type===x.Fragment){n.push.apply(n,rn(r.props.children,s));return}r.type!==Ae&&V(!1),!r.props.index||!r.props.children||V(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=rn(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}function eo(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function wa(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Na(e,t){return e.button===0&&(!t||t==="_self")&&!wa(e)}const Da=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sa=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ca="6";try{window.__reactRouterVersion=Ca}catch{}const Ea=x.createContext({isTransitioning:!1}),Ia="startTransition",Kn=fs[Ia];function ja(e){let{basename:t,children:n,future:r,window:o}=e,s=x.useRef();s.current==null&&(s.current=As({window:o,v5Compat:!0}));let a=s.current,[l,c]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=x.useCallback(d=>{u&&Kn?Kn(()=>c(d)):c(d)},[c,u]);return x.useLayoutEffect(()=>a.listen(f),[a,f]),x.useEffect(()=>xa(r),[r]),x.createElement(ya,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Pa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ta=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=x.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,p=eo(t,Da),{basename:m}=x.useContext(Ne),h,g=!1;if(typeof u=="string"&&Ta.test(u)&&(h=u,Pa))try{let D=new URL(window.location.href),N=u.startsWith("//")?new URL(D.protocol+u):new URL(u),E=Oe(N.pathname,m);N.origin===D.origin&&E!=null?u=E+N.search+N.hash:g=!0}catch{}let b=ra(u,{relative:o}),v=ka(u,{replace:a,state:l,target:c,preventScrollReset:f,relative:o,viewTransition:d});function y(D){r&&r(D),D.defaultPrevented||v(D)}return x.createElement("a",pt({},p,{href:h||b,onClick:g||s?r:y,ref:n,target:c}))}),Aa=x.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:f}=t,d=eo(t,Sa),p=Ct(c,{relative:d.relative}),m=nt(),h=x.useContext(qr),{navigator:g,basename:b}=x.useContext(Ne),v=h!=null&&Oa(p)&&u===!0,y=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,D=m.pathname,N=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;o||(D=D.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&b&&(N=Oe(N,b)||N);const E=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=D===y||!a&&D.startsWith(y)&&D.charAt(E)==="/",P=N!=null&&(N===y||!a&&N.startsWith(y)&&N.charAt(y.length)==="/"),A={isActive:S,isPending:P,isTransitioning:v},_=S?r:void 0,O;typeof s=="function"?O=s(A):O=[s,S?"active":null,P?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(A):l;return x.createElement(Et,pt({},d,{"aria-current":_,className:O,ref:n,style:F,to:c,viewTransition:u}),typeof f=="function"?f(A):f)});var on;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(on||(on={}));var Jn;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jn||(Jn={}));function Ra(e){let t=x.useContext(Dt);return t||V(!1),t}function ka(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=Jr(),u=nt(),f=Ct(e,{relative:a});return x.useCallback(d=>{if(Na(d,n)){d.preventDefault();let p=r!==void 0?r:ut(u)===ut(f);c(e,{replace:p,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,f,r,o,n,e,s,a,l])}function Oa(e,t){t===void 0&&(t={});let n=x.useContext(Ea);n==null&&V(!1);let{basename:r}=Ra(on.useViewTransitionState),o=Ct(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Oe(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Oe(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nn(o.pathname,a)!=null||nn(o.pathname,s)!=null}function sn(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`}function Xn(e){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Ma(e){const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-teal-500","bg-indigo-500","bg-red-500","bg-cyan-500","bg-amber-500","bg-lime-500","bg-emerald-500"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]}function Ba({sessions:e,sites:t}){const r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59);let a=s.getTime(),l=o.getTime();e.forEach(g=>{a=Math.min(a,g.startTime),l=Math.max(l,g.endTime)}),a=Math.max(o.getTime(),a-30*60*1e3),l=Math.min(s.getTime(),l+30*60*1e3),e.length===0&&(a=o.getTime()+8*60*60*1e3,l=r.getTime());const c=Math.max(l-a,1),u=Object.entries(t).sort((g,b)=>b[1]-g[1]),f=u.slice(0,5),d=new Map;e.forEach(g=>{const b=d.get(g.domain)||[];b.push(g),d.set(g.domain,b)});const p=[],m=new Date(a).getHours(),h=new Date(l).getHours();for(let g=m;g<=h;g++){const b=new Date(r.getFullYear(),r.getMonth(),r.getDate(),g,0,0).getTime();if(b>=a&&b<=l){const v=(b-a)/c*100;p.push({hour:g,label:g===0?"12am":g<12?`${g}am`:g===12?"12pm":`${g-12}pm`,position:v})}}return u.length===0&&e.length===0?i.jsx("div",{className:"text-center py-6 text-gray-500",children:"No activity recorded yet today"}):u.length>0&&e.length===0?i.jsxs("div",{className:"text-center py-6 text-gray-500",children:[i.jsx("p",{children:"Timeline data will appear as you browse."}),i.jsx("p",{className:"text-xs mt-1",children:"Session tracking has just been enabled."})]}):i.jsxs("div",{children:[i.jsx("div",{className:"relative h-5 mb-2 ml-32",children:p.map(g=>i.jsx("div",{className:"absolute text-xs text-gray-400",style:{left:`${g.position}%`,transform:"translateX(-50%)"},children:g.label},g.hour))}),i.jsx("div",{className:"space-y-1.5",children:f.map(([g,b])=>{const v=d.get(g)||[],y=Ma(g),N=new Set(v.map(E=>E.windowId)).size>1;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"w-28 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs font-medium truncate",title:g,children:g.replace(/^www\./,"")}),N&&i.jsx("span",{title:"Multiple windows",children:i.jsx(_r,{className:"w-3 h-3 text-gray-400 flex-shrink-0"})})]}),i.jsx("span",{className:"text-xs text-gray-400",children:sn(b)})]}),i.jsxs("div",{className:"flex-1 relative h-5 bg-gray-100 rounded overflow-hidden",children:[p.map(E=>i.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:`${E.position}%`}},E.hour)),v.map((E,S)=>{const P=Math.max(0,(E.startTime-a)/c*100),A=Math.min(100,(E.endTime-a)/c*100),_=Math.max(.5,A-P);return i.jsx("div",{className:`absolute top-0.5 bottom-0.5 ${y} rounded-sm opacity-80`,style:{left:`${P}%`,width:`${_}%`},title:`${Xn(E.startTime)} - ${Xn(E.endTime)}`},S)})]})]},g)})}),u.length>5&&i.jsxs(Et,{to:"/metrics",className:"mt-3 flex items-center justify-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:["View all ",u.length," sites",i.jsx(Fr,{className:"w-4 h-4"})]})]})}function La(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function Fa(){const[e,t]=x.useState(null),[n,r]=x.useState([]),[o,s]=x.useState(!0),a=La(new Date);x.useEffect(()=>{l()},[]);async function l(){try{const[u,f]=await Promise.all([chrome.runtime.sendMessage({type:"GET_STATS",payload:{date:a}}),chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"})]);t(u),r(f)}catch(u){console.error("Failed to load data:",u)}finally{s(!1)}}if(o)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const c=e?Object.entries(e.sites).sort((u,f)=>f[1]-u[1]).slice(0,5):[];return i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Overview"}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(dt,{className:"w-5 h-5 text-blue-600"})}),i.jsx("span",{className:"text-sm text-gray-500",children:"Time Today"})]}),i.jsx("p",{className:"text-2xl font-bold",children:sn((e==null?void 0:e.totalTime)||0)})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(Cs,{className:"w-5 h-5 text-green-600"})}),i.jsx("span",{className:"text-sm text-gray-500",children:"Sites Visited"})]}),i.jsx("p",{className:"text-2xl font-bold",children:Object.keys((e==null?void 0:e.sites)||{}).length})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:i.jsx(ke,{className:"w-5 h-5 text-red-600"})}),i.jsx("span",{className:"text-sm text-gray-500",children:"Blocks Today"})]}),i.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.blockedAttempts)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(Gr,{className:"w-5 h-5 text-purple-600"})}),i.jsx("span",{className:"text-sm text-gray-500",children:"Active Blocks"})]}),i.jsx("p",{className:"text-2xl font-bold",children:n.filter(u=>u.enabled).length})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Today's Activity"}),i.jsxs(Et,{to:"/metrics",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["Full timeline",i.jsx(Fr,{className:"w-4 h-4"})]})]}),i.jsx(Ba,{sessions:(e==null?void 0:e.sessions)||[],sites:(e==null?void 0:e.sites)||{}})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Top Sites Today"}),c.length>0?i.jsx("div",{className:"space-y-3",children:c.map(([u,f],d)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm text-gray-400 w-4",children:d+1}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium truncate",children:u}),i.jsx("span",{className:"text-sm text-gray-500",children:sn(f)})]}),i.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${Math.min(100,f/((e==null?void 0:e.totalTime)||1)*100)}%`}})})]})]},u))}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No activity recorded yet"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Blocked Sites"}),n.length>0?i.jsxs("div",{className:"space-y-2",children:[n.slice(0,5).map(u=>i.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:u.pattern}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${u.enabled?"bg-red-100 text-red-700":"bg-gray-200 text-gray-600"}`,children:u.enabled?"Blocking":"Disabled"})]},u.id)),n.length>5&&i.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2",children:["+",n.length-5," more"]})]}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No blocked sites configured"})]})]})]})}function ee(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $a=typeof Symbol=="function"&&Symbol.observable||"@@observable",Zn=$a,Qn=()=>Math.random().toString(36).substring(7).split("").join("."),_a={INIT:`@@redux/INIT${Qn()}`,REPLACE:`@@redux/REPLACE${Qn()}`},er=_a;function Ga(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function to(e,t,n){if(typeof e!="function")throw new Error(ee(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ee(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ee(1));return n(to)(e,t)}let r=e,o=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((b,v)=>{a.set(v,b)}))}function f(){if(c)throw new Error(ee(3));return o}function d(b){if(typeof b!="function")throw new Error(ee(4));if(c)throw new Error(ee(5));let v=!0;u();const y=l++;return a.set(y,b),function(){if(v){if(c)throw new Error(ee(6));v=!1,u(),a.delete(y),s=null}}}function p(b){if(!Ga(b))throw new Error(ee(7));if(typeof b.type>"u")throw new Error(ee(8));if(typeof b.type!="string")throw new Error(ee(17));if(c)throw new Error(ee(9));try{c=!0,o=r(o,b)}finally{c=!1}return(s=a).forEach(y=>{y()}),b}function m(b){if(typeof b!="function")throw new Error(ee(10));r=b,p({type:er.REPLACE})}function h(){const b=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ee(11));function y(){const N=v;N.next&&N.next(f())}return y(),{unsubscribe:b(y)}},[Zn](){return this}}}return p({type:er.INIT}),{dispatch:p,subscribe:d,getState:f,replaceReducer:m,[Zn]:h}}function tr(e,t){return function(...n){return t(e.apply(this,n))}}function nr(e,t){if(typeof e=="function")return tr(e,t);if(typeof e!="object"||e===null)throw new Error(ee(16));const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=tr(o,t))}return n}function no(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Ua(...e){return t=>(n,r)=>{const o=t(n,r);let s=()=>{throw new Error(ee(15))};const a={getState:o.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=no(...l)(o.dispatch),{...o,dispatch:s}}}var Wa={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rt=x;function Va(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ha=typeof Object.is=="function"?Object.is:Va,za=rt.useSyncExternalStore,qa=rt.useRef,Ya=rt.useEffect,Ka=rt.useMemo,Ja=rt.useDebugValue;Wa.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=qa(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Ka(function(){function c(m){if(!u){if(u=!0,f=m,m=r(m),o!==void 0&&a.hasValue){var h=a.value;if(o(h,m))return d=h}return d=m}if(h=d,Ha(f,m))return h;var g=r(m);return o!==void 0&&o(h,g)?(f=m,h):(f=m,d=g)}var u=!1,f,d,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var l=za(e,s[0],s[1]);return Ya(function(){a.hasValue=!0,a.value=l},[l]),Ja(l),l};var Xa=x.version.startsWith("19"),Za=Symbol.for(Xa?"react.transitional.element":"react.element"),Qa=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),ti=Symbol.for("react.strict_mode"),ni=Symbol.for("react.profiler"),ri=Symbol.for("react.consumer"),oi=Symbol.for("react.context"),ro=Symbol.for("react.forward_ref"),si=Symbol.for("react.suspense"),ai=Symbol.for("react.suspense_list"),hn=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),li=ro,ci=hn;function di(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Za:switch(e=e.type,e){case ei:case ni:case ti:case si:case ai:return e;default:switch(e=e&&e.$$typeof,e){case oi:case ro:case ii:case hn:return e;case ri:return e;default:return t}}case Qa:return t}}}function ui(e){return di(e)===hn}function pi(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:s,areStatePropsEqual:a}){let l=!1,c,u,f,d,p;function m(y,D){return c=y,u=D,f=e(c,u),d=t(r,u),p=n(f,d,u),l=!0,p}function h(){return f=e(c,u),t.dependsOnOwnProps&&(d=t(r,u)),p=n(f,d,u),p}function g(){return e.dependsOnOwnProps&&(f=e(c,u)),t.dependsOnOwnProps&&(d=t(r,u)),p=n(f,d,u),p}function b(){const y=e(c,u),D=!a(y,f);return f=y,D&&(p=n(f,d,u)),p}function v(y,D){const N=!s(D,u),E=!o(y,c,D,u);return c=y,u=D,N&&E?h():N?g():E?b():p}return function(D,N){return l?v(D,N):m(D,N)}}function fi(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){const s=t(e,o),a=n(e,o),l=r(e,o);return pi(s,a,l,e,o)}function mi(e,t){const n={};for(const r in e){const o=e[r];typeof o=="function"&&(n[r]=(...s)=>t(o(...s)))}return n}function an(e){return function(n){const r=e(n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function rr(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function oo(e,t){return function(r,{displayName:o}){const s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=e,s.dependsOnOwnProps=rr(e);let u=s(l,c);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=rr(u),u=s(l,c)),u},s}}function bn(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function gi(e){return e&&typeof e=="object"?an(t=>mi(e,t)):e?typeof e=="function"?oo(e):bn(e,"mapDispatchToProps"):an(t=>({dispatch:t}))}function hi(e){return e?typeof e=="function"?oo(e):bn(e,"mapStateToProps"):an(()=>({}))}function bi(e,t,n){return{...n,...e,...t}}function xi(e){return function(n,{displayName:r,areMergedPropsEqual:o}){let s=!1,a;return function(c,u,f){const d=e(c,u,f);return s?o(d,a)||(a=d):(s=!0,a=d),a}}}function yi(e){return e?typeof e=="function"?xi(e):bn(e,"mergeProps"):()=>bi}function vi(e){e()}function wi(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vi(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var or={notify(){},get:()=>[]};function so(e,t){let n,r=or,o=0,s=!1;function a(g){f();const b=r.subscribe(g);let v=!1;return()=>{v||(v=!0,b(),d())}}function l(){r.notify()}function c(){h.onStateChange&&h.onStateChange()}function u(){return s}function f(){o++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=wi())}function d(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=or)}function p(){s||(s=!0,f())}function m(){s&&(s=!1,d())}const h={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var Ni=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Di=Ni(),Si=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ci=Si(),Ei=()=>Di||Ci?x.useLayoutEffect:x.useEffect,ft=Ei();function sr(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Lt(e,t){if(sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!sr(e[n[o]],t[n[o]]))return!1;return!0}var Ii={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ji={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pi={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ao={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ti={[li]:Pi,[ci]:ao};function ar(e){return ui(e)?ao:Ti[e.$$typeof]||Ii}var Ai=Object.defineProperty,Ri=Object.getOwnPropertyNames,ir=Object.getOwnPropertySymbols,ki=Object.getOwnPropertyDescriptor,Oi=Object.getPrototypeOf,lr=Object.prototype;function ln(e,t){if(typeof t!="string"){if(lr){const s=Oi(t);s&&s!==lr&&ln(e,s)}let n=Ri(t);ir&&(n=n.concat(ir(t)));const r=ar(e),o=ar(t);for(let s=0;s<n.length;++s){const a=n[s];if(!ji[a]&&!(o&&o[a])&&!(r&&r[a])){const l=ki(t,a);try{Ai(e,a,l)}catch{}}}}return e}var Ft=Symbol.for("react-redux-context"),$t=typeof globalThis<"u"?globalThis:{};function Mi(){if(!x.createContext)return{};const e=$t[Ft]??($t[Ft]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var io=Mi(),Bi=[null,null];function Li(e,t,n){ft(()=>e(...t),n)}function Fi(e,t,n,r,o,s){e.current=r,n.current=!1,o.current&&(o.current=null,s())}function $i(e,t,n,r,o,s,a,l,c,u,f){if(!e)return()=>{};let d=!1,p=null;const m=()=>{if(d||!l.current)return;const g=t.getState();let b,v;try{b=r(g,o.current)}catch(y){v=y,p=y}v||(p=null),b===s.current?a.current||u():(s.current=b,c.current=b,a.current=!0,f())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function _i(e,t){return e===t}function Gi(e,t,n,{pure:r,areStatesEqual:o=_i,areOwnPropsEqual:s=Lt,areStatePropsEqual:a=Lt,areMergedPropsEqual:l=Lt,forwardRef:c=!1,context:u=io}={}){const f=u,d=hi(e),p=gi(t),m=yi(n),h=!!e;return b=>{const v=b.displayName||b.name||"Component",y=`Connect(${v})`,D={shouldHandleStateChanges:h,displayName:y,wrappedComponentName:v,WrappedComponent:b,initMapStateToProps:d,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:o,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:l};function N(P){const[A,_,O]=x.useMemo(()=>{const{reactReduxForwardedRef:L,...z}=P;return[P.context,L,z]},[P]),F=x.useMemo(()=>{let L=f;return A!=null&&A.Consumer,L},[A,f]),$=x.useContext(F),te=!!P.store&&!!P.store.getState&&!!P.store.dispatch,de=!!$&&!!$.store,G=te?P.store:$.store,ue=de?$.getServerState:G.getState,ge=x.useMemo(()=>fi(G.dispatch,D),[G]),[ne,fe]=x.useMemo(()=>{if(!h)return Bi;const L=so(G,te?void 0:$.subscription),z=L.notifyNestedSubs.bind(L);return[L,z]},[G,te,$]),w=x.useMemo(()=>te?$:{...$,subscription:ne},[te,$,ne]),T=x.useRef(void 0),k=x.useRef(O),U=x.useRef(void 0),re=x.useRef(!1),K=x.useRef(!1),X=x.useRef(void 0);ft(()=>(K.current=!0,()=>{K.current=!1}),[]);const he=x.useMemo(()=>()=>U.current&&O===k.current?U.current:ge(G.getState(),O),[G,O]),De=x.useMemo(()=>z=>ne?$i(h,G,ne,ge,k,T,re,K,U,fe,z):()=>{},[ne]);Li(Fi,[k,T,re,O,U,fe]);let I;try{I=x.useSyncExternalStore(De,he,ue?()=>ge(ue(),O):he)}catch(L){throw X.current&&(L.message+=`
The error may be correlated with this previous error:
${X.current.stack}

`),L}ft(()=>{X.current=void 0,U.current=void 0,T.current=I});const R=x.useMemo(()=>x.createElement(b,{...I,ref:_}),[_,b,I]);return x.useMemo(()=>h?x.createElement(F.Provider,{value:w},R):R,[F,R,w])}const S=x.memo(N);if(S.WrappedComponent=b,S.displayName=N.displayName=y,c){const A=x.forwardRef(function(O,F){return x.createElement(S,{...O,reactReduxForwardedRef:F})});return A.displayName=y,A.WrappedComponent=b,ln(A,b)}return ln(S,b)}}var lo=Gi;function Ui(e){const{children:t,context:n,serverState:r,store:o}=e,s=x.useMemo(()=>{const c=so(o);return{store:o,subscription:c,getServerState:r?()=>r:void 0}},[o,r]),a=x.useMemo(()=>o.getState(),[o]);ft(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||io;return x.createElement(l.Provider,{value:s},t)}var Wi=Ui,Vi="Invariant failed";function Hi(e,t){throw new Error(Vi)}var pe=function(t){var n=t.top,r=t.right,o=t.bottom,s=t.left,a=r-s,l=o-n,c={top:n,right:r,bottom:o,left:s,width:a,height:l,x:s,y:n,center:{x:(r+s)/2,y:(o+n)/2}};return c},xn=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},cr=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},zi=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},_t={top:0,right:0,bottom:0,left:0},yn=function(t){var n=t.borderBox,r=t.margin,o=r===void 0?_t:r,s=t.border,a=s===void 0?_t:s,l=t.padding,c=l===void 0?_t:l,u=pe(xn(n,o)),f=pe(cr(n,a)),d=pe(cr(f,c));return{marginBox:u,borderBox:pe(n),paddingBox:f,contentBox:d,margin:o,border:a,padding:c}},ie=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var o=Number(n);return isNaN(o)&&Hi(),o},qi=function(){return{x:window.pageXOffset,y:window.pageYOffset}},mt=function(t,n){var r=t.borderBox,o=t.border,s=t.margin,a=t.padding,l=zi(r,n);return yn({borderBox:l,border:o,margin:s,padding:a})},gt=function(t,n){return n===void 0&&(n=qi()),mt(t,n)},co=function(t,n){var r={top:ie(n.marginTop),right:ie(n.marginRight),bottom:ie(n.marginBottom),left:ie(n.marginLeft)},o={top:ie(n.paddingTop),right:ie(n.paddingRight),bottom:ie(n.paddingBottom),left:ie(n.paddingLeft)},s={top:ie(n.borderTopWidth),right:ie(n.borderRightWidth),bottom:ie(n.borderBottomWidth),left:ie(n.borderLeftWidth)};return yn({borderBox:t,margin:r,padding:o,border:s})},uo=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return co(n,r)},Ye=function(t){var n=[],r=null,o=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n=l,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(null,arguments)}function po(e,t){}po.bind(null,"warn");po.bind(null,"error");function ye(){}function Yi(e,t){return{...e,...t}}function le(e,t,n){const r=t.map(o=>{const s=Yi(n,o.options);return e.addEventListener(o.eventName,o.fn,s),function(){e.removeEventListener(o.eventName,o.fn,s)}});return function(){r.forEach(s=>{s()})}}const Ki="Invariant failed";class bt extends Error{}bt.prototype.toString=function(){return this.message};function C(e,t){throw new bt(Ki)}class Ji extends W.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ye,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof bt&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=le(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof bt){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Xi=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,xt=e=>e+1,Zi=e=>`
  You have lifted an item in position ${xt(e.source.index)}
`,fo=(e,t)=>{const n=e.droppableId===t.droppableId,r=xt(e.index),o=xt(t.index);return n?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},mo=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Qi=e=>{const t=e.destination;if(t)return fo(e.source,t);const n=e.combine;return n?mo(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},dr=e=>`
  The item has returned to its starting position
  of ${xt(e.index)}
`,el=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${dr(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${fo(e.source,t)}
    `:n?`
      You have dropped the item.
      ${mo(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${dr(e.source)}
  `},ct={dragHandleUsageInstructions:Xi,onDragStart:Zi,onDragUpdate:Qi,onDragEnd:el};function tl(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function go(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!tl(e[n],t[n]))return!1;return!0}function M(e,t){const n=x.useState(()=>({inputs:t,result:e()}))[0],r=x.useRef(!0),o=x.useRef(n),a=r.current||!!(t&&o.current.inputs&&go(t,o.current.inputs))?o.current:{inputs:t,result:e()};return x.useEffect(()=>{r.current=!1,o.current=a},[a]),a.result}function j(e,t){return M(()=>e,t)}const Y={x:0,y:0},J=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),oe=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ve=(e,t)=>e.x===t.x&&e.y===t.y,Fe=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Ie=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Ke=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),ur=(e,t)=>Math.min(...t.map(n=>Ke(e,n))),ho=e=>t=>({x:e(t.x),y:e(t.y)});var nl=(e,t)=>{const n=pe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ot=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),pr=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],rl={top:0,right:0,bottom:0,left:0},ol=(e,t)=>t?ot(e,t.scroll.diff.displacement):e,sl=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,al=(e,t)=>t&&t.shouldClipSubject?nl(t.pageMarginBox,e):pe(e);var Me=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=ol(e.marginBox,r),s=sl(o,n,t),a=al(s,r);return{page:e,withPlaceholder:t,active:a}},vn=(e,t)=>{e.frame||C();const n=e.frame,r=oe(t,n.scroll.initial),o=Fe(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},a=Me({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:a}};function q(e,t=go){let n=null;function r(...o){if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;const s=e.apply(this,o);return n={lastResult:s,lastArgs:o,lastThis:this},s}return r.clear=function(){n=null},r}const bo=q(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),xo=q(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),It=q(e=>Object.values(e)),il=q(e=>Object.values(e));var $e=q((e,t)=>il(t).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function wn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function jt(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Pt=q((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),ll=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled||!wn(o))return null;function a(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...o,at:h}}const l=o.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;const u=Pt(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return a(m.descriptor.id)}const f=u.findIndex(m=>m.descriptor.id===c);f===-1&&C();const d=f-1;if(d<0)return null;const p=u[d];return a(p.descriptor.id)},_e=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const yo={point:Y,value:0},Je={invisible:{},visible:{},all:[]},cl={displaced:Je,displacedBy:yo,at:null};var ce=(e,t)=>n=>e<=n&&n<=t,vo=e=>{const t=ce(e.top,e.bottom),n=ce(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right);if(s&&a)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&a||u&&s}},dl=e=>{const t=ce(e.top,e.bottom),n=ce(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Nn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},wo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ul=e=>t=>{const n=ce(t.top,t.bottom),r=ce(t.left,t.right);return o=>e===Nn?n(o.top)&&n(o.bottom):r(o.left)&&r(o.right)};const pl=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Y;return ot(e,n)},fl=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,ml=(e,t,n)=>n(t)(e),Dn=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const s=r?pl(e,t):e;return fl(s,t,o)&&ml(s,n,o)},gl=e=>Dn({...e,isVisibleThroughFrameFn:vo}),No=e=>Dn({...e,isVisibleThroughFrameFn:dl}),hl=e=>Dn({...e,isVisibleThroughFrameFn:ul(e.destination.axis)}),bl=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const s=o[e];return s?s.shouldAnimate:!0};function xl(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return pe(xn(n,r))}function Xe({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:s}){return e.reduce(function(l,c){const u=xl(c,n),f=c.descriptor.id;if(l.all.push(f),!gl({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const p=bl(f,s,o),m={draggableId:f,shouldAnimate:p};return l.visible[f]=m,l},{all:[],visible:{},invisible:{}})}function yl(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function fr({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=yl(e,{inHomeList:t});return{displaced:Je,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function yt({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:s,index:a,forceShouldAnimate:l}){const c=_e(e,n);if(a==null)return fr({insideDestination:t,inHomeList:c,displacedBy:o,destination:n});const u=t.find(h=>h.descriptor.index===a);if(!u)return fr({insideDestination:t,inHomeList:c,displacedBy:o,destination:n});const f=Pt(e,t),d=t.indexOf(u),p=f.slice(d);return{displaced:Xe({afterDragging:p,destination:n,displacedBy:o,last:s,viewport:r.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function we(e,t){return!!t.effected[e]}var vl=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,l=n[s].descriptor.index;return we(s,o)?e?l:l-1:e?l+1:l},wl=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,s=e?o+1:o-1,a=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=t?l:l+1;return s<a||s>c?null:s},Nl=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:s,previousImpact:a,viewport:l,afterCritical:c})=>{const u=a.at;if(u||C(),u.type==="REORDER"){const d=wl({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:s});return d==null?null:yt({draggable:n,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}const f=vl({isMovingForward:e,destination:o,displaced:a.displaced,draggables:r,combine:u.combine,afterCritical:c});return f==null?null:yt({draggable:n,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},Dl=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=!!(e.visible[n]||e.invisible[n]);return we(n,t)?o?Y:Fe(r.point):o?r.point:Y},Sl=({afterCritical:e,impact:t,draggables:n})=>{const r=jt(t);r||C();const o=r.draggableId,s=n[o].page.borderBox.center,a=Dl({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return J(s,a)};const Do=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Cl=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Sn=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,mr=({axis:e,moveRelativeTo:t,isMoving:n})=>Ie(e.line,t.marginBox[e.end]+Do(e,n),Sn(e,t.marginBox,n)),gr=({axis:e,moveRelativeTo:t,isMoving:n})=>Ie(e.line,t.marginBox[e.start]-Cl(e,n),Sn(e,t.marginBox,n)),El=({axis:e,moveInto:t,isMoving:n})=>Ie(e.line,t.contentBox[e.start]+Do(e,n),Sn(e,t.contentBox,n));var Il=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const s=$e(r.descriptor.id,n),a=t.page,l=r.axis;if(!s.length)return El({axis:l,moveInto:r.page,isMoving:a});const{displaced:c,displacedBy:u}=e,f=c.all[0];if(f){const p=n[f];if(we(f,o))return gr({axis:l,moveRelativeTo:p.page,isMoving:a});const m=mt(p.page,u.point);return gr({axis:l,moveRelativeTo:m,isMoving:a})}const d=s[s.length-1];if(d.descriptor.id===t.descriptor.id)return a.borderBox.center;if(we(d.descriptor.id,o)){const p=mt(d.page,Fe(o.displacedBy.point));return mr({axis:l,moveRelativeTo:p,isMoving:a})}return mr({axis:l,moveRelativeTo:d.page,isMoving:a})},cn=(e,t)=>{const n=e.frame;return n?J(t,n.scroll.diff.displacement):t};const jl=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const s=t.page.borderBox.center,a=e.at;return!n||!a?s:a.type==="REORDER"?Il({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):Sl({impact:e,draggables:r,afterCritical:o})};var Tt=e=>{const t=jl(e),n=e.droppable;return n?cn(n,t):t},So=(e,t)=>{const n=oe(t,e.scroll.initial),r=Fe(n);return{frame:pe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function hr(e,t){return e.map(n=>t[n])}function Pl(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Tl=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const s=So(t,J(t.scroll.current,o)),a=n.frame?vn(n,J(n.frame.scroll.current,o)):n,l=e.displaced,c=Xe({afterDragging:hr(l.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),u=Xe({afterDragging:hr(l.all,r),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},d={},p=[l,c,u];return l.all.forEach(h=>{const g=Pl(h,p);if(g){d[h]=g;return}f[h]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:d}}},Al=(e,t)=>J(e.scroll.diff.displacement,t),Cn=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=Al(n,e),o=oe(r,t.page.borderBox.center);return J(t.client.borderBox.center,o)},Co=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:s=!1})=>{const a=oe(n,e.page.borderBox.center),c={target:ot(e.page.borderBox,a),destination:t,withDroppableDisplacement:o,viewport:r};return s?hl(c):No(c)},Rl=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:s,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!n.isEnabled)return null;const u=$e(n.descriptor.id,r),f=_e(t,n),d=ll({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:o})||Nl({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:o,viewport:s,afterCritical:c});if(!d)return null;const p=Tt({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:c});if(Co({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Cn({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:d,scrollJumpRequest:null};const h=oe(p,a),g=Tl({impact:d,viewport:s,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:l,impact:g,scrollJumpRequest:h}};const Q=e=>{const t=e.subject.active;return t||C(),t};var kl=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const s=n.subject.active;if(!s)return null;const a=n.axis,l=ce(s[a.start],s[a.end]),c=It(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>vo(o.frame)(Q(f))).filter(f=>{const d=Q(f);return e?s[a.crossAxisEnd]<d[a.crossAxisEnd]:d[a.crossAxisStart]<s[a.crossAxisStart]}).filter(f=>{const d=Q(f),p=ce(d[a.start],d[a.end]);return l(d[a.start])||l(d[a.end])||p(s[a.start])||p(s[a.end])}).sort((f,d)=>{const p=Q(f)[a.crossAxisStart],m=Q(d)[a.crossAxisStart];return e?p-m:m-p}).filter((f,d,p)=>Q(f)[a.crossAxisStart]===Q(p[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(f=>ce(Q(f)[a.start],Q(f)[a.end])(t[a.line]));return u.length===1?u[0]:u.length>1?u.sort((f,d)=>Q(f)[a.start]-Q(d)[a.start])[0]:c.sort((f,d)=>{const p=ur(t,pr(Q(f))),m=ur(t,pr(Q(d)));return p!==m?p-m:Q(f)[a.start]-Q(d)[a.start]})[0]};const br=(e,t)=>{const n=e.page.borderBox.center;return we(e.descriptor.id,t)?oe(n,t.displacedBy.point):n},Ol=(e,t)=>{const n=e.page.borderBox;return we(e.descriptor.id,t)?ot(n,Fe(t.displacedBy.point)):n};var Ml=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(a=>No({target:Ol(a,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=Ke(e,cn(n,br(a,o))),u=Ke(e,cn(n,br(l,o)));return c<u?-1:u<c?1:a.descriptor.index-l.descriptor.index})[0]||null,st=q(function(t,n){const r=n[t.line];return{value:r,point:Ie(t.line,r)}});const Bl=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Ie(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],c=$e(e.descriptor.id,n).reduce((u,f)=>u+f.client.marginBox[r.size],0)+t[r.line]-o;return c<=0?null:Ie(r.line,c)},Eo=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Io=(e,t,n)=>{const r=e.frame;_e(t,e)&&C(),e.subject.withPlaceholder&&C();const o=st(e.axis,t.displaceBy).point,s=Bl(e,o,n),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Me({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=s?J(r.scroll.max,s):r.scroll.max,c=Eo(r,l),u=Me({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},Ll=e=>{const t=e.subject.withPlaceholder;t||C();const n=e.frame;if(!n){const a=Me({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const r=t.oldFrameMaxScroll;r||C();const o=Eo(n,r),s=Me({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:s,frame:o}};var Fl=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:s,viewport:a,afterCritical:l})=>{if(!t){if(n.length)return null;const d={displaced:Je,displacedBy:yo,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=Tt({impact:d,draggable:r,droppable:s,draggables:o,afterCritical:l}),m=_e(r,s)?s:Io(s,r,o);return Co({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const c=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],u=(()=>{const d=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?d:d+1})(),f=st(s.axis,r.displaceBy);return yt({draggable:r,insideDestination:n,destination:s,viewport:a,displacedBy:f,last:Je,index:u})},$l=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:s,viewport:a,afterCritical:l})=>{const c=kl({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:a});if(!c)return null;const u=$e(c.descriptor.id,o),f=Ml({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:u,afterCritical:l}),d=Fl({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:o,moveRelativeTo:f,insideDestination:u,viewport:a,afterCritical:l});if(!d)return null;const p=Tt({impact:d,draggable:n,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Cn({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:d,scrollJumpRequest:null}},se=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const _l=(e,t)=>{const n=se(e);return n?t[n]:null};var Gl=({state:e,type:t})=>{const n=_l(e.impact,e.dimensions.droppables),r=!!n,o=e.dimensions.droppables[e.critical.droppable.id],s=n||o,a=s.axis.direction,l=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:d,droppables:p}=e.dimensions;return l?Rl({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,destination:s,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):$l({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,isOver:s,draggables:d,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Ee(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function jo(e){const t=ce(e.top,e.bottom),n=ce(e.left,e.right);return function(o){return t(o.y)&&n(o.x)}}function Ul(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Wl({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(s=>{const a=s.axis,l=Ie(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Ke(r,l)}}).sort((s,a)=>a.distance-s.distance);return o[0]?o[0].id:null}function Vl({pageBorderBox:e,draggable:t,droppables:n}){const r=It(n).filter(o=>{if(!o.isEnabled)return!1;const s=o.subject.active;if(!s||!Ul(e,s))return!1;if(jo(s)(e.center))return!0;const a=o.axis,l=s.center[a.crossAxisLine],c=e[a.crossAxisStart],u=e[a.crossAxisEnd],f=ce(s[a.crossAxisStart],s[a.crossAxisEnd]),d=f(c),p=f(u);return!d&&!p?!0:d?c<l:u>l});return r.length?r.length===1?r[0].descriptor.id:Wl({pageBorderBox:e,draggable:t,candidates:r}):null}const Po=(e,t)=>pe(ot(e,t));var Hl=(e,t)=>{const n=e.frame;return n?Po(t,n.scroll.diff.value):t};function To({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function zl({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var ql=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:s,afterCritical:a})=>{const l=n.axis,c=st(n.axis,t.displaceBy),u=c.value,f=e[l.start],d=e[l.end],m=Pt(t,r).find(g=>{const b=g.descriptor.id,v=g.page.borderBox.center[l.line],y=we(b,a),D=To({displaced:o,id:b});return y?D?d<=v:f<v-u:D?d<=v+u:f<v})||null,h=zl({draggable:t,closest:m,inHomeList:_e(t,n)});return yt({draggable:t,insideDestination:r,destination:n,viewport:s,last:o,displacedBy:c,index:h})};const Yl=4;var Kl=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const a=r.axis,l=st(r.axis,e.displaceBy),c=l.value,u=t[a.start],f=t[a.end],p=Pt(e,o).find(h=>{const g=h.descriptor.id,b=h.page.borderBox,y=b[a.size]/Yl,D=we(g,s),N=To({displaced:n.displaced,id:g});return D?N?f>b[a.start]+y&&f<b[a.end]-y:u>b[a.start]-c+y&&u<b[a.end]-c-y:N?f>b[a.start]+c+y&&f<b[a.end]+c-y:u>b[a.start]+y&&u<b[a.end]-y});return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},Ao=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:s,afterCritical:a})=>{const l=Po(t.page.borderBox,e),c=Vl({pageBorderBox:l,draggable:t,droppables:r});if(!c)return cl;const u=r[c],f=$e(u.descriptor.id,n),d=Hl(u,l);return Kl({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:o,destination:u,insideDestination:f,afterCritical:a})||ql({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:u,insideDestination:f,last:o.displaced,viewport:s,afterCritical:a})},En=(e,t)=>({...e,[t.descriptor.id]:t});const Jl=({previousImpact:e,impact:t,droppables:n})=>{const r=se(e),o=se(t);if(!r||r===o)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const a=Ll(s);return En(n,a)};var Xl=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const s=Jl({previousImpact:r,impact:o,droppables:n}),a=se(o);if(!a)return s;const l=n[a];if(_e(e,l)||l.subject.withPlaceholder)return s;const c=Io(l,e,t);return En(s,c)},Ve=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:s})=>{const a=r||e.viewport,l=n||e.dimensions,c=t||e.current.client.selection,u=oe(c,e.initial.client.selection),f={offset:u,selection:c,borderBoxCenter:J(e.initial.client.borderBoxCenter,u)},d={selection:J(f.selection,a.scroll.current),borderBoxCenter:J(f.borderBoxCenter,a.scroll.current),offset:J(f.offset,a.scroll.diff.value)},p={client:f,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:a,current:p};const m=l.draggables[e.critical.draggable.id],h=o||Ao({pageOffset:d.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),g=Xl({draggable:m,impact:h,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:g},impact:h,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Zl(e,t){return e.map(n=>t[n])}var Ro=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const s=e.displaced,a=Zl(s.all,n),l=Xe({afterDragging:a,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:s});return{...e,displaced:l}},ko=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:s})=>{const a=Tt({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return Cn({pageBorderBoxCenter:a,draggable:t,viewport:o})},Oo=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&C();const r=e.impact,o=n||e.viewport,s=t||e.dimensions,{draggables:a,droppables:l}=s,c=a[e.critical.draggable.id],u=se(r);u||C();const f=l[u],d=Ro({impact:r,viewport:o,destination:f,draggables:a}),p=ko({impact:d,draggable:c,droppable:f,draggables:a,viewport:o,afterCritical:e.afterCritical});return Ve({impact:d,clientSelection:p,state:e,dimensions:s,viewport:o})},Ql=e=>({index:e.index,droppableId:e.droppableId}),Mo=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=st(t.axis,e.displaceBy),s=$e(t.descriptor.id,n),a=s.indexOf(e);a===-1&&C();const l=s.slice(a+1),c=l.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:c};return{impact:{displaced:Xe({afterDragging:l,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:Ql(e.descriptor)}},afterCritical:u}},ec=(e,t)=>({draggables:e.draggables,droppables:En(e.droppables,t)}),tc=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=mt(e.client,t),o=gt(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},nc=e=>{const t=e.frame;return t||C(),t},rc=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(o=>{const s=o.descriptor.droppableId,a=t[s],c=nc(a).scroll.diff.value,u=J(r,c);return tc({draggable:o,offset:u,initialWindowScroll:n.scroll.initial})})},oc=({state:e,published:t})=>{const n=t.modified.map(v=>{const y=e.dimensions.droppables[v.droppableId];return vn(y,v.scroll)}),r={...e.dimensions.droppables,...bo(n)},o=xo(rc({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...o};t.removals.forEach(v=>{delete s[v]});const a={droppables:r,draggables:s},l=se(e.impact),c=l?a.droppables[l]:null,u=a.draggables[e.critical.draggable.id],f=a.droppables[e.critical.droppable.id],{impact:d,afterCritical:p}=Mo({draggable:u,home:f,draggables:s,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:d,h=Ao({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),g={...e,phase:"DRAGGING",impact:h,onLiftImpact:d,dimensions:a,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const dn=e=>e.movementMode==="SNAP",Gt=(e,t,n)=>{const r=ec(e.dimensions,t);return!dn(e)||n?Ve({state:e,dimensions:r}):Oo({state:e,dimensions:r})};function Ut(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const xr={phase:"IDLE",completed:null,shouldFlush:!1};var sc=(e=xr,t)=>{if(t.type==="FLUSH")return{...xr,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&C();const{critical:n,clientSelection:r,viewport:o,dimensions:s,movementMode:a}=t.payload,l=s.draggables[n.draggable.id],c=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:Y},f={client:u,page:{selection:J(u.selection,o.scroll.initial),borderBoxCenter:J(u.selection,o.scroll.initial),offset:J(u.selection,o.scroll.diff.value)}},d=It(s.droppables).every(g=>!g.isFixedOnPage),{impact:p,afterCritical:m}=Mo({draggable:l,home:c,draggables:s.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:s,initial:f,current:f,isWindowScrollAllowed:d,impact:p,afterCritical:m,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&C(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||C(),oc({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ee(e)||C();const{client:n}=t.payload;return ve(n,e.current.client.selection)?e:Ve({state:e,clientSelection:n,impact:dn(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ut(e);Ee(e)||C();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const s=vn(o,r);return Gt(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ee(e)||C();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||C(),o.isEnabled===r&&C();const s={...o,isEnabled:r};return Gt(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ee(e)||C();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||C(),o.isCombineEnabled===r&&C();const s={...o,isCombineEnabled:r};return Gt(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ee(e)||C(),e.isWindowScrollAllowed||C();const n=t.payload.newScroll;if(ve(e.viewport.scroll.current,n))return Ut(e);const r=So(e.viewport,n);return dn(e)?Oo({state:e,viewport:r}):Ve({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ee(e))return e;const n=t.payload.maxScroll;if(ve(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&C();const n=Gl({state:e,type:t.type});return n?Ve({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&C(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||C(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function B(e,t){return e instanceof Object&&"type"in e&&e.type===t}const ac=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ic=e=>({type:"LIFT",payload:e}),lc=e=>({type:"INITIAL_PUBLISH",payload:e}),cc=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),dc=()=>({type:"COLLECTION_STARTING",payload:null}),uc=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),pc=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),fc=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Bo=e=>({type:"MOVE",payload:e}),mc=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),gc=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),hc=()=>({type:"MOVE_UP",payload:null}),bc=()=>({type:"MOVE_DOWN",payload:null}),xc=()=>({type:"MOVE_RIGHT",payload:null}),yc=()=>({type:"MOVE_LEFT",payload:null}),In=()=>({type:"FLUSH",payload:null}),vc=e=>({type:"DROP_ANIMATE",payload:e}),jn=e=>({type:"DROP_COMPLETE",payload:e}),Lo=e=>({type:"DROP",payload:e}),wc=e=>({type:"DROP_PENDING",payload:e}),Fo=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Nc=e=>({getState:t,dispatch:n})=>r=>o=>{if(!B(o,"LIFT")){r(o);return}const{id:s,clientSelection:a,movementMode:l}=o.payload,c=t();c.phase==="DROP_ANIMATING"&&n(jn({completed:c.completed})),t().phase!=="IDLE"&&C(),n(In()),n(ac({draggableId:s,movementMode:l}));const f={draggableId:s,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:d,dimensions:p,viewport:m}=e.startPublishing(f);n(lc({critical:d,dimensions:p,clientSelection:a,movementMode:l,viewport:m}))},Dc=e=>()=>t=>n=>{B(n,"INITIAL_PUBLISH")&&e.dragging(),B(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(B(n,"FLUSH")||B(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Pn={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ze={opacity:{drop:0,combining:.7},scale:{drop:.75}},$o={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ce=`${$o.outOfTheWay}s ${Pn.outOfTheWay}`,He={fluid:`opacity ${Ce}`,snap:`transform ${Ce}, opacity ${Ce}`,drop:e=>{const t=`${e}s ${Pn.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Ce}`,placeholder:`height ${Ce}, width ${Ce}, margin ${Ce}`},yr=e=>ve(e,Y)?void 0:`translate(${e.x}px, ${e.y}px)`,un={moveTo:yr,drop:(e,t)=>{const n=yr(e);if(n)return t?`${n} scale(${Ze.scale.drop})`:n}},{minDropTime:pn,maxDropTime:_o}=$o,Sc=_o-pn,vr=1500,Cc=.6;var Ec=({current:e,destination:t,reason:n})=>{const r=Ke(e,t);if(r<=0)return pn;if(r>=vr)return _o;const o=r/vr,s=pn+Sc*o,a=n==="CANCEL"?s*Cc:s;return Number(a.toFixed(2))},Ic=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:s,droppables:a}=n,l=se(e),c=l?a[l]:null,u=a[t.descriptor.droppableId],f=ko({impact:e,draggable:t,draggables:s,afterCritical:o,droppable:c||u,viewport:r});return oe(f,t.client.borderBox.center)},jc=({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:Ro({draggables:e,impact:s,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Je},didDropInsideDroppable:!0};const Pc=({getState:e,dispatch:t})=>n=>r=>{if(!B(r,"DROP")){n(r);return}const o=e(),s=r.payload.reason;if(o.phase==="COLLECTING"){t(wc({reason:s}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&C(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||C();const l=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:d}=jc({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=d?wn(f):null,m=d?jt(f):null,h={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:h,reason:s,mode:o.movementMode,destination:p,combine:m},b=Ic({impact:f,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:f};if(!(!ve(o.current.client.offset,b)||!!g.combine)){t(jn({completed:v}));return}const D=Ec({current:o.current.client.offset,destination:b,reason:s});t(vc({newHomeClientOffset:b,dropDuration:D,completed:v}))};var Go=()=>({x:window.pageXOffset,y:window.pageYOffset});function Tc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Ac({onWindowScroll:e}){function t(){e(Go())}const n=Ye(t),r=Tc(n);let o=ye;function s(){return o!==ye}function a(){s()&&C(),o=le(window,[r])}function l(){s()||C(),n.cancel(),o(),o=ye}return{start:a,stop:l,isActive:s}}const Rc=e=>B(e,"DROP_COMPLETE")||B(e,"DROP_ANIMATE")||B(e,"FLUSH"),kc=e=>{const t=Ac({onWindowScroll:n=>{e.dispatch(mc({newScroll:n}))}});return n=>r=>{!t.isActive()&&B(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Rc(r)&&t.stop(),n(r)}};var Oc=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return o.wasCalled=()=>t,o},Mc=()=>{const e=[],t=o=>{const s=e.findIndex(l=>l.timerId===o);s===-1&&C();const[a]=e.splice(s,1);a.callback()};return{add:o=>{const s=setTimeout(()=>t(s)),a={timerId:s,callback:o};e.push(a)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const Bc=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Lc=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Fc=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Ge=(e,t)=>{t()},at=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Wt(e,t,n,r){if(!e){n(r(t));return}const o=Oc(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var $c=(e,t)=>{const n=Mc();let r=null;const o=(d,p)=>{r&&C(),Ge("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:d,mode:p})})},s=(d,p)=>{r&&C(),Ge("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(at(d,p))})},a=(d,p)=>{r&&C();const m=at(d,p);r={mode:p,lastCritical:d,lastLocation:m.source,lastCombine:null},n.add(()=>{Ge("onDragStart",()=>Wt(e().onDragStart,m,t,ct.onDragStart))})},l=(d,p)=>{const m=wn(p),h=jt(p);r||C();const g=!Fc(d,r.lastCritical);g&&(r.lastCritical=d);const b=!Bc(r.lastLocation,m);b&&(r.lastLocation=m);const v=!Lc(r.lastCombine,h);if(v&&(r.lastCombine=h),!g&&!b&&!v)return;const y={...at(d,r.mode),combine:h,destination:m};n.add(()=>{Ge("onDragUpdate",()=>Wt(e().onDragUpdate,y,t,ct.onDragUpdate))})},c=()=>{r||C(),n.flush()},u=d=>{r||C(),r=null,Ge("onDragEnd",()=>Wt(e().onDragEnd,d,t,ct.onDragEnd))};return{beforeCapture:o,beforeStart:s,start:a,update:l,flush:c,drop:u,abort:()=>{if(!r)return;const d={...at(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(d)}}},_c=(e,t)=>{const n=$c(e,t);return r=>o=>s=>{if(B(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(B(s,"INITIAL_PUBLISH")){const l=s.payload.critical;n.beforeStart(l,s.payload.movementMode),o(s),n.start(l,s.payload.movementMode);return}if(B(s,"DROP_COMPLETE")){const l=s.payload.completed.result;n.flush(),o(s),n.drop(l);return}if(o(s),B(s,"FLUSH")){n.abort();return}const a=r.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}};const Gc=e=>t=>n=>{if(!B(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&C(),e.dispatch(jn({completed:r.completed}))},Uc=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return o=>s=>{if((B(s,"FLUSH")||B(s,"DROP_COMPLETE")||B(s,"DROP_ANIMATION_FINISHED"))&&r(),o(s),!B(s,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Fo())}};n=requestAnimationFrame(()=>{n=null,t=le(window,[a])})}};var Wc=e=>()=>t=>n=>{(B(n,"DROP_COMPLETE")||B(n,"FLUSH")||B(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Vc=e=>{let t=!1;return()=>n=>r=>{if(B(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(B(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(B(r,"DROP_COMPLETE")){t=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Hc=e=>B(e,"DROP_COMPLETE")||B(e,"DROP_ANIMATE")||B(e,"FLUSH");var zc=e=>t=>n=>r=>{if(Hc(r)){e.stop(),n(r);return}if(B(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();o.phase!=="DRAGGING"&&C(),e.start(o);return}n(r),e.scroll(t.getState())};const qc=e=>t=>n=>{if(t(n),!B(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Lo({reason:r.reason})))},Yc=no;var Kc=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:s})=>to(sc,Yc(Ua(Dc(n),Wc(e),Nc(e),Pc,Gc,Uc,qc,zc(s),kc,Vc(t),_c(r,o))));const Vt=()=>({additions:{},removals:{},modified:{}});function Jc({registry:e,callbacks:t}){let n=Vt(),r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:f}=n,d=Object.keys(c).map(h=>e.draggable.getById(h).getDimension(Y)).sort((h,g)=>h.descriptor.index-g.descriptor.index),p=Object.keys(f).map(h=>{const b=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:b}}),m={additions:d,removals:Object.keys(u),modified:p};n=Vt(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],o()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Vt())}}}var Uo=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=oe({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Wo=()=>{const e=document.documentElement;return e||C(),e},Vo=()=>{const e=Wo();return Uo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Xc=()=>{const e=Go(),t=Vo(),n=e.y,r=e.x,o=Wo(),s=o.clientWidth,a=o.clientHeight,l=r+s,c=n+a;return{frame:pe({top:n,left:r,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Y,displacement:Y}}}},Zc=({critical:e,scrollOptions:t,registry:n})=>{const r=Xc(),o=r.scroll.current,s=e.droppable,a=n.droppable.getAllByType(s.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,t)),l=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:xo(l),droppables:bo(a)},critical:e,viewport:r}};function wr(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Qc=(e,t)=>{let n=null;const r=Jc({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(p,m)=>{e.droppable.exists(p)||C(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},s=(p,m)=>{n&&(e.droppable.exists(p)||C(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},a=(p,m)=>{n&&(e.droppable.exists(p)||C(),t.updateDroppableScroll({id:p,newScroll:m}))},l=(p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||C();const m=n.critical.draggable;p.type==="ADDITION"&&wr(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&wr(e,m,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:a,startPublishing:p=>{n&&C();const m=e.draggable.getById(p.draggableId),h=e.droppable.getById(m.descriptor.droppableId),g={draggable:m.descriptor,droppable:h.descriptor},b=e.subscribe(u);return n={critical:g,unsubscribe:b},Zc({critical:g,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},Ho=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",ed=e=>{window.scrollBy(e.x,e.y)};const td=q(e=>It(e).filter(t=>!(!t.isEnabled||!t.frame))),nd=(e,t)=>td(t).find(r=>(r.frame||C(),jo(r.frame.pageMarginBox)(e)))||null;var rd=({center:e,destination:t,droppables:n})=>{if(t){const o=n[t];return o.frame?o:null}return nd(e,n)};const Qe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var od=(e,t,n=()=>Qe)=>{const r=n(),o=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:s}},zo=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Tn=1,sd=(e,t,n=()=>Qe)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Tn;const s=1-zo({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(s);return Math.ceil(a)},ad=(e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,a=t,l=s,u=Date.now()-a;if(u>=s)return e;if(u<o)return Tn;const f=zo({startOfRange:o,endOfRange:l,current:u}),d=e*r.ease(f);return Math.ceil(d)},Nr=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const s=sd(e,t,o);return s===0?0:r?Math.max(ad(s,n,o),Tn):s},Dr=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=od(e,r,s);return t[r.end]<t[r.start]?Nr({distanceToEdge:t[r.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s}):-1*Nr({distanceToEdge:t[r.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})},id=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return!o&&!r?n:o&&r?null:{x:o?0:n.x,y:r?0:n.y}};const ld=ho(e=>e===0?0:e);var qo=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},l=Dr({container:t,distanceToEdges:a,dragStartTime:e,axis:Nn,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),c=Dr({container:t,distanceToEdges:a,dragStartTime:e,axis:wo,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),u=ld({x:c,y:l});if(ve(u,Y))return null;const f=id({container:t,subject:n,proposedScroll:u});return f?ve(f,Y)?null:f:null};const cd=ho(e=>e===0?0:e>0?1:-1),An=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const o=J(t,r),s={x:e(o.x,n.x),y:e(o.y,n.y)};return ve(s,Y)?null:s}})(),Yo=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=cd(n),s=An({max:r,current:t,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},Rn=(e,t)=>Yo({current:e.scroll.current,max:e.scroll.max,change:t}),dd=(e,t)=>{if(!Rn(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return An({current:r,max:n,change:t})},kn=(e,t)=>{const n=e.frame;return n?Yo({current:n.scroll.current,max:n.scroll.max,change:t}):!1},ud=(e,t)=>{const n=e.frame;return!n||!kn(e,t)?null:An({current:n.scroll.current,max:n.scroll.max,change:t})};var pd=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=qo({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return a&&Rn(e,a)?a:null},fd=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=e.frame;if(!a)return null;const l=qo({dragStartTime:r,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return l&&kn(e,l)?l:null},Sr=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:s})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,p=pd({dragStartTime:t,viewport:d,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(p){r(p);return}}const u=rd({center:a,destination:se(e.impact),droppables:e.dimensions.droppables});if(!u)return;const f=fd({dragStartTime:t,droppable:u,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:s});f&&o(u.descriptor.id,f)},md=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Qe})=>{const r=Ye(e),o=Ye(t);let s=null;const a=u=>{s||C();const{shouldUseTimeDampening:f,dragStartTime:d}=s;Sr({state:u,scrollWindow:r,scrollDroppable:o,dragStartTime:d,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:u=>{s&&C();const f=Date.now();let d=!1;const p=()=>{d=!0};Sr({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),s={dragStartTime:f,shouldUseTimeDampening:d},d&&a(u)},stop:()=>{s&&(r.cancel(),o.cancel(),s=null)},scroll:a}},gd=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(l,c)=>{const u=J(l.current.client.selection,c);e({client:u})},o=(l,c)=>{if(!kn(l,c))return c;const u=ud(l,c);if(!u)return t(l.descriptor.id,c),null;const f=oe(c,u);return t(l.descriptor.id,f),oe(c,f)},s=(l,c,u)=>{if(!l||!Rn(c,u))return u;const f=dd(c,u);if(!f)return n(u),null;const d=oe(u,f);return n(d),oe(u,d)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=se(l.impact);u||C();const f=o(l.dimensions.droppables[u],c);if(!f)return;const d=l.viewport,p=s(l.isWindowScrollAllowed,d,f);p&&r(l,p)}},hd=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=md({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=gd({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&s(c)}},start:o.start,stop:o.stop}};const Be="data-rfd",Le=(()=>{const e=`${Be}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),fn=(()=>{const e=`${Be}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),bd=(()=>{const e=`${Be}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Cr={contextId:`${Be}-scroll-container-context-id`},xd=e=>t=>`[${t}="${e}"]`,Ue=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),yd="pointer-events: none;";var vd=e=>{const t=xd(e),n=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Le.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:yd,dropAnimating:l}}})(),r=(()=>{const l=`
      transition: ${He.outOfTheWay};
    `;return{selector:t(fn.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),o={selector:t(bd.contextId),styles:{always:"overflow-anchor: none;"}},a=[r,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ue(a,"always"),resting:Ue(a,"resting"),dragging:Ue(a,"dragging"),dropAnimating:Ue(a,"dropAnimating"),userCancel:Ue(a,"userCancel")}};const ae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect,Ht=()=>{const e=document.querySelector("head");return e||C(),e},Er=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function wd(e,t){const n=M(()=>vd(e),[e]),r=x.useRef(null),o=x.useRef(null),s=j(q(d=>{const p=o.current;p||C(),p.textContent=d}),[]),a=j(d=>{const p=r.current;p||C(),p.textContent=d},[]);ae(()=>{!r.current&&!o.current||C();const d=Er(t),p=Er(t);return r.current=d,o.current=p,d.setAttribute(`${Be}-always`,e),p.setAttribute(`${Be}-dynamic`,e),Ht().appendChild(d),Ht().appendChild(p),a(n.always),s(n.resting),()=>{const m=h=>{const g=h.current;g||C(),Ht().removeChild(g),h.current=null};m(r),m(o)}},[t,a,s,n.always,n.resting,e]);const l=j(()=>s(n.dragging),[s,n.dragging]),c=j(d=>{if(d==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=j(()=>{o.current&&s(n.resting)},[s,n.resting]);return M(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function Ko(e,t){return Array.from(e.querySelectorAll(t))}var Jo=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function At(e){return e instanceof Jo(e).HTMLElement}function Nd(e,t){const n=`[${Le.contextId}="${e}"]`,r=Ko(document,n);if(!r.length)return null;const o=r.find(s=>s.getAttribute(Le.draggableId)===t);return!o||!At(o)?null:o}function Dd(e){const t=x.useRef({}),n=x.useRef(null),r=x.useRef(null),o=x.useRef(!1),s=j(function(p,m){const h={id:p,focus:m};return t.current[p]=h,function(){const b=t.current;b[p]!==h&&delete b[p]}},[]),a=j(function(p){const m=Nd(e,p);m&&m!==document.activeElement&&m.focus()},[e]),l=j(function(p,m){n.current===p&&(n.current=m)},[]),c=j(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&a(p)}))},[a]),u=j(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(Le.draggableId)===p&&(n.current=p)},[]);return ae(()=>(o.current=!0,function(){o.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),M(()=>({register:s,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[s,u,c,l])}function Sd(){const e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){const m=t.indexOf(d);m!==-1&&t.splice(m,1)}}function r(d){t.length&&t.forEach(p=>p(d))}function o(d){return e.draggables[d]||null}function s(d){const p=o(d);return p||C(),p}const a={register:d=>{e.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===d.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const p=d.descriptor.id,m=o(p);m&&d.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:s,findById:o,exists:d=>!!o(d),getAllByType:d=>Object.values(e.draggables).filter(p=>p.descriptor.type===d)};function l(d){return e.droppables[d]||null}function c(d){const p=l(d);return p||C(),p}const u={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const p=l(d.descriptor.id);p&&d.uniqueId===p.uniqueId&&delete e.droppables[d.descriptor.id]},getById:c,findById:l,exists:d=>!!l(d),getAllByType:d=>Object.values(e.droppables).filter(p=>p.descriptor.type===d)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:n,clean:f}}function Cd(){const e=M(Sd,[]);return x.useEffect(()=>function(){e.clean()},[e]),e}var On=W.createContext(null),vt=()=>{const e=document.body;return e||C(),e};const Ed={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Id=e=>`rfd-announcement-${e}`;function jd(e){const t=M(()=>Id(e),[e]),n=x.useRef(null);return x.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ht(s.style,Ed),vt().appendChild(s),function(){setTimeout(function(){const c=vt();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[t]),j(o=>{const s=n.current;if(s){s.textContent=o;return}},[])}const Pd={separator:"::"};function Mn(e,t=Pd){const n=W.useId();return M(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function Td({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Ad({contextId:e,text:t}){const n=Mn("hidden-text",{separator:"-"}),r=M(()=>Td({contextId:e,uniqueId:n}),[n,e]);return x.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",vt().appendChild(s),function(){const l=vt();l.contains(s)&&l.removeChild(s)}},[r,t]),r}var Rt=W.createContext(null);function Xo(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),t}function Rd(){let e=null;function t(){return!!e}function n(a){return a===e}function r(a){e&&C();const l={abandon:a};return e=l,l}function o(){e||C(),e=null}function s(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:n,claim:r,release:o,tryAbandon:s}}function et(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const kd=9,Od=13,Bn=27,Zo=32,Md=33,Bd=34,Ld=35,Fd=36,$d=37,_d=38,Gd=39,Ud=40,Wd={[Od]:!0,[kd]:!0};var Qo=e=>{Wd[e.keyCode]&&e.preventDefault()};const kt=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),es=0,Ir=5;function Vd(e,t){return Math.abs(t.x-e.x)>=Ir||Math.abs(t.y-e.y)>=Ir}const jr={type:"IDLE"};function Hd({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:s,clientX:a,clientY:l}=o;if(s!==es)return;const c={x:a,y:l},u=n();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&C();const f=u.point;if(!Vd(f,c))return;o.preventDefault();const d=u.actions.fluidLift(c);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:o=>{const s=n();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){e();return}if(o.keyCode===Bn){o.preventDefault(),e();return}Qo(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const s=n();if(s.type==="IDLE"&&C(),s.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:kt,fn:e}]}function zd(e){const t=x.useRef(jr),n=x.useRef(ye),r=M(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==es||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const p=e.findClosestDraggableId(d);if(!p)return;const m=e.tryGetLock(p,a,{sourceEvent:d});if(!m)return;d.preventDefault();const h={x:d.clientX,y:d.clientY};n.current(),u(m,h)}}),[e]),o=M(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const d=e.findClosestDraggableId(f);if(!d)return;const p=e.findOptionsForDraggable(d);p&&(p.shouldRespectForcePress||e.canGetLock(d)&&f.preventDefault())}}),[e]),s=j(function(){const d={passive:!1,capture:!0};n.current=le(window,[o,r],d)},[o,r]),a=j(()=>{t.current.type!=="IDLE"&&(t.current=jr,n.current(),s())},[s]),l=j(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=j(function(){const d={capture:!0,passive:!1},p=Hd({cancel:l,completed:a,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=le(window,p,d)},[l,a]),u=j(function(d,p){t.current.type!=="IDLE"&&C(),t.current={type:"PENDING",point:p,actions:d},c()},[c]);ae(function(){return s(),function(){n.current()}},[s])}function qd(){}const Yd={[Bd]:!0,[Md]:!0,[Fd]:!0,[Ld]:!0};function Kd(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Bn){o.preventDefault(),n();return}if(o.keyCode===Zo){o.preventDefault(),r();return}if(o.keyCode===Ud){o.preventDefault(),e.moveDown();return}if(o.keyCode===_d){o.preventDefault(),e.moveUp();return}if(o.keyCode===Gd){o.preventDefault(),e.moveRight();return}if(o.keyCode===$d){o.preventDefault(),e.moveLeft();return}if(Yd[o.keyCode]){o.preventDefault();return}Qo(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:kt,fn:n}]}function Jd(e){const t=x.useRef(qd),n=M(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Zo)return;const a=e.findClosestDraggableId(s);if(!a)return;const l=e.tryGetLock(a,f,{sourceEvent:s});if(!l)return;s.preventDefault();let c=!0;const u=l.snapLift();t.current();function f(){c||C(),c=!1,t.current(),r()}t.current=le(window,Kd(u,f),{capture:!0,passive:!1})}}),[e]),r=j(function(){const s={passive:!1,capture:!0};t.current=le(window,[n],s)},[n]);ae(function(){return r(),function(){t.current()}},[r])}const zt={type:"IDLE"},Xd=120,Zd=.15;function Qd({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Bn&&n.preventDefault(),e()}},{eventName:kt,fn:e}]}function eu({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:s,clientY:a}=r.touches[0],l={x:s,y:a};r.preventDefault(),o.actions.move(l)}},{eventName:"touchend",fn:r=>{const o=n();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=n();o.type==="IDLE"&&C();const s=r.touches[0];if(!s||!(s.force>=Zd))return;const l=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){l&&e();return}if(l){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:kt,fn:e}]}function tu(e){const t=x.useRef(zt),n=x.useRef(ye),r=j(function(){return t.current},[]),o=j(function(m){t.current=m},[]),s=M(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const g=e.tryGetLock(h,l,{sourceEvent:m});if(!g)return;const b=m.touches[0],{clientX:v,clientY:y}=b,D={x:v,y};n.current(),d(g,D)}}),[e]),a=j(function(){const m={capture:!0,passive:!1};n.current=le(window,[s],m)},[s]),l=j(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o(zt),n.current(),a())},[a,o]),c=j(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=j(function(){const m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:r},g=le(window,eu(h),m),b=le(window,Qd(h),m);n.current=function(){g(),b()}},[c,r,l]),f=j(function(){const m=r();m.type!=="PENDING"&&C();const h=m.actions.fluidLift(m.point);o({type:"DRAGGING",actions:h,hasMoved:!1})},[r,o]),d=j(function(m,h){r().type!=="IDLE"&&C();const g=setTimeout(f,Xd);o({type:"PENDING",point:h,actions:m,longPressTimerId:g}),u()},[u,r,o,f]);ae(function(){return a(),function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),o(zt))}},[r,a,o]),ae(function(){return le(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const nu=["input","button","textarea","select","option","optgroup","video","audio"];function ts(e,t){if(t==null)return!1;if(nu.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:ts(e,t.parentElement)}function ru(e,t){const n=t.target;return At(n)?ts(e,n):!1}var ou=e=>pe(e.getBoundingClientRect()).center;function su(e){return e instanceof Jo(e).Element}const au=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function ns(e,t){return e==null?null:e[au](t)?e:ns(e.parentElement,t)}function iu(e,t){return e.closest?e.closest(t):ns(e,t)}function lu(e){return`[${Le.contextId}="${e}"]`}function cu(e,t){const n=t.target;if(!su(n))return null;const r=lu(e),o=iu(n,r);return!o||!At(o)?null:o}function du(e,t){const n=cu(e,t);return n?n.getAttribute(Le.draggableId):null}function uu(e,t){const n=`[${fn.contextId}="${e}"]`,o=Ko(document,n).find(s=>s.getAttribute(fn.id)===t);return!o||!At(o)?null:o}function pu(e){e.preventDefault()}function it({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function rs({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!(!o||!o.options.isEnabled||!Ho(t.getState(),r))}function fu({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:s,sourceEvent:a}){if(!rs({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const c=r.draggable.getById(o),u=uu(t,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&ru(u,a))return null;const f=e.claim(s||ye);let d="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function m(){return e.isActive(f)}function h(E,S){it({expected:E,phase:d,isLockActive:m,shouldWarn:!0})&&n.dispatch(S())}const g=h.bind(null,"DRAGGING");function b(E){function S(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(S(),C()),n.dispatch(ic(E.liftActionArgs)),d="DRAGGING";function P(A,_={shouldBlockNextClick:!1}){if(E.cleanup(),_.shouldBlockNextClick){const O=le(window,[{eventName:"click",fn:pu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}S(),n.dispatch(Lo({reason:A}))}return{isActive:()=>it({expected:"DRAGGING",phase:d,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:A=>P("DROP",A),cancel:A=>P("CANCEL",A),...E.actions}}function v(E){const S=Ye(A=>{g(()=>Bo({client:A}))});return{...b({liftActionArgs:{id:o,clientSelection:E,movementMode:"FLUID"},cleanup:()=>S.cancel(),actions:{move:S}}),move:S}}function y(){const E={moveUp:()=>g(hc),moveRight:()=>g(xc),moveDown:()=>g(bc),moveLeft:()=>g(yc)};return b({liftActionArgs:{id:o,clientSelection:ou(u),movementMode:"SNAP"},cleanup:ye,actions:E})}function D(){it({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>it({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:v,snapLift:y,abort:D}}const mu=[zd,Jd,tu];function gu({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const s=[...o?mu:[],...r||[]],a=x.useState(()=>Rd())[0],l=j(function(b,v){et(b)&&!et(v)&&a.tryAbandon()},[a]);ae(function(){let b=t.getState();return t.subscribe(()=>{const y=t.getState();l(b,y),b=y})},[a,t,l]),ae(()=>a.tryAbandon,[a.tryAbandon]);const c=j(g=>rs({lockAPI:a,registry:n,store:t,draggableId:g}),[a,n,t]),u=j((g,b,v)=>fu({lockAPI:a,registry:n,contextId:e,store:t,draggableId:g,forceSensorStop:b||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[e,a,n,t]),f=j(g=>du(e,g),[e]),d=j(g=>{const b=n.draggable.findById(g);return b?b.options:null},[n.draggable]),p=j(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(In()))},[a,t]),m=j(()=>a.isClaimed(),[a]),h=M(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:d,tryReleaseLock:p,isLockClaimed:m}),[c,u,f,d,p,m]);for(let g=0;g<s.length;g++)s[g](h)}const hu=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Lr.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),bu=e=>({...Qe,...e.autoScrollerOptions,durationDampening:{...Qe.durationDampening,...e.autoScrollerOptions}});function We(e){return e.current||C(),e.current}function xu(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:s}=e,a=x.useRef(null),l=Xo(e),c=j(()=>hu(l.current),[l]),u=j(()=>bu(l.current),[l]),f=jd(t),d=Ad({contextId:t,text:s}),p=wd(t,o),m=j(O=>{We(a).dispatch(O)},[]),h=M(()=>nr({publishWhileDragging:cc,updateDroppableScroll:uc,updateDroppableIsEnabled:pc,updateDroppableIsCombineEnabled:fc,collectionStarting:dc},m),[m]),g=Cd(),b=M(()=>Qc(g,h),[g,h]),v=M(()=>hd({scrollWindow:ed,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:u,...nr({move:Bo},m)}),[b.scrollDroppable,m,u]),y=Dd(t),D=M(()=>Kc({announce:f,autoScroller:v,dimensionMarshal:b,focusMarshal:y,getResponders:c,styleMarshal:p}),[f,v,b,y,c,p]);a.current=D;const N=j(()=>{const O=We(a);O.getState().phase!=="IDLE"&&O.dispatch(In())},[]),E=j(()=>{const O=We(a).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),S=M(()=>({isDragging:E,tryAbort:N}),[E,N]);n(S);const P=j(O=>Ho(We(a).getState(),O),[]),A=j(()=>Ee(We(a).getState()),[]),_=M(()=>({marshal:b,focus:y,contextId:t,canLift:P,isMovementAllowed:A,dragHandleUsageInstructionsId:d,registry:g}),[t,b,d,y,P,A,g]);return gu({contextId:t,store:D,registry:g,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),x.useEffect(()=>N,[N]),W.createElement(Rt.Provider,{value:_},W.createElement(Wi,{context:On,store:D},e.children))}function yu(){return W.useId()}function vu(e){const t=yu(),n=e.dragHandleUsageInstructions||ct.dragHandleUsageInstructions;return W.createElement(Ji,null,r=>W.createElement(xu,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Pr={dragging:5e3,dropAnimating:4500},wu=(e,t)=>t?He.drop(t.duration):e?He.snap:He.fluid,Nu=(e,t)=>{if(e)return t?Ze.opacity.drop:Ze.opacity.combining},Du=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Su(e){const n=e.dimension.client,{offset:r,combineWith:o,dropping:s}=e,a=!!o,l=Du(e),c=!!s,u=c?un.drop(r,a):un.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:wu(l,s),transform:u,opacity:Nu(a,c),zIndex:c?Pr.dropAnimating:Pr.dragging,pointerEvents:"none"}}function Cu(e){return{transform:un.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Eu(e){return e.type==="DRAGGING"?Su(e):Cu(e)}function Iu(e,t,n=Y){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),s=co(o,r),a=gt(s,n),l={client:s,tagName:t.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:s,page:a}}function ju(e){const t=Mn("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:l}=e,c=M(()=>({canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:l}),[s,l,a]),u=j(m=>{const h=o();return h||C(),Iu(n,h,m)},[n,o]),f=M(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),d=x.useRef(f),p=x.useRef(!0);ae(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),ae(()=>{if(p.current){p.current=!1;return}const m=d.current;d.current=f,r.draggable.update(f,m)},[f,r.draggable])}var Ln=W.createContext(null);function wt(e){const t=x.useContext(e);return t||C(),t}function Pu(e){e.preventDefault()}const Tu=e=>{const t=x.useRef(null),n=j((S=null)=>{t.current=S},[]),r=j(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:s,registry:a}=wt(Rt),{type:l,droppableId:c}=wt(Ln),u=M(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:f,draggableId:d,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:g,mapped:b,dropAnimationFinished:v}=e;if(!g){const S=M(()=>({descriptor:u,registry:a,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:p}),[u,a,r,h,m,p]);ju(S)}const y=M(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:Pu}:null,[o,s,d,p]),D=j(S=>{b.type==="DRAGGING"&&b.dropping&&S.propertyName==="transform"&&Lr.flushSync(v)},[v,b]),N=M(()=>{const S=Eu(b),P=b.type==="DRAGGING"&&b.dropping?D:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":d,style:S,onTransitionEnd:P},dragHandleProps:y}},[o,y,d,b,D,n]),E=M(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return W.createElement(W.Fragment,null,f(N,b.snapshot,E))};var os=(e,t)=>e===t,ss=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const Au=e=>e.combine?e.combine.draggableId:null,Ru=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function ku(){const e=q((o,s)=>({x:o,y:s})),t=q((o,s,a=null,l=null,c=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:a,combineWith:l,combineTargetFor:null})),n=q((o,s,a,l,c=null,u=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:s,offset:o,dimension:a,forceShouldAnimate:f,snapshot:t(s,l,c,u,null)}}));return(o,s)=>{if(et(o)){if(o.critical.draggable.id!==s.draggableId)return null;const a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],c=se(o.impact),u=Ru(o.impact),f=o.forceShouldAnimate;return n(e(a.x,a.y),o.movementMode,l,s.isClone,c,u,f)}if(o.phase==="DROP_ANIMATING"){const a=o.completed;if(a.result.draggableId!==s.draggableId)return null;const l=s.isClone,c=o.dimensions.draggables[s.draggableId],u=a.result,f=u.mode,d=ss(u),p=Au(u),h={duration:o.dropDuration,curve:Pn.drop,moveTo:o.newHomeClientOffset,opacity:p?Ze.opacity.drop:null,scale:p?Ze.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:c,dropping:h,draggingOver:d,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,l,d,p,h)}}}return null}}function as(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Ou={mapped:{type:"SECONDARY",offset:Y,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:as(null)}};function Mu(){const e=q((a,l)=>({x:a,y:l})),t=q(as),n=q((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),r=a=>a?n(Y,a,!0):null,o=(a,l,c,u)=>{const f=c.displaced.visible[a],d=!!(u.inVirtualList&&u.effected[a]),p=jt(c),m=p&&p.draggableId===a?l:null;if(!f){if(!d)return r(m);if(c.displaced.invisible[a])return null;const b=Fe(u.displacedBy.point),v=e(b.x,b.y);return n(v,m,!0)}if(d)return r(m);const h=c.displacedBy.point,g=e(h.x,h.y);return n(g,m,f.shouldAnimate)};return(a,l)=>{if(et(a))return a.critical.draggable.id===l.draggableId?null:o(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:o(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const Bu=()=>{const e=ku(),t=Mu();return(r,o)=>e(r,o)||t(r,o)||Ou},Lu={dropAnimationFinished:Fo},Fu=lo(Bu,Lu,null,{context:On,areStatePropsEqual:os})(Tu);function is(e){return wt(Ln).isUsingCloneFor===e.draggableId&&!e.isClone?null:W.createElement(Fu,e)}function $u(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return W.createElement(is,ht({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const ls=e=>t=>e===t,_u=ls("scroll"),Gu=ls("auto"),Tr=(e,t)=>t(e.overflowX)||t(e.overflowY),Uu=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Tr(n,_u)||Tr(n,Gu)},Wu=()=>!1,cs=e=>e==null?null:e===document.body?Wu()?e:null:e===document.documentElement?null:Uu(e)?e:cs(e.parentElement);var mn=e=>({x:e.scrollLeft,y:e.scrollTop});const ds=e=>e?window.getComputedStyle(e).position==="fixed"?!0:ds(e.parentElement):!1;var Vu=e=>{const t=cs(e),n=ds(e);return{closestScrollable:t,isFixedOnPage:n}},Hu=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:s,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:p,client:m}=l,h=Uo({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:h,diff:{value:Y,displacement:Y}}}})(),u=o==="vertical"?Nn:wo,f=Me({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:s,page:a,frame:c,subject:f}};const zu=(e,t)=>{const n=uo(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,a=o+t.scrollWidth,c=xn({top:r,right:a,bottom:s,left:o},n.border);return yn({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var qu=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:s,isCombineEnabled:a,shouldClipSubject:l})=>{const c=n.closestScrollable,u=zu(e,c),f=gt(u,r),d=(()=>{if(!c)return null;const m=uo(c),h={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:gt(m,r),scroll:mn(c),scrollSize:h,shouldClipSubject:l}})();return Hu({descriptor:t,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:o,client:u,page:f,closest:d})};const Yu={passive:!1},Ku={passive:!0};var Ar=e=>e.shouldPublishImmediately?Yu:Ku;const lt=e=>e&&e.env.closestScrollable||null;function Ju(e){const t=x.useRef(null),n=wt(Rt),r=Mn("droppable"),{registry:o,marshal:s}=n,a=Xo(e),l=M(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=x.useRef(l),u=M(()=>q((N,E)=>{t.current||C();const S={x:N,y:E};s.updateDroppableScroll(l.id,S)}),[l.id,s]),f=j(()=>{const N=t.current;return!N||!N.env.closestScrollable?Y:mn(N.env.closestScrollable)},[]),d=j(()=>{const N=f();u(N.x,N.y)},[f,u]),p=M(()=>Ye(d),[d]),m=j(()=>{const N=t.current,E=lt(N);if(N&&E||C(),N.scrollOptions.shouldPublishImmediately){d();return}p()},[p,d]),h=j((N,E)=>{t.current&&C();const S=a.current,P=S.getDroppableRef();P||C();const A=Vu(P),_={ref:P,descriptor:l,env:A,scrollOptions:E};t.current=_;const O=qu({ref:P,descriptor:l,env:A,windowScroll:N,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),F=A.closestScrollable;return F&&(F.setAttribute(Cr.contextId,n.contextId),F.addEventListener("scroll",m,Ar(_.scrollOptions))),O},[n.contextId,l,m,a]),g=j(()=>{const N=t.current,E=lt(N);return N&&E||C(),mn(E)},[]),b=j(()=>{const N=t.current;N||C();const E=lt(N);t.current=null,E&&(p.cancel(),E.removeAttribute(Cr.contextId),E.removeEventListener("scroll",m,Ar(N.scrollOptions)))},[m,p]),v=j(N=>{const E=t.current;E||C();const S=lt(E);S||C(),S.scrollTop+=N.y,S.scrollLeft+=N.x},[]),y=M(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:g,dragStopped:b,scroll:v}),[b,h,g,v]),D=M(()=>({uniqueId:r,descriptor:l,callbacks:y}),[y,l,r]);ae(()=>(c.current=D.descriptor,o.droppable.register(D),()=>{t.current&&b(),o.droppable.unregister(D)}),[y,l,b,D,s,o.droppable]),ae(()=>{t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),ae(()=>{t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function qt(){}const Rr={width:0,height:0,margin:rl},Xu=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Rr:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Zu=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Xu({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?He.placeholder:null}},Qu=e=>{const t=x.useRef(null),n=j(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:s,contextId:a}=e,[l,c]=x.useState(e.animate==="open");x.useEffect(()=>l?r!=="open"?(n(),c(!1),qt):t.current?qt:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):qt,[r,l,n]);const u=j(d=>{d.propertyName==="height"&&(o(),r==="close"&&s())},[r,s,o]),f=Zu({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return W.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:e.innerRef})};var ep=W.memo(Qu);class tp extends W.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const np=e=>{const t=x.useContext(Rt);t||C();const{contextId:n,isMovementAllowed:r}=t,o=x.useRef(null),s=x.useRef(null),{children:a,droppableId:l,type:c,mode:u,direction:f,ignoreContainerClipping:d,isDropDisabled:p,isCombineEnabled:m,snapshot:h,useClone:g,updateViewportMaxScroll:b,getContainerForClone:v}=e,y=j(()=>o.current,[]),D=j((F=null)=>{o.current=F},[]);j(()=>s.current,[]);const N=j((F=null)=>{s.current=F},[]),E=j(()=>{r()&&b({maxScroll:Vo()})},[r,b]);Ju({droppableId:l,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:d,getDroppableRef:y});const S=M(()=>W.createElement(tp,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:$,animate:te})=>W.createElement(ep,{placeholder:$,onClose:F,innerRef:N,animate:te,contextId:n,onTransitionEnd:E})),[n,E,e.placeholder,e.shouldAnimatePlaceholder,N]),P=M(()=>({innerRef:D,placeholder:S,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":n}}),[n,l,S,D]),A=g?g.dragging.draggableId:null,_=M(()=>({droppableId:l,type:c,isUsingCloneFor:A}),[l,A,c]);function O(){if(!g)return null;const{dragging:F,render:$}=g,te=W.createElement(is,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(de,G)=>$(de,G,F));return ms.createPortal(te,v())}return W.createElement(Ln.Provider,{value:_},a(P,h),O())};function rp(){return document.body||C(),document.body}const kr={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:rp},us=e=>{let t={...e},n;for(n in kr)e[n]===void 0&&(t={...t,[n]:kr[n]});return t},Yt=(e,t)=>e===t.droppable.type,Or=(e,t)=>t.draggables[e.draggable.id],op=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=q(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=q((s,a,l,c,u,f)=>{const d=u.descriptor.id;if(u.descriptor.droppableId===s){const h=f?{render:f,dragging:n(u.descriptor)}:null,g={isDraggingOver:l,draggingOverWith:l?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:h}}if(!a)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,a)=>{const l=us(a),c=l.droppableId,u=l.type,f=!l.isDropDisabled,d=l.renderClone;if(et(s)){const p=s.critical;if(!Yt(u,p))return t;const m=Or(p,s.dimensions),h=se(s.impact)===c;return r(c,f,h,h,m,d)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!Yt(u,p.critical))return t;const m=Or(p.critical,s.dimensions);return r(c,f,ss(p.result)===c,se(p.impact)===c,m,d)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!Yt(u,p.critical))return t;const m=se(p.impact)===c,h=!!(p.impact.at&&p.impact.at.type==="COMBINE"),g=p.critical.droppable.id===c;return m?h?e:t:g?e:t}return t}},sp={updateViewportMaxScroll:gc},ap=lo(op,sp,(e,t,n)=>({...us(n),...e,...t}),{context:On,areStatePropsEqual:os})(np),ip=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Mr={pattern:"",unlockType:"none",password:"",timerDuration:30,scheduleDays:[1,2,3,4,5],scheduleStart:"09:00",scheduleEnd:"17:00",folderId:void 0};function lp(){const[e,t]=x.useState([]),[n,r]=x.useState([]),[o,s]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[f,d]=x.useState(null),[p,m]=x.useState(null),[h,g]=x.useState(Mr),[b,v]=x.useState("");x.useEffect(()=>{y()},[]);async function y(){try{const[w,T]=await Promise.all([chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"}),chrome.runtime.sendMessage({type:"GET_BLOCKED_SITE_FOLDERS"})]);t(w),r(T)}catch(w){console.error("Failed to load data:",w)}finally{s(!1)}}function D(){d(null),g(Mr),l(!0)}function N(w){var T,k,U;d(w),g({pattern:w.pattern,unlockType:w.unlockType,password:"",timerDuration:w.timerDuration||30,scheduleDays:((T=w.schedule)==null?void 0:T.days)||[1,2,3,4,5],scheduleStart:((k=w.schedule)==null?void 0:k.startTime)||"09:00",scheduleEnd:((U=w.schedule)==null?void 0:U.endTime)||"17:00",folderId:w.folderId}),l(!0)}function E(){m(null),v(""),u(!0)}function S(w){m(w),v(w.name),u(!0)}async function P(w){w.preventDefault();const T={pattern:h.pattern.toLowerCase().trim(),enabled:!0,unlockType:h.unlockType,folderId:h.folderId};h.unlockType==="password"&&h.password&&(T.passwordHash=await hs(h.password)),h.unlockType==="timer"&&(T.timerDuration=h.timerDuration),h.unlockType==="schedule"&&(T.schedule={days:h.scheduleDays,startTime:h.scheduleStart,endTime:h.scheduleEnd});try{f?await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...f,...T}}):await chrome.runtime.sendMessage({type:"ADD_BLOCKED_SITE",payload:T}),await y(),l(!1)}catch(k){console.error("Failed to save site:",k)}}async function A(w){if(w.preventDefault(),!!b.trim())try{p?await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE_FOLDER",payload:{...p,name:b.trim()}}):await chrome.runtime.sendMessage({type:"ADD_BLOCKED_SITE_FOLDER",payload:{name:b.trim(),order:n.length}}),await y(),u(!1)}catch(T){console.error("Failed to save folder:",T)}}async function _(w){if(confirm("Delete this folder? Sites in this folder will be moved to Uncategorized."))try{await chrome.runtime.sendMessage({type:"REMOVE_BLOCKED_SITE_FOLDER",payload:{id:w}}),await y()}catch(T){console.error("Failed to delete folder:",T)}}async function O(w){const T={...w,collapsed:!w.collapsed};r(n.map(k=>k.id===w.id?T:k)),await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE_FOLDER",payload:T})}async function F(w,T){const k=e.filter(K=>K.folderId===w).map(K=>({...K,enabled:T})),re=[...e.filter(K=>K.folderId!==w),...k];t(re),await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITES",payload:re})}async function $(w){try{await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...w,enabled:!w.enabled}}),await y()}catch(T){console.error("Failed to toggle site:",T)}}async function te(w){if(confirm("Are you sure you want to remove this blocked site?"))try{await chrome.runtime.sendMessage({type:"REMOVE_BLOCKED_SITE",payload:{id:w}}),await y()}catch(T){console.error("Failed to delete site:",T)}}async function de(w){if(!w.destination)return;const{source:T,destination:k,draggableId:U}=w;if(T.droppableId!==k.droppableId){const re=k.droppableId==="uncategorized"?void 0:k.droppableId,K=e.find(X=>X.id===U);if(K){const X={...K,folderId:re};await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:X}),await y()}}}const G=new Map;n.forEach(w=>G.set(w.id,[])),G.set(void 0,[]),e.forEach(w=>{const T=w.folderId,k=G.get(T)||[];k.push(w),G.set(T,k)});function ue(w){switch(w){case"password":return i.jsx($n,{className:"w-4 h-4"});case"timer":return i.jsx(dt,{className:"w-4 h-4"});case"schedule":return i.jsx(Qt,{className:"w-4 h-4"});default:return i.jsx(ke,{className:"w-4 h-4"})}}function ge(w){switch(w.unlockType){case"password":return"Password protected";case"timer":return`${w.timerDuration}min timer`;case"schedule":return"Scheduled";default:return"Always blocked"}}if(o)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const ne=(w,T)=>i.jsx($u,{draggableId:w.id,index:T,children:k=>i.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:"flex items-center gap-3 px-4 py-3 bg-white border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[i.jsx("div",{...k.dragHandleProps,className:"text-gray-300 hover:text-gray-500 cursor-grab",children:i.jsx(Es,{className:"w-4 h-4"})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("span",{className:"font-medium text-gray-900",children:w.pattern})}),i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[ue(w.unlockType),i.jsx("span",{className:"hidden sm:inline",children:ge(w)})]}),i.jsx("button",{onClick:()=>$(w),className:`text-xs px-2 py-1 rounded-full transition-colors ${w.enabled?"bg-red-100 text-red-700 hover:bg-red-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:w.enabled?"Blocking":"Disabled"}),i.jsx("button",{onClick:()=>N(w),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:i.jsx(_n,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>te(w.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:i.jsx(en,{className:"w-4 h-4"})})]})},w.id),fe=(w,T)=>{const k=w==null?void 0:w.id,U=w==null?void 0:w.collapsed,re=T.length>0&&T.every(X=>X.enabled),K=T.some(X=>X.enabled);return i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[i.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 bg-gray-50 ${U?"":"border-b border-gray-200"}`,children:[w&&i.jsx("button",{onClick:()=>O(w),className:"text-gray-500 hover:text-gray-700 transition-transform duration-200",children:i.jsx(gn,{className:`w-5 h-5 transition-transform duration-200 ${U?"":"rotate-90"}`})}),i.jsxs("span",{className:"font-semibold text-gray-900 flex-1",children:[(w==null?void 0:w.name)||"Uncategorized"," (",T.length,")"]}),T.length>0&&i.jsx("button",{onClick:()=>F(k,!re),className:`text-xs px-2 py-1 rounded transition-colors ${re?"bg-red-100 text-red-700 hover:bg-red-200":K?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:re?"Disable All":"Enable All"}),w&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>S(w),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:i.jsx(_n,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>_(w.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:i.jsx(en,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"grid transition-all duration-200 ease-in-out",style:{gridTemplateRows:!w||!U?"1fr":"0fr"},children:i.jsx("div",{className:"overflow-hidden",children:i.jsx(ap,{droppableId:k||"uncategorized",children:X=>i.jsxs("div",{ref:X.innerRef,...X.droppableProps,className:"min-h-[48px]",children:[T.length>0?T.map((he,De)=>ne(he,De)):i.jsx("div",{className:"px-4 py-6 text-center text-gray-400 text-sm",children:"Drag sites here or add new ones"}),X.placeholder]})})})})]},k||"uncategorized")};return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Blocked Sites"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:[i.jsx(Ss,{className:"w-5 h-5"}),"Add Folder"]}),i.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx(Xt,{className:"w-5 h-5"}),"Add Site"]})]})]}),i.jsx(vu,{onDragEnd:de,children:i.jsxs("div",{className:"space-y-4",children:[n.map(w=>fe(w,G.get(w.id)||[])),fe(null,G.get(void 0)||[])]})}),e.length===0&&n.length===0&&i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center mt-4",children:[i.jsx(ke,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blocked sites"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Add sites you want to block to help stay focused."}),i.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx(Xt,{className:"w-5 h-5"}),"Add Your First Site"]})]}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg mx-4 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[i.jsx("h2",{className:"text-lg font-semibold",children:f?"Edit Blocked Site":"Add Blocked Site"}),i.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Zt,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Pattern"}),i.jsx("input",{type:"text",value:h.pattern,onChange:w=>g({...h,pattern:w.target.value}),placeholder:"e.g., twitter.com or *.reddit.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use *.domain.com to block all subdomains"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unlock Method"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"none",label:"Always Blocked",icon:ke},{value:"password",label:"Password",icon:$n},{value:"timer",label:"Timer",icon:dt},{value:"schedule",label:"Schedule",icon:Qt}].map(({value:w,label:T,icon:k})=>i.jsxs("button",{type:"button",onClick:()=>g({...h,unlockType:w}),className:`flex items-center gap-2 p-3 border rounded-lg transition-colors ${h.unlockType===w?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:[i.jsx(k,{className:"w-5 h-5"}),i.jsx("span",{className:"text-sm font-medium",children:T})]},w))})]}),h.unlockType==="password"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unlock Password"}),i.jsx("input",{type:"password",value:h.password,onChange:w=>g({...h,password:w.target.value}),placeholder:f?"Leave blank to keep current":"Enter password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!f})]}),h.unlockType==="timer"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timer Duration (minutes)"}),i.jsx("input",{type:"number",value:h.timerDuration,onChange:w=>g({...h,timerDuration:parseInt(w.target.value)||30}),min:1,max:480,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Site will be blocked again after this time"})]}),h.unlockType==="schedule"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Block on these days"}),i.jsx("div",{className:"flex gap-1",children:ip.map((w,T)=>i.jsx("button",{type:"button",onClick:()=>{const k=h.scheduleDays.includes(T)?h.scheduleDays.filter(U=>U!==T):[...h.scheduleDays,T];g({...h,scheduleDays:k})},className:`flex-1 py-2 text-xs font-medium rounded transition-colors ${h.scheduleDays.includes(T)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:w},w))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),i.jsx("input",{type:"time",value:h.scheduleStart,onChange:w=>g({...h,scheduleStart:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),i.jsx("input",{type:"time",value:h.scheduleEnd,onChange:w=>g({...h,scheduleEnd:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),n.length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder"}),i.jsxs("select",{value:h.folderId||"",onChange:w=>g({...h,folderId:w.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Uncategorized"}),n.map(w=>i.jsx("option",{value:w.id,children:w.name},w.id))]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:f?"Save Changes":"Add Site"})]})]})]})}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[i.jsx("h2",{className:"text-lg font-semibold",children:p?"Edit Folder":"Add Folder"}),i.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Zt,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name"}),i.jsx("input",{type:"text",value:b,onChange:w=>v(w.target.value),placeholder:"e.g., Social Media, Adult Content",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,autoFocus:!0})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:p?"Save Changes":"Add Folder"})]})]})]})})]})}function Re(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`}function cp(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function Br(e){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function me(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function Kt(e){const t=me(new Date),n=me(new Date(Date.now()-864e5));return e===t?"Today":e===n?"Yesterday":new Date(e+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function dp(e){const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-teal-500","bg-indigo-500","bg-red-500","bg-cyan-500","bg-amber-500","bg-lime-500","bg-emerald-500"];let n=0;for(let r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n);return t[Math.abs(n)%t.length]}const Te=["bg-blue-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-teal-500","bg-cyan-500"];function Jt({selectedDate:e,onSelect:t,onClose:n,minDate:r,maxDate:o}){const[s,a]=x.useState(()=>{const g=new Date(e+"T00:00:00");return{year:g.getFullYear(),month:g.getMonth()}}),l=me(new Date),c=o||l,u=new Date(s.year,s.month+1,0).getDate(),f=new Date(s.year,s.month,1).getDay(),d=[];for(let g=0;g<f;g++)d.push(null);for(let g=1;g<=u;g++)d.push(g);const p=()=>{a(g=>g.month===0?{year:g.year-1,month:11}:{...g,month:g.month-1})},m=()=>{a(g=>g.month===11?{year:g.year+1,month:0}:{...g,month:g.month+1})},h=new Date(s.year,s.month).toLocaleDateString("en-US",{month:"long",year:"numeric"});return i.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-lg border border-gray-200 p-4 z-50 w-72",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-100 rounded",children:i.jsx($r,{className:"w-5 h-5"})}),i.jsx("span",{className:"font-medium",children:h}),i.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(gn,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-gray-500 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(g=>i.jsx("div",{children:g},g))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:d.map((g,b)=>{if(g===null)return i.jsx("div",{},b);const v=`${s.year}-${String(s.month+1).padStart(2,"0")}-${String(g).padStart(2,"0")}`,y=v===e,D=v===l,N=v>c||(r?v<r:!1);return i.jsx("button",{onClick:()=>!N&&t(v),disabled:N,className:`p-2 text-sm rounded-lg transition-colors ${y?"bg-blue-600 text-white":D?"bg-blue-100 text-blue-700 hover:bg-blue-200":N?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100"}`,children:g},b)})}),i.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t",children:[i.jsx("button",{onClick:()=>t(l),className:"text-sm text-blue-600 hover:text-blue-700",children:"Today"}),i.jsx("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700",children:"Close"})]})]})}function up({sessions:e,sites:t,dateStr:n,animationDirection:r}){const[o,s]=x.useState(!1),a=10,l=new Date(n+"T00:00:00"),c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),u=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59),f=me(new Date),d=n===f;let p=u.getTime(),m=c.getTime();e.forEach(S=>{p=Math.min(p,S.startTime),m=Math.max(m,S.endTime)}),p=Math.max(c.getTime(),p-30*60*1e3),m=Math.min(u.getTime(),m+30*60*1e3),e.length===0&&(p=c.getTime()+8*60*60*1e3,m=d?Date.now():c.getTime()+18*60*60*1e3);const h=Math.max(m-p,1),g=Object.entries(t).sort((S,P)=>P[1]-S[1]),b=o?g:g.slice(0,a),v=new Map;e.forEach(S=>{const P=v.get(S.domain)||[];P.push(S),v.set(S.domain,P)});const y=[],D=new Date(p).getHours(),N=new Date(m).getHours();for(let S=D;S<=N;S++){const P=new Date(l.getFullYear(),l.getMonth(),l.getDate(),S,0,0).getTime();if(P>=p&&P<=m){const A=(P-p)/h*100;y.push({hour:S,label:S===0?"12am":S<12?`${S}am`:S===12?"12pm":`${S-12}pm`,position:A})}}const E=r?r==="left"?"animate-slide-in-left":"animate-slide-in-right":"";return g.length===0&&e.length===0?i.jsx("div",{className:`text-center py-8 text-gray-500 ${E}`,children:d?"No activity recorded yet today":"No activity recorded on this day"}):g.length>0&&e.length===0?i.jsxs("div",{className:`text-center py-8 text-gray-500 ${E}`,children:[i.jsx("p",{children:"Timeline data not available for this day."}),i.jsx("p",{className:"text-xs mt-2",children:"Session tracking was enabled recently."})]}):i.jsxs("div",{className:E,children:[i.jsx("div",{className:"relative h-6 mb-2 ml-40",children:y.map(S=>i.jsx("div",{className:"absolute text-xs text-gray-400",style:{left:`${S.position}%`,transform:"translateX(-50%)"},children:S.label},S.hour))}),i.jsx("div",{className:"space-y-2",children:b.map(([S,P])=>{const A=v.get(S)||[],_=dp(S),F=new Set(A.map($=>$.windowId)).size>1;return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-36 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-medium truncate",title:S,children:S.replace(/^www\./,"")}),F&&i.jsx("span",{title:"Multiple windows",children:i.jsx(_r,{className:"w-3 h-3 text-gray-400 flex-shrink-0"})})]}),i.jsx("span",{className:"text-xs text-gray-500",children:Re(P)})]}),i.jsxs("div",{className:"flex-1 relative h-6 bg-gray-100 rounded overflow-hidden",children:[y.map($=>i.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200",style:{left:`${$.position}%`}},$.hour)),A.map(($,te)=>{const de=Math.max(0,($.startTime-p)/h*100),G=Math.min(100,($.endTime-p)/h*100),ue=Math.max(.5,G-de);return i.jsx("div",{className:`absolute top-1 bottom-1 ${_} rounded-sm opacity-80 hover:opacity-100 transition-opacity cursor-default`,style:{left:`${de}%`,width:`${ue}%`},title:`${Br($.startTime)} - ${Br($.endTime)}`},te)})]})]},S)})}),g.length>a&&i.jsx("button",{onClick:()=>s(!o),className:"mt-4 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 mx-auto",children:o?i.jsxs(i.Fragment,{children:[i.jsx(Ds,{className:"w-4 h-4"}),"Show less"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ns,{className:"w-4 h-4"}),"Show ",g.length-a," more sites"]})})]})}function pp(){const[e,t]=x.useState({}),[n,r]=x.useState("week"),[o,s]=x.useState(!0),[a,l]=x.useState(null),[c,u]=x.useState(()=>me(new Date)),[f,d]=x.useState(!1),[p,m]=x.useState(null),[h,g]=x.useState(!1),[b,v]=x.useState(null),[y,D]=x.useState(null),[N,E]=x.useState(!1),[S,P]=x.useState(!1),A=me(new Date);x.useEffect(()=>{_()},[]);async function _(){try{const I=await chrome.runtime.sendMessage({type:"GET_STATS"});t(I)}catch(I){console.error("Failed to load stats:",I)}finally{s(!1)}}const O=()=>{const I=new Date(c+"T00:00:00");I.setDate(I.getDate()-1),m("left"),u(me(I)),setTimeout(()=>m(null),300)},F=()=>{const I=new Date(c+"T00:00:00");I.setDate(I.getDate()+1);const R=me(I);R<=A&&(m("right"),u(R),setTimeout(()=>m(null),300))},$=I=>{const R=I<c?"left":"right";m(R),u(I),d(!1),setTimeout(()=>m(null),300)},de=(()=>{if(h&&b&&y){const R=[],Z={};let L=new Date(b+"T00:00:00");const z=new Date(y+"T00:00:00");for(;L<=z;){const Ot=me(L),Se=e[Ot];if(Se){Se.sessions&&R.push(...Se.sessions);for(const[Fn,ps]of Object.entries(Se.sites||{}))Z[Fn]=(Z[Fn]||0)+ps}L.setDate(L.getDate()+1)}return{sessions:R,sites:Z}}const I=e[c];return{sessions:(I==null?void 0:I.sessions)||[],sites:(I==null?void 0:I.sites)||{}}})();if(o)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const G=new Date,ue=n==="week"?7:30,ge=[];for(let I=ue-1;I>=0;I--){const R=new Date(G);R.setDate(R.getDate()-I);const Z=R.getFullYear(),L=String(R.getMonth()+1).padStart(2,"0"),z=String(R.getDate()).padStart(2,"0");ge.push(`${Z}-${L}-${z}`)}const ne=ge.map(I=>e[I]||{date:I,totalTime:0,sites:{},visits:0,blockedAttempts:0}),fe=ne.reduce((I,R)=>I+R.totalTime,0),w=ne.reduce((I,R)=>I+R.blockedAttempts,0),T=fe/ue,k={};for(const I of ne)for(const[R,Z]of Object.entries(I.sites))k[R]=(k[R]||0)+Z;const U=Object.entries(k).sort((I,R)=>R[1]-I[1]).slice(0,10),re=Math.max(...ne.map(I=>I.totalTime),1),K=[];for(let I=ue*2-1;I>=ue;I--){const R=new Date(G);R.setDate(R.getDate()-I);const Z=R.getFullYear(),L=String(R.getMonth()+1).padStart(2,"0"),z=String(R.getDate()).padStart(2,"0");K.push(`${Z}-${L}-${z}`)}const he=K.map(I=>e[I]||{totalTime:0}).reduce((I,R)=>I+R.totalTime,0),De=he>0?(fe-he)/he*100:0;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Metrics"}),i.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>r("week"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${n==="week"?"bg-white shadow text-gray-900":"text-gray-600"}`,children:"Week"}),i.jsx("button",{onClick:()=>r("month"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${n==="month"?"bg-white shadow text-gray-900":"text-gray-600"}`,children:"Month"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Total Time"}),i.jsx(dt,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold",children:Re(fe)}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[De>0?i.jsx(Gr,{className:"w-4 h-4 text-red-500"}):i.jsx(Un,{className:"w-4 h-4 text-green-500"}),i.jsxs("span",{className:`text-sm ${De>0?"text-red-500":"text-green-500"}`,children:[Math.abs(De).toFixed(0),"% vs prev ",n]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Daily Average"}),i.jsx(Qt,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold",children:Re(T)}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"per day"})]}),i.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Sites Blocked"}),i.jsx(Un,{className:"w-5 h-5 text-gray-400"})]}),i.jsx("p",{className:"text-2xl font-bold",children:w}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"distractions avoided"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Activity Timeline"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("button",{onClick:()=>{g(!h),h||(v(c),D(c))},className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${h?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h?"Date Range":"Single Day"})})]}),h?i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 flex-wrap",children:[i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"From"}),i.jsxs("button",{onClick:()=>{E(!N),P(!1)},className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[i.jsx(Mt,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium",children:b?Kt(b):"Select"})]}),N&&i.jsx(Jt,{selectedDate:b||A,onSelect:I=>{v(I),y&&I>y&&D(I),E(!1)},onClose:()=>E(!1),maxDate:y||A})]}),i.jsx("span",{className:"text-gray-400 mt-5",children:""}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"To"}),i.jsxs("button",{onClick:()=>{P(!S),E(!1)},className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[i.jsx(Mt,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"text-sm font-medium",children:y?Kt(y):"Select"})]}),S&&i.jsx(Jt,{selectedDate:y||A,onSelect:I=>{D(I),b&&I<b&&v(I),P(!1)},onClose:()=>P(!1),minDate:b||void 0})]}),b&&y&&i.jsx("button",{onClick:()=>{v(null),D(null)},className:"mt-5 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:i.jsx(Zt,{className:"w-4 h-4"})})]}):i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[i.jsx("button",{onClick:O,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx($r,{className:"w-5 h-5"})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>d(!f),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[i.jsx(Mt,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"font-medium",children:Kt(c)})]}),f&&i.jsx(Jt,{selectedDate:c,onSelect:$,onClose:()=>d(!1)})]}),i.jsx("button",{onClick:F,disabled:c===A,className:`p-2 rounded-lg transition-colors ${c===A?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:i.jsx(gn,{className:"w-5 h-5"})}),c!==A&&i.jsx("button",{onClick:()=>$(A),className:"text-sm text-blue-600 hover:text-blue-700",children:"Back to today"})]}),i.jsx("div",{className:"overflow-hidden",children:i.jsx(up,{sessions:de.sessions,sites:de.sites,dateStr:h?b||A:c,animationDirection:p})})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Top Sites (",n,")"]}),U.length>0?i.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3",children:U.map(([I,R],Z)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${Te[Z%Te.length]}`}),i.jsx("span",{className:"text-sm text-gray-400 w-4",children:Z+1}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium truncate",children:I}),i.jsx("span",{className:"text-sm text-gray-500 ml-2",children:Re(R)})]})})]},I))}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No data for this period"})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Daily Breakdown"}),a&&i.jsxs("div",{className:"bg-gray-900 text-white text-xs px-3 py-1.5 rounded-lg flex items-center gap-2 animate-fade-in",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${Te[U.findIndex(([I])=>I===a.domain)%Te.length]||"bg-gray-400"}`}),i.jsx("span",{className:"font-medium",children:a.domain}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("span",{children:Re(a.time)}),i.jsxs("span",{className:"text-gray-400",children:["(",a.percent.toFixed(1),"%)"]})]})]}),i.jsx("div",{className:"space-y-3",children:ne.slice(-7).map(I=>{const R=Object.entries(I.sites).sort((L,z)=>z[1]-L[1]),Z=new Map(U.map(([L],z)=>[L,z]));return i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xs text-gray-500 w-20",children:cp(I.date)}),i.jsx("div",{className:"flex-1 h-8 bg-gray-100 rounded-lg overflow-hidden flex",children:I.totalTime>0?R.map(([L,z])=>{const Ot=Z.get(L)??9,Se=z/re*100;return Se<.5?null:i.jsx("div",{className:`h-full ${Te[Ot%Te.length]} hover:opacity-80 transition-opacity cursor-pointer`,style:{width:`${Se}%`},onMouseEnter:()=>l({date:I.date,domain:L,time:z,percent:z/I.totalTime*100}),onMouseLeave:()=>l(null)},L)}):i.jsx("div",{className:"flex-1 flex items-center justify-center text-xs text-gray-400",children:"No activity"})}),i.jsx("span",{className:"text-xs text-gray-600 w-14 text-right",children:Re(I.totalTime)})]},I.date)})}),i.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Hover over segments to see domain details. Colors match the top sites list above."})]})]})}function fp(){const[e,t]=x.useState(null),[n,r]=x.useState(!0),[o,s]=x.useState(!1),[a,l]=x.useState(""),[c,u]=x.useState(""),[f,d]=x.useState("");x.useEffect(()=>{p()},[]);async function p(){try{const y=await chrome.runtime.sendMessage({type:"GET_SETTINGS"});t(y)}catch(y){console.error("Failed to load settings:",y)}finally{r(!1)}}async function m(){if(e){s(!0);try{await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:e})}catch(y){console.error("Failed to save settings:",y)}finally{s(!1)}}}async function h(){if(a!==c){d("Passwords do not match");return}if(a.length<4){d("Password must be at least 4 characters");return}try{const D=new TextEncoder().encode(a),N=await crypto.subtle.digest("SHA-256",D),S=Array.from(new Uint8Array(N)).map(P=>P.toString(16).padStart(2,"0")).join("");await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:{passwordHash:S}}),l(""),u(""),d(""),alert("Master password set successfully!")}catch(y){console.error("Failed to set password:",y),d("Failed to set password")}}async function g(){if(confirm("Are you sure you want to clear ALL data? This includes all tracking history and blocked sites. This cannot be undone!"))try{await chrome.storage.local.clear(),alert("All data cleared. The extension will reload."),window.location.reload()}catch(y){console.error("Failed to clear data:",y)}}async function b(){try{const y=await chrome.storage.local.get(null),D=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),N=URL.createObjectURL(D),E=document.createElement("a");E.href=N;const S=new Date,P=`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}-${String(S.getDate()).padStart(2,"0")}`;E.download=`browserutils-export-${P}.json`,E.click(),URL.revokeObjectURL(N)}catch(y){console.error("Failed to export data:",y)}}async function v(y){try{const D=await y.text(),N=JSON.parse(D);await chrome.storage.local.set(N),alert("Data imported successfully!"),window.location.reload()}catch(D){console.error("Failed to import data:",D),alert("Failed to import data. Make sure the file is valid.")}}return n||!e?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"max-w-2xl",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"General"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("label",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Enable Tracking"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Record time spent on websites"})]}),i.jsx("input",{type:"checkbox",checked:e.trackingEnabled,onChange:y=>t({...e,trackingEnabled:y.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),i.jsxs("label",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Enable Blocking"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Block access to configured sites"})]}),i.jsx("input",{type:"checkbox",checked:e.blockingEnabled,onChange:y=>t({...e,blockingEnabled:y.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-1",children:"Data Retention"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"How long to keep tracking history"}),i.jsxs("select",{value:e.retentionDays,onChange:y=>t({...e,retentionDays:parseInt(y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:7,children:"7 days"}),i.jsx("option",{value:14,children:"14 days"}),i.jsx("option",{value:30,children:"30 days"}),i.jsx("option",{value:60,children:"60 days"}),i.jsx("option",{value:90,children:"90 days"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-1",children:"Idle Timeout"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Stop tracking after this many seconds of inactivity. Set to 0 to disable."}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"number",value:e.idleThreshold,onChange:y=>t({...e,idleThreshold:parseInt(y.target.value)||0}),min:0,max:3600,step:15,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("span",{className:"text-sm text-gray-500",children:"seconds"}),i.jsx("div",{className:"flex gap-2 ml-auto",children:[30,60,120,300].map(y=>i.jsx("button",{type:"button",onClick:()=>t({...e,idleThreshold:y}),className:`px-2 py-1 text-xs rounded ${e.idleThreshold===y?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:y<60?`${y}s`:`${y/60}m`},y))})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimum: 15 seconds (Chrome API limit). Tracking also pauses when windows are minimized."})]})]}),i.jsxs("button",{onClick:m,disabled:o,className:"mt-6 flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx(Gn,{className:"w-4 h-4"}),o?"Saving...":"Save Settings"]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"New Tab"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block font-medium mb-1",children:"Display Name"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Your name for the greeting on new tabs"}),i.jsx("input",{type:"text",value:e.displayName,onChange:y=>t({...e,displayName:y.target.value}),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Quick links can be added and removed directly on the new tab page."})]}),i.jsxs("button",{onClick:m,disabled:o,className:"mt-6 flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx(Gn,{className:"w-4 h-4"}),o?"Saving...":"Save Settings"]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Master Password"}),i.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Set a master password for unlocking password-protected blocked sites.",e.passwordHash&&i.jsx("span",{className:"ml-1 text-green-600",children:"(Currently set)"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"password",value:a,onChange:y=>{l(y.target.value),d("")},placeholder:"New password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("input",{type:"password",value:c,onChange:y=>{u(y.target.value),d("")},placeholder:"Confirm password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),f&&i.jsx("p",{className:"text-sm text-red-600",children:f}),i.jsx("button",{onClick:h,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:e.passwordHash?"Update Password":"Set Password"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data Management"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:b,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Export Data"}),i.jsxs("label",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors cursor-pointer",children:["Import Data",i.jsx("input",{type:"file",accept:".json",onChange:y=>{var D;return((D=y.target.files)==null?void 0:D[0])&&v(y.target.files[0])},className:"hidden"})]})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[i.jsx(vs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-red-900",children:"Danger Zone"}),i.jsx("p",{className:"text-sm text-red-700 mb-3",children:"This will permanently delete all your data including tracking history, blocked sites, and settings."}),i.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx(en,{className:"w-4 h-4"}),"Clear All Data"]})]})]})})]})]})]})}const mp="0.5.1",gp=[{version:"0.5.1",date:"2026-01-07",fixed:[`Sidebar now stays fixed while scrolling, keeping version and "What's New" visible on all pages`,"Back button on changelog page now returns to previous page instead of settings"]},{version:"0.5.0",date:"2026-01-07",added:["Multi-window session tracking - tracks activity across all visible browser windows","Activity Timeline visualization showing when sites were visited throughout the day","Timeline preview on Overview page with link to full view","Full timeline on Metrics page with date navigation and calendar picker","Date range mode to view aggregated data across multiple days","Slide animations when navigating between dates","Multiple windows indicator on timeline rows"],changed:["Refactored time tracking from single-session to multi-session model",'"Time today" now represents union of all browsing sessions (no double-counting)']},{version:"0.4.2",date:"2026-01-06",added:["Smooth expand/collapse animation for folder sections"]},{version:"0.4.1",date:"2026-01-06",changed:["New tab greeting is now deterministic based on day of year"]},{version:"0.4.0",date:"2026-01-06",added:["Folder organization for blocked sites","Drag-and-drop support for moving sites between folders","Collapsible folder sections","Group-level enable/disable controls per folder","Folder selector when adding/editing blocked sites"],changed:["Blocked Sites page refactored from table to grouped folder view"]},{version:"0.3.2",date:"2026-01-05",fixed:["Scheduled blocking now correctly checks if current time is within the blocking window","Sites with service workers that bypass declarativeNetRequest are now blocked"],changed:["Content script runs at document_start for faster blocking","Blocked attempts tracked from content script fallback"]},{version:"0.3.1",date:"2026-01-05",fixed:["Blocked site metrics now properly increment"]},{version:"0.3.0",date:"2026-01-04",added:["Content script heartbeat system for accurate time tracking","Page Visibility API integration for true visibility detection","Session state persistence across service worker restarts","Media detection - continues tracking when audio is playing"],fixed:["UTC date bug - all date calculations now use local timezone","Maximum tracking data loss reduced from 60+ seconds to ~15 seconds"]},{version:"0.2.1",date:"2026-01-03",changed:["Quick links now auto-fetch favicons","Simplified add link modal - just enter URL","Auto-extract site name from domain"]},{version:"0.2.0",date:"2026-01-02",added:["Custom new tab page with time-based greetings","Personalized name display in settings","Large clock with date on new tab","Quick links with emoji icons","Today's browsing stats on new tab"]},{version:"0.1.1",date:"2026-01-01",added:["Percentage display in daily breakdown hover tooltip","Included dist folder for easy extension loading"]},{version:"0.1.0",date:"2026-01-01",added:["Website time tracking with per-site breakdowns","Site blocking with password, timer, and schedule options","Dashboard with Overview and Metrics pages","Popup for quick stats access","Settings for tracking, blocking, theme, and data retention","Idle detection to pause tracking when inactive"]}];function hp(){const e=Jr();return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(bs,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Changelog"}),i.jsx("p",{className:"text-sm text-gray-500",children:"What's new in BrowserUtils"})]})]}),i.jsx("div",{className:"space-y-6",children:gp.map((t,n)=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:`p-2 rounded-lg ${n===0?"bg-blue-100":"bg-gray-100"}`,children:i.jsx(Ps,{className:`w-5 h-5 ${n===0?"text-blue-600":"text-gray-500"}`})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:["v",t.version]}),n===0&&i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:"Current"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:bp(t.date)})]})]}),i.jsxs("div",{className:"space-y-4",children:[t.added&&t.added.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[i.jsx(Xt,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Added"})]}),i.jsx("ul",{className:"space-y-1 ml-6",children:t.added.map((r,o)=>i.jsx("li",{className:"text-sm text-gray-600 list-disc",children:r},o))})]}),t.changed&&t.changed.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[i.jsx(Ts,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Changed"})]}),i.jsx("ul",{className:"space-y-1 ml-6",children:t.changed.map((r,o)=>i.jsx("li",{className:"text-sm text-gray-600 list-disc",children:r},o))})]}),t.fixed&&t.fixed.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-2",children:[i.jsx(ws,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Fixed"})]}),i.jsx("ul",{className:"space-y-1 ml-6",children:t.fixed.map((r,o)=>i.jsx("li",{className:"text-sm text-gray-600 list-disc",children:r},o))})]})]})]},t.version))})]})}function bp(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}const xp=[{to:"/",icon:Is,label:"Overview"},{to:"/blocked",icon:ke,label:"Blocked Sites"},{to:"/metrics",icon:xs,label:"Metrics"},{to:"/settings",icon:ys,label:"Settings"}];function yp(){const[e,t]=x.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[i.jsxs("nav",{className:"w-64 bg-white border-r border-gray-200 p-4 flex flex-col h-screen sticky top-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-default",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:i.jsx(ke,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"font-bold text-gray-900 relative overflow-hidden h-6",children:[i.jsx("span",{className:`inline-block transition-all duration-300 ${e?"opacity-0 -translate-y-full":"opacity-100 translate-y-0"}`,children:"BrowserUtils"}),i.jsx("span",{className:`absolute left-0 top-0 transition-all duration-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,children:"BoyoungUtils"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Focus & Productivity"})]})]}),i.jsx("div",{className:"space-y-1",children:xp.map(({to:n,icon:r,label:o})=>i.jsxs(Aa,{to:n,className:({isActive:s})=>`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${s?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx(r,{className:"w-5 h-5"}),o]},n))}),i.jsxs("div",{className:"mt-auto pt-4 border-t space-y-2",children:[i.jsxs(Et,{to:"/changelog",className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-blue-50 hover:text-blue-700 rounded-lg transition-colors",children:[i.jsx(js,{className:"w-4 h-4"}),"What's New"]}),i.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["v",mp]})]})]}),i.jsx("main",{className:"flex-1 p-8 overflow-auto",children:i.jsxs(va,{children:[i.jsx(Ae,{path:"/",element:i.jsx(Fa,{})}),i.jsx(Ae,{path:"/blocked",element:i.jsx(lp,{})}),i.jsx(Ae,{path:"/metrics",element:i.jsx(pp,{})}),i.jsx(Ae,{path:"/settings",element:i.jsx(fp,{})}),i.jsx(Ae,{path:"/changelog",element:i.jsx(hp,{})})]})})]})}gs.createRoot(document.getElementById("root")).render(i.jsx(W.StrictMode,{children:i.jsx(ja,{children:i.jsx(yp,{})})}));
