import{c as _,r as y,b as ka,j as s,R as H,d as Sa,e as Hn,f as Da,i as ja,a as Ca}from"./theme-BxtiGNVP.js";import{C as yt,S as Le}from"./shield-DT4tFrWC.js";import{h as zn}from"./storage-ChbUDMRv.js";import{P as Xe,X as vt}from"./x-CDQucYFx.js";import{L as zr,A as Ea,T as Ia}from"./timer-CyCqi_D_.js";import{B as Ta}from"./bar-chart-3-B6I-S2Wk.js";import{S as Aa}from"./settings-BjQygWwr.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=_("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=_("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=_("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=_("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=_("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=_("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=_("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=_("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=_("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=_("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=_("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=_("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=_("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=_("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=_("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=_("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=_("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=_("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=_("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=_("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=_("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=_("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=_("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=_("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=_("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=_("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(this,arguments)}var fe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fe||(fe={}));const Yr="popstate";function qa(e){e===void 0&&(e={});function t(o,a){let{pathname:i="/",search:l="",hash:c=""}=Ie(o.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),cr("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(o,a){let i=o.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=o.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:Nt(a))}function n(o,a){Rt(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return Ka(t,r,n,e)}function z(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ya(){return Math.random().toString(36).substr(2,8)}function Kr(e,t){return{usr:e.state,key:e.key,idx:t}}function cr(e,t,r,n){return r===void 0&&(r=null),Ze({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ie(t):t,{state:r,key:t&&t.key||n||Ya()})}function Nt(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ie(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ka(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:a=!1}=n,i=o.history,l=fe.Pop,c=null,u=m();u==null&&(u=0,i.replaceState(Ze({},i.state,{idx:u}),""));function m(){return(i.state||{idx:null}).idx}function d(){l=fe.Pop;let h=m(),w=h==null?null:h-u;u=h,c&&c({action:l,location:g.location,delta:w})}function p(h,w){l=fe.Push;let x=cr(g.location,h,w);r&&r(x,h),u=m()+1;let N=Kr(x,u),k=g.createHref(x);try{i.pushState(N,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(k)}a&&c&&c({action:l,location:g.location,delta:1})}function f(h,w){l=fe.Replace;let x=cr(g.location,h,w);r&&r(x,h),u=m();let N=Kr(x,u),k=g.createHref(x);i.replaceState(N,"",k),a&&c&&c({action:l,location:g.location,delta:0})}function b(h){let w=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof h=="string"?h:Nt(h);return x=x.replace(/ $/,"%20"),z(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return l},get location(){return e(o,i)},listen(h){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(Yr,d),c=h,()=>{o.removeEventListener(Yr,d),c=null}},createHref(h){return t(o,h)},createURL:b,encodeLocation(h){let w=b(h);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:f,go(h){return i.go(h)}};return g}var Jr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jr||(Jr={}));function Ja(e,t,r){return r===void 0&&(r="/"),Xa(e,t,r)}function Xa(e,t,r,n){let o=typeof t=="string"?Ie(t):t,a=Be(o.pathname||"/",r);if(a==null)return null;let i=Jn(e);Za(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=cs(a);l=is(i[c],u)}return l}function Jn(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(z(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=he([n,c.relativePath]),m=r.concat(c);a.children&&a.children.length>0&&(z(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Jn(a.children,t,m,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:as(u,a.index),routesMeta:m})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,i);else for(let c of Xn(a.path))o(a,i,c)}),t}function Xn(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return o?[a,""]:[a];let i=Xn(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),o&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Za(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ss(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Qa=/^:[\w-]+$/,es=3,ts=2,rs=1,ns=10,os=-2,Xr=e=>e==="*";function as(e,t){let r=e.split("/"),n=r.length;return r.some(Xr)&&(n+=os),t&&(n+=ts),r.filter(o=>!Xr(o)).reduce((o,a)=>o+(Qa.test(a)?es:a===""?rs:ns),n)}function ss(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function is(e,t,r){let{routesMeta:n}=e,o={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",d=dr({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),p=c.route;if(!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:he([a,d.pathname]),pathnameBase:gs(he([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=he([a,d.pathnameBase]))}return i}function dr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ls(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce((u,m,d)=>{let{paramName:p,isOptional:f}=m;if(p==="*"){let g=l[d]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[d];return f&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function ls(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Rt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function cs(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Be(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const ds=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,us=e=>ds.test(e);function ms(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Ie(e):e,a;if(r)if(us(r))a=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Rt(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?a=Zr(r.substring(1),"/"):a=Zr(r,t)}else a=t;return{pathname:a,search:fs(n),hash:hs(o)}}function Zr(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function zt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ps(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zn(e,t){let r=ps(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qn(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=Ie(e):(o=Ze({},e),z(!o.pathname||!o.pathname.includes("?"),zt("?","pathname","search",o)),z(!o.pathname||!o.pathname.includes("#"),zt("#","pathname","hash",o)),z(!o.search||!o.search.includes("#"),zt("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;o.pathname=p.join("/")}l=d>=0?t[d]:"/"}let c=ms(o,l),u=i&&i!=="/"&&i.endsWith("/"),m=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const he=e=>e.join("/").replace(/\/\/+/g,"/"),gs=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fs=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hs=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bs(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eo=["post","put","patch","delete"];new Set(eo);const xs=["get",...eo];new Set(xs);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qe.apply(this,arguments)}const Mt=y.createContext(null),to=y.createContext(null),ve=y.createContext(null),Ot=y.createContext(null),Te=y.createContext({outlet:null,matches:[],isDataRoute:!1}),ro=y.createContext(null);function ys(e,t){let{relative:r}=t===void 0?{}:t;lt()||z(!1);let{basename:n,navigator:o}=y.useContext(ve),{hash:a,pathname:i,search:l}=Lt(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:he([n,i])),o.createHref({pathname:c,search:l,hash:a})}function lt(){return y.useContext(Ot)!=null}function ct(){return lt()||z(!1),y.useContext(Ot).location}function no(e){y.useContext(ve).static||y.useLayoutEffect(e)}function oo(){let{isDataRoute:e}=y.useContext(Te);return e?Ps():vs()}function vs(){lt()||z(!1);let e=y.useContext(Mt),{basename:t,future:r,navigator:n}=y.useContext(ve),{matches:o}=y.useContext(Te),{pathname:a}=ct(),i=JSON.stringify(Zn(o,r.v7_relativeSplatPath)),l=y.useRef(!1);return no(()=>{l.current=!0}),y.useCallback(function(u,m){if(m===void 0&&(m={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Qn(u,JSON.parse(i),a,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:he([t,d.pathname])),(m.replace?n.replace:n.push)(d,m.state,m)},[t,n,i,a,e])}function Lt(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(ve),{matches:o}=y.useContext(Te),{pathname:a}=ct(),i=JSON.stringify(Zn(o,n.v7_relativeSplatPath));return y.useMemo(()=>Qn(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function ws(e,t){return Ns(e,t)}function Ns(e,t,r,n){lt()||z(!1);let{navigator:o}=y.useContext(ve),{matches:a}=y.useContext(Te),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ct(),m;if(t){var d;let h=typeof t=="string"?Ie(t):t;c==="/"||(d=h.pathname)!=null&&d.startsWith(c)||z(!1),m=h}else m=u;let p=m.pathname||"/",f=p;if(c!=="/"){let h=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(h.length).join("/")}let b=Ja(e,{pathname:f}),g=Cs(b&&b.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:he([c,o.encodeLocation?o.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?c:he([c,o.encodeLocation?o.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),a,r,n);return t&&g?y.createElement(Ot.Provider,{value:{location:Qe({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:fe.Pop}},g):g}function ks(){let e=As(),t=bs(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:o},r):null,null)}const Ss=y.createElement(ks,null);class Ds extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Te.Provider,{value:this.props.routeContext},y.createElement(ro.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function js(e){let{routeContext:t,match:r,children:n}=e,o=y.useContext(Mt);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Te.Provider,{value:t},n)}function Cs(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(o=r)==null?void 0:o.errors;if(l!=null){let m=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);m>=0||z(!1),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:p,errors:f}=r,b=d.route.loader&&p[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((m,d,p)=>{let f,b=!1,g=null,h=null;r&&(f=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||Ss,c&&(u<0&&p===0?(Rs("route-fallback"),b=!0,h=null):u===p&&(b=!0,h=d.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),x=()=>{let N;return f?N=g:b?N=h:d.route.Component?N=y.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=m,y.createElement(js,{match:d,routeContext:{outlet:m,matches:w,isDataRoute:r!=null},children:N})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?y.createElement(Ds,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var ao=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ao||{}),so=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(so||{});function Es(e){let t=y.useContext(Mt);return t||z(!1),t}function Is(e){let t=y.useContext(to);return t||z(!1),t}function Ts(e){let t=y.useContext(Te);return t||z(!1),t}function io(e){let t=Ts(),r=t.matches[t.matches.length-1];return r.route.id||z(!1),r.route.id}function As(){var e;let t=y.useContext(ro),r=Is(),n=io();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ps(){let{router:e}=Es(ao.UseNavigateStable),t=io(so.UseNavigateStable),r=y.useRef(!1);return no(()=>{r.current=!0}),y.useCallback(function(o,a){a===void 0&&(a={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Qe({fromRouteId:t},a)))},[e,t])}const Qr={};function Rs(e,t,r){Qr[e]||(Qr[e]=!0)}function Ms(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function De(e){z(!1)}function Os(e){let{basename:t="/",children:r=null,location:n,navigationType:o=fe.Pop,navigator:a,static:i=!1,future:l}=e;lt()&&z(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:a,static:i,future:Qe({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Ie(n));let{pathname:m="/",search:d="",hash:p="",state:f=null,key:b="default"}=n,g=y.useMemo(()=>{let h=Be(m,c);return h==null?null:{location:{pathname:h,search:d,hash:p,state:f,key:b},navigationType:o}},[c,m,d,p,f,b,o]);return g==null?null:y.createElement(ve.Provider,{value:u},y.createElement(Ot.Provider,{children:r,value:g}))}function Ls(e){let{children:t,location:r}=e;return ws(ur(t),r)}new Promise(()=>{});function ur(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,o)=>{if(!y.isValidElement(n))return;let a=[...t,o];if(n.type===y.Fragment){r.push.apply(r,ur(n.props.children,a));return}n.type!==De&&z(!1),!n.props.index||!n.props.children||z(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ur(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kt(){return kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kt.apply(this,arguments)}function lo(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Bs(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fs(e,t){return e.button===0&&(!t||t==="_self")&&!Bs(e)}const $s=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_s=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Gs="6";try{window.__reactRouterVersion=Gs}catch{}const Us=y.createContext({isTransitioning:!1}),Ws="startTransition",en=ka[Ws];function Hs(e){let{basename:t,children:r,future:n,window:o}=e,a=y.useRef();a.current==null&&(a.current=qa({window:o,v5Compat:!0}));let i=a.current,[l,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},m=y.useCallback(d=>{u&&en?en(()=>c(d)):c(d)},[c,u]);return y.useLayoutEffect(()=>i.listen(m),[i,m]),y.useEffect(()=>Ms(n),[n]),y.createElement(Os,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const zs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vs=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=y.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:m,viewTransition:d}=t,p=lo(t,$s),{basename:f}=y.useContext(ve),b,g=!1;if(typeof u=="string"&&Vs.test(u)&&(b=u,zs))try{let N=new URL(window.location.href),k=u.startsWith("//")?new URL(N.protocol+u):new URL(u),E=Be(k.pathname,f);k.origin===N.origin&&E!=null?u=E+k.search+k.hash:g=!0}catch{}let h=ys(u,{relative:o}),w=Ks(u,{replace:i,state:l,target:c,preventScrollReset:m,relative:o,viewTransition:d});function x(N){n&&n(N),N.defaultPrevented||w(N)}return y.createElement("a",kt({},p,{href:b||h,onClick:g||a?n:x,ref:r,target:c}))}),qs=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:o=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:u,children:m}=t,d=lo(t,_s),p=Lt(c,{relative:d.relative}),f=ct(),b=y.useContext(to),{navigator:g,basename:h}=y.useContext(ve),w=b!=null&&Js(p)&&u===!0,x=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,N=f.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;o||(N=N.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&h&&(k=Be(k,h)||k);const E=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let v=N===x||!i&&N.startsWith(x)&&N.charAt(E)==="/",C=k!=null&&(k===x||!i&&k.startsWith(x)&&k.charAt(x.length)==="/"),P={isActive:v,isPending:C,isTransitioning:w},O=v?n:void 0,A;typeof a=="function"?A=a(P):A=[a,v?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l(P):l;return y.createElement(et,kt({},d,{"aria-current":O,className:A,ref:r,style:B,to:c,viewTransition:u}),typeof m=="function"?m(P):m)});var mr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mr||(mr={}));var tn;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tn||(tn={}));function Ys(e){let t=y.useContext(Mt);return t||z(!1),t}function Ks(e,t){let{target:r,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=oo(),u=ct(),m=Lt(e,{relative:i});return y.useCallback(d=>{if(Fs(d,r)){d.preventDefault();let p=n!==void 0?n:Nt(u)===Nt(m);c(e,{replace:p,state:o,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,m,n,o,r,e,a,i,l])}function Js(e,t){t===void 0&&(t={});let r=y.useContext(Us);r==null&&z(!1);let{basename:n}=Ys(mr.useViewTransitionState),o=Lt(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Be(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Be(r.nextLocation.pathname,n)||r.nextLocation.pathname;return dr(o.pathname,i)!=null||dr(o.pathname,a)!=null}const Ye=[{id:"social",name:"Social Media",color:"bg-pink-500"},{id:"entertainment",name:"Entertainment",color:"bg-purple-500"},{id:"news",name:"News & Media",color:"bg-blue-500"},{id:"shopping",name:"Shopping",color:"bg-orange-500"},{id:"productivity",name:"Productivity",color:"bg-green-500"},{id:"development",name:"Development",color:"bg-gray-700"},{id:"education",name:"Education",color:"bg-teal-500"},{id:"communication",name:"Communication",color:"bg-indigo-500"},{id:"other",name:"Other",color:"bg-gray-400"}];function co(e){return Ye.find(t=>t.id===e)||Ye[Ye.length-1]}const gt={"twitter.com":"social","x.com":"social","facebook.com":"social","instagram.com":"social","linkedin.com":"social","tiktok.com":"social","reddit.com":"social","threads.net":"social","pinterest.com":"social","snapchat.com":"social","tumblr.com":"social","mastodon.social":"social","bsky.app":"social","discord.com":"social","quora.com":"social","flickr.com":"social","weibo.com":"social","vk.com":"social","nextdoor.com":"social","meetup.com":"social","youtube.com":"entertainment","netflix.com":"entertainment","twitch.tv":"entertainment","hulu.com":"entertainment","disneyplus.com":"entertainment","hbomax.com":"entertainment","max.com":"entertainment","primevideo.com":"entertainment","peacocktv.com":"entertainment","paramountplus.com":"entertainment","crunchyroll.com":"entertainment","funimation.com":"entertainment","vimeo.com":"entertainment","dailymotion.com":"entertainment","pluto.tv":"entertainment","tubi.tv":"entertainment","roku.com":"entertainment","plex.tv":"entertainment","appletv.com":"entertainment","spotify.com":"entertainment","music.apple.com":"entertainment","soundcloud.com":"entertainment","pandora.com":"entertainment","deezer.com":"entertainment","tidal.com":"entertainment","bandcamp.com":"entertainment","last.fm":"entertainment","genius.com":"entertainment","steampowered.com":"entertainment","store.steampowered.com":"entertainment","epicgames.com":"entertainment","gog.com":"entertainment","itch.io":"entertainment","roblox.com":"entertainment","minecraft.net":"entertainment","ea.com":"entertainment","ubisoft.com":"entertainment","blizzard.com":"entertainment","battle.net":"entertainment","xbox.com":"entertainment","playstation.com":"entertainment","nintendo.com":"entertainment","ign.com":"entertainment","gamespot.com":"entertainment","kotaku.com":"entertainment","polygon.com":"entertainment","pcgamer.com":"entertainment","imdb.com":"entertainment","rottentomatoes.com":"entertainment","letterboxd.com":"entertainment","goodreads.com":"entertainment","9gag.com":"entertainment","imgur.com":"entertainment","giphy.com":"entertainment","buzzfeed.com":"entertainment","cnn.com":"news","bbc.com":"news","bbc.co.uk":"news","nytimes.com":"news","theguardian.com":"news","reuters.com":"news","apnews.com":"news","washingtonpost.com":"news","wsj.com":"news","ft.com":"news","bloomberg.com":"news","cnbc.com":"news","foxnews.com":"news","msnbc.com":"news","nbcnews.com":"news","abcnews.go.com":"news","cbsnews.com":"news","usatoday.com":"news","latimes.com":"news","nypost.com":"news","dailymail.co.uk":"news","huffpost.com":"news","politico.com":"news","thehill.com":"news","axios.com":"news","vox.com":"news","vice.com":"news","theatlantic.com":"news","newyorker.com":"news","economist.com":"news","time.com":"news","newsweek.com":"news","forbes.com":"news","businessinsider.com":"news","insider.com":"news","techcrunch.com":"news","theverge.com":"news","wired.com":"news","arstechnica.com":"news","engadget.com":"news","mashable.com":"news","gizmodo.com":"news","cnet.com":"news","zdnet.com":"news","venturebeat.com":"news","thenextweb.com":"news","news.ycombinator.com":"news","slashdot.org":"news","drudgereport.com":"news","npr.org":"news","pbs.org":"news","aljazeera.com":"news","rt.com":"news","france24.com":"news","dw.com":"news","scmp.com":"news","amazon.com":"shopping","amazon.co.uk":"shopping","amazon.de":"shopping","amazon.ca":"shopping","ebay.com":"shopping","walmart.com":"shopping","target.com":"shopping","etsy.com":"shopping","aliexpress.com":"shopping","alibaba.com":"shopping","wish.com":"shopping","shopify.com":"shopping","bestbuy.com":"shopping","costco.com":"shopping","homedepot.com":"shopping","lowes.com":"shopping","ikea.com":"shopping","wayfair.com":"shopping","overstock.com":"shopping","newegg.com":"shopping","bhphotovideo.com":"shopping","zappos.com":"shopping","nordstrom.com":"shopping","macys.com":"shopping","kohls.com":"shopping","jcpenney.com":"shopping","sephora.com":"shopping","ulta.com":"shopping","nike.com":"shopping","adidas.com":"shopping","gap.com":"shopping","hm.com":"shopping","zara.com":"shopping","uniqlo.com":"shopping","asos.com":"shopping","shein.com":"shopping","chewy.com":"shopping","petco.com":"shopping","petsmart.com":"shopping","instacart.com":"shopping","doordash.com":"shopping","ubereats.com":"shopping","grubhub.com":"shopping","postmates.com":"shopping","github.com":"development","gitlab.com":"development","bitbucket.org":"development","stackoverflow.com":"development","stackexchange.com":"development","npmjs.com":"development","pypi.org":"development","rubygems.org":"development","crates.io":"development","packagist.org":"development","maven.apache.org":"development","nuget.org":"development","hub.docker.com":"development","vercel.com":"development","netlify.com":"development","heroku.com":"development","railway.app":"development","render.com":"development","fly.io":"development","digitalocean.com":"development","aws.amazon.com":"development","console.aws.amazon.com":"development","cloud.google.com":"development","console.cloud.google.com":"development","azure.microsoft.com":"development","portal.azure.com":"development","cloudflare.com":"development","dash.cloudflare.com":"development","codepen.io":"development","codesandbox.io":"development","replit.com":"development","jsfiddle.net":"development","glitch.com":"development","dev.to":"development","medium.com":"development","hashnode.com":"development","devdocs.io":"development","mdn.io":"development","developer.mozilla.org":"development","w3schools.com":"development","freecodecamp.org":"development","leetcode.com":"development","hackerrank.com":"development","codewars.com":"development","exercism.org":"development","topcoder.com":"development","codeforces.com":"development","kaggle.com":"development","huggingface.co":"development","openai.com":"development","anthropic.com":"development","linear.app":"development","jira.atlassian.com":"development","atlassian.com":"development","postman.com":"development","swagger.io":"development","regex101.com":"development","json-generator.com":"development","notion.so":"productivity","docs.google.com":"productivity","sheets.google.com":"productivity","slides.google.com":"productivity","drive.google.com":"productivity","calendar.google.com":"productivity","keep.google.com":"productivity","office.com":"productivity","office365.com":"productivity","onedrive.live.com":"productivity","sharepoint.com":"productivity","trello.com":"productivity","asana.com":"productivity","monday.com":"productivity","clickup.com":"productivity","basecamp.com":"productivity","airtable.com":"productivity","coda.io":"productivity","todoist.com":"productivity","ticktick.com":"productivity","any.do":"productivity","evernote.com":"productivity","onenote.com":"productivity","bear.app":"productivity","craft.do":"productivity","obsidian.md":"productivity","roamresearch.com":"productivity","logseq.com":"productivity","figma.com":"productivity","sketch.com":"productivity","canva.com":"productivity","miro.com":"productivity","lucidchart.com":"productivity","whimsical.com":"productivity","excalidraw.com":"productivity","loom.com":"productivity","calendly.com":"productivity","doodle.com":"productivity","typeform.com":"productivity","surveymonkey.com":"productivity","dropbox.com":"productivity","box.com":"productivity","wetransfer.com":"productivity","1password.com":"productivity","lastpass.com":"productivity","bitwarden.com":"productivity","dashlane.com":"productivity","grammarly.com":"productivity","hemingwayapp.com":"productivity","otter.ai":"productivity","zapier.com":"productivity","ifttt.com":"productivity","make.com":"productivity","n8n.io":"productivity","gmail.com":"communication","mail.google.com":"communication","outlook.com":"communication","outlook.live.com":"communication","outlook.office.com":"communication","yahoo.com":"communication","mail.yahoo.com":"communication","proton.me":"communication","protonmail.com":"communication","icloud.com":"communication","aol.com":"communication","zoho.com":"communication","fastmail.com":"communication","hey.com":"communication","slack.com":"communication","teams.microsoft.com":"communication","zoom.us":"communication","meet.google.com":"communication","webex.com":"communication","gotomeeting.com":"communication","whereby.com":"communication","around.co":"communication","gather.town":"communication","telegram.org":"communication","web.telegram.org":"communication","whatsapp.com":"communication","web.whatsapp.com":"communication","messenger.com":"communication","signal.org":"communication","skype.com":"communication","viber.com":"communication","line.me":"communication","wechat.com":"communication","intercom.com":"communication","zendesk.com":"communication","freshdesk.com":"communication","crisp.chat":"communication","drift.com":"communication","hubspot.com":"communication","mailchimp.com":"communication","sendgrid.com":"communication","constantcontact.com":"communication","coursera.org":"education","udemy.com":"education","edx.org":"education","khanacademy.org":"education","skillshare.com":"education","linkedin.com/learning":"education","pluralsight.com":"education","udacity.com":"education","codecademy.com":"education","treehouse.com":"education","datacamp.com":"education","brilliant.org":"education","masterclass.com":"education","domestika.org":"education","futurelearn.com":"education","class-central.com":"education","mit.edu":"education","stanford.edu":"education","harvard.edu":"education","yale.edu":"education","berkeley.edu":"education","ox.ac.uk":"education","cam.ac.uk":"education","wikipedia.org":"education","en.wikipedia.org":"education","britannica.com":"education","scholarpedia.org":"education","ted.com":"education","duolingo.com":"education","babbel.com":"education","rosettastone.com":"education","busuu.com":"education","memrise.com":"education","anki.net":"education","quizlet.com":"education","brainly.com":"education","chegg.com":"education","studocu.com":"education","sparknotes.com":"education","cliffsnotes.com":"education","wolframalpha.com":"education","symbolab.com":"education","desmos.com":"education","geogebra.org":"education","mathway.com":"education","photomath.com":"education","gradeup.co":"education","unacademy.com":"education","byjus.com":"education","vedantu.com":"education"};function uo(e,t){const r=e.replace(/^www\./,"");return t[r]?t[r]:t[e]?t[e]:gt[r]?gt[r]:gt[e]?gt[e]:"other"}function Oe(e){const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`}function rn(e){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Xs(e){const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-teal-500","bg-indigo-500","bg-red-500","bg-cyan-500","bg-amber-500","bg-lime-500","bg-emerald-500"];let r=0;for(let n=0;n<e.length;n++)r=e.charCodeAt(n)+((r<<5)-r);return t[Math.abs(r)%t.length]}function Zs({sessions:e,sites:t}){const n=new Date,o=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59);let i=a.getTime(),l=o.getTime();e.forEach(g=>{i=Math.min(i,g.startTime),l=Math.max(l,g.endTime)}),i=Math.max(o.getTime(),i-30*60*1e3),l=Math.min(a.getTime(),l+30*60*1e3),e.length===0&&(i=o.getTime()+8*60*60*1e3,l=n.getTime());const c=Math.max(l-i,1),u=Object.entries(t).sort((g,h)=>h[1]-g[1]),m=u.slice(0,5),d=new Map;e.forEach(g=>{const h=d.get(g.domain)||[];h.push({start:g.startTime,end:g.endTime}),d.set(g.domain,h)});for(const[g,h]of d){if(h.length<=1)continue;h.sort((x,N)=>x.start-N.start);const w=[h[0]];for(let x=1;x<h.length;x++){const N=w[w.length-1],k=h[x];k.start<=N.end?N.end=Math.max(N.end,k.end):w.push(k)}d.set(g,w)}const p=[],f=new Date(i).getHours(),b=new Date(l).getHours();for(let g=f;g<=b;g++){const h=new Date(n.getFullYear(),n.getMonth(),n.getDate(),g,0,0).getTime();if(h>=i&&h<=l){const w=(h-i)/c*100;p.push({hour:g,label:g===0?"12am":g<12?`${g}am`:g===12?"12pm":`${g-12}pm`,position:w})}}return u.length===0&&e.length===0?s.jsx("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:"No activity recorded yet today"}):u.length>0&&e.length===0?s.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[s.jsx("p",{children:"Timeline data will appear as you browse."}),s.jsx("p",{className:"text-xs mt-1",children:"Session tracking has just been enabled."})]}):s.jsxs("div",{children:[s.jsx("div",{className:"relative h-5 mb-2 ml-32",children:p.map(g=>s.jsx("div",{className:"absolute text-xs text-gray-400",style:{left:`${g.position}%`,transform:"translateX(-50%)"},children:g.label},g.hour))}),s.jsx("div",{className:"space-y-1.5",children:m.map(([g,h])=>{const w=d.get(g)||[],x=Xs(g),N=e.filter(v=>v.domain===g),E=new Set(N.map(v=>v.windowId)).size>1;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"w-28 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs font-medium truncate",title:g,children:g.replace(/^www\./,"")}),E&&s.jsx("span",{title:"Multiple windows",children:s.jsx(Yn,{className:"w-3 h-3 text-gray-400 flex-shrink-0"})})]}),s.jsx("span",{className:"text-xs text-gray-400",children:Oe(h)})]}),s.jsxs("div",{className:"flex-1 relative h-5 bg-gray-100 dark:bg-gray-700 rounded overflow-hidden",children:[p.map(v=>s.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 dark:bg-gray-600",style:{left:`${v.position}%`}},v.hour)),w.map((v,C)=>{const P=Math.max(0,(v.start-i)/c*100),O=Math.min(100,(v.end-i)/c*100),A=Math.max(.5,O-P);return s.jsx("div",{className:`absolute top-0.5 bottom-0.5 ${x} rounded-sm opacity-80`,style:{left:`${P}%`,width:`${A}%`},title:`${rn(v.start)} - ${rn(v.end)}`},C)})]})]},g)})}),u.length>5&&s.jsxs(et,{to:"/metrics",className:"mt-3 flex items-center justify-center gap-1 text-sm text-blue-600 hover:text-blue-700",children:["View all ",u.length," sites",s.jsx(Vn,{className:"w-4 h-4"})]})]})}function Qs(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function ei(){const[e,t]=y.useState(null),[r,n]=y.useState([]),[o,a]=y.useState([]),[i,l]=y.useState({}),[c,u]=y.useState(!0),m=Qs(new Date);y.useEffect(()=>{d()},[]);async function d(){try{const[g,h,w,x]=await Promise.all([chrome.runtime.sendMessage({type:"GET_STATS",payload:{date:m}}),chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"}),chrome.runtime.sendMessage({type:"GET_DAILY_LIMITS"}),chrome.runtime.sendMessage({type:"GET_DOMAIN_CATEGORIES"})]);t(g),n(h),a(w||[]),l(x||{})}catch(g){console.error("Failed to load data:",g)}finally{u(!1)}}function p(){if(!(e!=null&&e.sites))return[];const g={};let h=0;for(const[w,x]of Object.entries(e.sites)){const N=uo(w,i);g[N]=(g[N]||0)+x,h+=x}return Ye.map(w=>({category:w.id,time:g[w.id]||0,percent:h>0?(g[w.id]||0)/h*100:0})).filter(w=>w.time>0).sort((w,x)=>x.time-w.time)}function f(){return e!=null&&e.sites?o.filter(g=>g.enabled).map(g=>{const h=g.pattern.replace(/^www\./,""),w=e.sites[h]||e.sites["www."+h]||e.sites[g.pattern]||0,x=w/g.limitSeconds*100;return{limit:g,timeSpent:w,percent:x}}).filter(g=>g.percent>=70).sort((g,h)=>h.percent-g.percent):[]}if(c)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const b=e?Object.entries(e.sites).sort((g,h)=>h[1]-g[1]).slice(0,5):[];return s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Overview"}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:s.jsx(yt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Time Today"})]}),s.jsx("p",{className:"text-2xl font-bold",children:Oe((e==null?void 0:e.totalTime)||0)})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/50 rounded-lg",children:s.jsx(Fa,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Sites Visited"})]}),s.jsx("p",{className:"text-2xl font-bold",children:Object.keys((e==null?void 0:e.sites)||{}).length})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-lg",children:s.jsx(Le,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Blocks Today"})]}),s.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.blockedAttempts)||0})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/50 rounded-lg",children:s.jsx(Kn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active Blocks"})]}),s.jsx("p",{className:"text-2xl font-bold",children:r.filter(g=>g.enabled).length})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Today's Activity"}),s.jsxs(et,{to:"/metrics",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["Full timeline",s.jsx(Vn,{className:"w-4 h-4"})]})]}),s.jsx(Zs,{sessions:(e==null?void 0:e.sessions)||[],sites:(e==null?void 0:e.sites)||{}})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Top Sites Today"}),b.length>0?s.jsx("div",{className:"space-y-3",children:b.map(([g,h],w)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500 w-4",children:w+1}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium truncate",children:g}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:Oe(h)})]}),s.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${Math.min(100,h/((e==null?void 0:e.totalTime)||1)*100)}%`}})})]})]},g))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No activity recorded yet"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"By Category"}),(()=>{const g=p();return g.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No activity recorded yet"}):s.jsx("div",{className:"space-y-3",children:g.slice(0,5).map(({category:h,time:w,percent:x})=>{const N=co(h);return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${N.color}`}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:N.name}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:Oe(w)})]}),s.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${N.color} transition-all`,style:{width:`${x}%`}})})]})]},h)})})})()]})]}),(()=>{const g=f();return g.length===0?null:s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-2",children:"Limits Approaching"}),s.jsx("div",{className:"space-y-2",children:g.map(({limit:h,timeSpent:w,percent:x})=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-amber-900 dark:text-amber-200",children:h.pattern}),s.jsxs("span",{className:"text-xs text-amber-700 dark:text-amber-400",children:[Oe(w)," / ",Oe(h.limitSeconds)]})]}),s.jsx("div",{className:"h-2 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all ${x>=100?"bg-red-500":x>=90?"bg-orange-500":"bg-amber-500"}`,style:{width:`${Math.min(100,x)}%`}})})]}),s.jsx("span",{className:`text-xs font-medium ${x>=100?"text-red-600":"text-amber-600"}`,children:x>=100?"Exceeded":`${x.toFixed(0)}%`})]},h.id))})]})})(),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Blocked Sites"}),s.jsx(et,{to:"/blocked",className:"text-sm text-blue-600 hover:text-blue-700",children:"Manage"})]}),r.length>0?s.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.slice(0,6).map(g=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium truncate",children:g.pattern}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full flex-shrink-0 ${g.enabled?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:g.enabled?"On":"Off"})]},g.id))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No blocked sites configured"}),r.length>6&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center pt-3",children:["+",r.length-6," more"]})]})]})}function te(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ti=typeof Symbol=="function"&&Symbol.observable||"@@observable",nn=ti,on=()=>Math.random().toString(36).substring(7).split("").join("."),ri={INIT:`@@redux/INIT${on()}`,REPLACE:`@@redux/REPLACE${on()}`},an=ri;function ni(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function mo(e,t,r){if(typeof e!="function")throw new Error(te(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(te(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(te(1));return r(mo)(e,t)}let n=e,o=t,a=new Map,i=a,l=0,c=!1;function u(){i===a&&(i=new Map,a.forEach((h,w)=>{i.set(w,h)}))}function m(){if(c)throw new Error(te(3));return o}function d(h){if(typeof h!="function")throw new Error(te(4));if(c)throw new Error(te(5));let w=!0;u();const x=l++;return i.set(x,h),function(){if(w){if(c)throw new Error(te(6));w=!1,u(),i.delete(x),a=null}}}function p(h){if(!ni(h))throw new Error(te(7));if(typeof h.type>"u")throw new Error(te(8));if(typeof h.type!="string")throw new Error(te(17));if(c)throw new Error(te(9));try{c=!0,o=n(o,h)}finally{c=!1}return(a=i).forEach(x=>{x()}),h}function f(h){if(typeof h!="function")throw new Error(te(10));n=h,p({type:an.REPLACE})}function b(){const h=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(te(11));function x(){const k=w;k.next&&k.next(m())}return x(),{unsubscribe:h(x)}},[nn](){return this}}}return p({type:an.INIT}),{dispatch:p,subscribe:d,getState:m,replaceReducer:f,[nn]:b}}function sn(e,t){return function(...r){return t(e.apply(this,r))}}function ln(e,t){if(typeof e=="function")return sn(e,t);if(typeof e!="object"||e===null)throw new Error(te(16));const r={};for(const n in e){const o=e[n];typeof o=="function"&&(r[n]=sn(o,t))}return r}function po(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function oi(...e){return t=>(r,n)=>{const o=t(r,n);let a=()=>{throw new Error(te(15))};const i={getState:o.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(i));return a=po(...l)(o.dispatch),{...o,dispatch:a}}}var ai={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=y;function si(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ii=typeof Object.is=="function"?Object.is:si,li=dt.useSyncExternalStore,ci=dt.useRef,di=dt.useEffect,ui=dt.useMemo,mi=dt.useDebugValue;ai.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var a=ci(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=ui(function(){function c(f){if(!u){if(u=!0,m=f,f=n(f),o!==void 0&&i.hasValue){var b=i.value;if(o(b,f))return d=b}return d=f}if(b=d,ii(m,f))return b;var g=n(f);return o!==void 0&&o(b,g)?(m=f,b):(m=f,d=g)}var u=!1,m,d,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,o]);var l=li(e,a[0],a[1]);return di(function(){i.hasValue=!0,i.value=l},[l]),mi(l),l};var pi=y.version.startsWith("19"),gi=Symbol.for(pi?"react.transitional.element":"react.element"),fi=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),bi=Symbol.for("react.strict_mode"),xi=Symbol.for("react.profiler"),yi=Symbol.for("react.consumer"),vi=Symbol.for("react.context"),go=Symbol.for("react.forward_ref"),wi=Symbol.for("react.suspense"),Ni=Symbol.for("react.suspense_list"),Nr=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),Si=go,Di=Nr;function ji(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case gi:switch(e=e.type,e){case hi:case xi:case bi:case wi:case Ni:return e;default:switch(e=e&&e.$$typeof,e){case vi:case go:case ki:case Nr:return e;case yi:return e;default:return t}}case fi:return t}}}function Ci(e){return ji(e)===Nr}function Ei(e,t,r,n,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:i}){let l=!1,c,u,m,d,p;function f(x,N){return c=x,u=N,m=e(c,u),d=t(n,u),p=r(m,d,u),l=!0,p}function b(){return m=e(c,u),t.dependsOnOwnProps&&(d=t(n,u)),p=r(m,d,u),p}function g(){return e.dependsOnOwnProps&&(m=e(c,u)),t.dependsOnOwnProps&&(d=t(n,u)),p=r(m,d,u),p}function h(){const x=e(c,u),N=!i(x,m);return m=x,N&&(p=r(m,d,u)),p}function w(x,N){const k=!a(N,u),E=!o(x,c,N,u);return c=x,u=N,k&&E?b():k?g():E?h():p}return function(N,k){return l?w(N,k):f(N,k)}}function Ii(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...o}){const a=t(e,o),i=r(e,o),l=n(e,o);return Ei(a,i,l,e,o)}function Ti(e,t){const r={};for(const n in e){const o=e[n];typeof o=="function"&&(r[n]=(...a)=>t(o(...a)))}return r}function pr(e){return function(r){const n=e(r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function cn(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function fo(e,t){return function(n,{displayName:o}){const a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=cn(e);let u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=cn(u),u=a(l,c)),u},a}}function kr(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Ai(e){return e&&typeof e=="object"?pr(t=>Ti(e,t)):e?typeof e=="function"?fo(e):kr(e,"mapDispatchToProps"):pr(t=>({dispatch:t}))}function Pi(e){return e?typeof e=="function"?fo(e):kr(e,"mapStateToProps"):pr(()=>({}))}function Ri(e,t,r){return{...r,...e,...t}}function Mi(e){return function(r,{displayName:n,areMergedPropsEqual:o}){let a=!1,i;return function(c,u,m){const d=e(c,u,m);return a?o(d,i)||(i=d):(a=!0,i=d),i}}}function Oi(e){return e?typeof e=="function"?Mi(e):kr(e,"mergeProps"):()=>Ri}function Li(e){e()}function Bi(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Li(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var dn={notify(){},get:()=>[]};function ho(e,t){let r,n=dn,o=0,a=!1;function i(g){m();const h=n.subscribe(g);let w=!1;return()=>{w||(w=!0,h(),d())}}function l(){n.notify()}function c(){b.onStateChange&&b.onStateChange()}function u(){return a}function m(){o++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=Bi())}function d(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=dn)}function p(){a||(a=!0,m())}function f(){a&&(a=!1,d())}const b={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:f,getListeners:()=>n};return b}var Fi=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$i=Fi(),_i=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gi=_i(),Ui=()=>$i||Gi?y.useLayoutEffect:y.useEffect,St=Ui();function un(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Vt(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!un(e[r[o]],t[r[o]]))return!1;return!0}var Wi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Hi={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zi={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bo={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vi={[Si]:zi,[Di]:bo};function mn(e){return Ci(e)?bo:Vi[e.$$typeof]||Wi}var qi=Object.defineProperty,Yi=Object.getOwnPropertyNames,pn=Object.getOwnPropertySymbols,Ki=Object.getOwnPropertyDescriptor,Ji=Object.getPrototypeOf,gn=Object.prototype;function gr(e,t){if(typeof t!="string"){if(gn){const a=Ji(t);a&&a!==gn&&gr(e,a)}let r=Yi(t);pn&&(r=r.concat(pn(t)));const n=mn(e),o=mn(t);for(let a=0;a<r.length;++a){const i=r[a];if(!Hi[i]&&!(o&&o[i])&&!(n&&n[i])){const l=Ki(t,i);try{qi(e,i,l)}catch{}}}}return e}var qt=Symbol.for("react-redux-context"),Yt=typeof globalThis<"u"?globalThis:{};function Xi(){if(!y.createContext)return{};const e=Yt[qt]??(Yt[qt]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var xo=Xi(),Zi=[null,null];function Qi(e,t,r){St(()=>e(...t),r)}function el(e,t,r,n,o,a){e.current=n,r.current=!1,o.current&&(o.current=null,a())}function tl(e,t,r,n,o,a,i,l,c,u,m){if(!e)return()=>{};let d=!1,p=null;const f=()=>{if(d||!l.current)return;const g=t.getState();let h,w;try{h=n(g,o.current)}catch(x){w=x,p=x}w||(p=null),h===a.current?i.current||u():(a.current=h,c.current=h,i.current=!0,m())};return r.onStateChange=f,r.trySubscribe(),f(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}function rl(e,t){return e===t}function nl(e,t,r,{pure:n,areStatesEqual:o=rl,areOwnPropsEqual:a=Vt,areStatePropsEqual:i=Vt,areMergedPropsEqual:l=Vt,forwardRef:c=!1,context:u=xo}={}){const m=u,d=Pi(e),p=Ai(t),f=Oi(r),b=!!e;return h=>{const w=h.displayName||h.name||"Component",x=`Connect(${w})`,N={shouldHandleStateChanges:b,displayName:x,wrappedComponentName:w,WrappedComponent:h,initMapStateToProps:d,initMapDispatchToProps:p,initMergeProps:f,areStatesEqual:o,areStatePropsEqual:i,areOwnPropsEqual:a,areMergedPropsEqual:l};function k(C){const[P,O,A]=y.useMemo(()=>{const{reactReduxForwardedRef:D,...R}=C;return[C.context,D,R]},[C]),B=y.useMemo(()=>{let D=m;return P!=null&&P.Consumer,D},[P,m]),Y=y.useContext(B),G=!!C.store&&!!C.store.getState&&!!C.store.dispatch,pe=!!Y&&!!Y.store,U=G?C.store:Y.store,we=pe?Y.getServerState:U.getState,de=y.useMemo(()=>Ii(U.dispatch,N),[U]),[ue,me]=y.useMemo(()=>{if(!b)return Zi;const D=ho(U,G?void 0:Y.subscription),R=D.notifyNestedSubs.bind(D);return[D,R]},[U,G,Y]),S=y.useMemo(()=>G?Y:{...Y,subscription:ue},[G,Y,ue]),T=y.useRef(void 0),M=y.useRef(A),K=y.useRef(void 0),re=y.useRef(!1),J=y.useRef(!1),V=y.useRef(void 0);St(()=>(J.current=!0,()=>{J.current=!1}),[]);const Ae=y.useMemo(()=>()=>K.current&&A===M.current?K.current:de(U.getState(),A),[U,A]),Pe=y.useMemo(()=>R=>ue?tl(b,U,ue,de,M,T,re,J,K,me,R):()=>{},[ue]);Qi(el,[M,T,re,A,K,me]);let He;try{He=y.useSyncExternalStore(Pe,Ae,we?()=>de(we(),A):Ae)}catch(D){throw V.current&&(D.message+=`
The error may be correlated with this previous error:
${V.current.stack}

`),D}St(()=>{V.current=void 0,K.current=void 0,T.current=He});const Ne=y.useMemo(()=>y.createElement(h,{...He,ref:O}),[O,h,He]);return y.useMemo(()=>b?y.createElement(B.Provider,{value:S},Ne):Ne,[B,Ne,S])}const v=y.memo(k);if(v.WrappedComponent=h,v.displayName=k.displayName=x,c){const P=y.forwardRef(function(A,B){return y.createElement(v,{...A,reactReduxForwardedRef:B})});return P.displayName=x,P.WrappedComponent=h,gr(P,h)}return gr(v,h)}}var yo=nl;function ol(e){const{children:t,context:r,serverState:n,store:o}=e,a=y.useMemo(()=>{const c=ho(o);return{store:o,subscription:c,getServerState:n?()=>n:void 0}},[o,n]),i=y.useMemo(()=>o.getState(),[o]);St(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,i]);const l=r||xo;return y.createElement(l.Provider,{value:a},t)}var al=ol,sl="Invariant failed";function il(e,t){throw new Error(sl)}var ce=function(t){var r=t.top,n=t.right,o=t.bottom,a=t.left,i=n-a,l=o-r,c={top:r,right:n,bottom:o,left:a,width:i,height:l,x:a,y:r,center:{x:(n+a)/2,y:(o+r)/2}};return c},Sr=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},fn=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},ll=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Kt={top:0,right:0,bottom:0,left:0},Dr=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?Kt:n,a=t.border,i=a===void 0?Kt:a,l=t.padding,c=l===void 0?Kt:l,u=ce(Sr(r,o)),m=ce(fn(r,i)),d=ce(fn(m,c));return{marginBox:u,borderBox:ce(r),paddingBox:m,contentBox:d,margin:o,border:i,padding:c}},se=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&il(),o},cl=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Dt=function(t,r){var n=t.borderBox,o=t.border,a=t.margin,i=t.padding,l=ll(n,r);return Dr({borderBox:l,border:o,margin:a,padding:i})},jt=function(t,r){return r===void 0&&(r=cl()),Dt(t,r)},vo=function(t,r){var n={top:se(r.marginTop),right:se(r.marginRight),bottom:se(r.marginBottom),left:se(r.marginLeft)},o={top:se(r.paddingTop),right:se(r.paddingRight),bottom:se(r.paddingBottom),left:se(r.paddingLeft)},a={top:se(r.borderTopWidth),right:se(r.borderRightWidth),bottom:se(r.borderBottomWidth),left:se(r.borderLeftWidth)};return Dr({borderBox:t,margin:n,padding:o,border:a})},wo=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return vo(r,n)},tt=function(t){var r=[],n=null,o=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ct.apply(null,arguments)}function No(e,t){}No.bind(null,"warn");No.bind(null,"error");function be(){}function dl(e,t){return{...e,...t}}function ie(e,t,r){const n=t.map(o=>{const a=dl(r,o.options);return e.addEventListener(o.eventName,o.fn,a),function(){e.removeEventListener(o.eventName,o.fn,a)}});return function(){n.forEach(a=>{a()})}}const ul="Invariant failed";class Et extends Error{}Et.prototype.toString=function(){return this.message};function j(e,t){throw new Et(ul)}class ml extends H.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=be,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Et&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=ie(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Et){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const pl=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,It=e=>e+1,gl=e=>`
  You have lifted an item in position ${It(e.source.index)}
`,ko=(e,t)=>{const r=e.droppableId===t.droppableId,n=It(e.index),o=It(t.index);return r?`
      You have moved the item from position ${n}
      to position ${o}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},So=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,fl=e=>{const t=e.destination;if(t)return ko(e.source,t);const r=e.combine;return r?So(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},hn=e=>`
  The item has returned to its starting position
  of ${It(e.index)}
`,hl=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${hn(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${ko(e.source,t)}
    `:r?`
      You have dropped the item.
      ${So(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${hn(e.source)}
  `},xt={dragHandleUsageInstructions:pl,onDragStart:gl,onDragUpdate:fl,onDragEnd:hl};function bl(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Do(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!bl(e[r],t[r]))return!1;return!0}function L(e,t){const r=y.useState(()=>({inputs:t,result:e()}))[0],n=y.useRef(!0),o=y.useRef(r),i=n.current||!!(t&&o.current.inputs&&Do(t,o.current.inputs))?o.current:{inputs:t,result:e()};return y.useEffect(()=>{n.current=!1,o.current=i},[i]),i.result}function I(e,t){return L(()=>e,t)}const Z={x:0,y:0},Q=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ne=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),xe=(e,t)=>e.x===t.x&&e.y===t.y,Ge=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Ee=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},rt=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),bn=(e,t)=>Math.min(...t.map(r=>rt(e,r))),jo=e=>t=>({x:e(t.x),y:e(t.y)});var xl=(e,t)=>{const r=ce({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const ut=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),xn=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],yl={top:0,right:0,bottom:0,left:0},vl=(e,t)=>t?ut(e,t.scroll.diff.displacement):e,wl=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,Nl=(e,t)=>t&&t.shouldClipSubject?xl(t.pageMarginBox,e):ce(e);var Fe=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const o=vl(e.marginBox,n),a=wl(o,r,t),i=Nl(a,n);return{page:e,withPlaceholder:t,active:i}},jr=(e,t)=>{e.frame||j();const r=e.frame,n=ne(t,r.scroll.initial),o=Ge(n),a={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}},i=Fe({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:i}};function X(e,t=Do){let r=null;function n(...o){if(r&&r.lastThis===this&&t(o,r.lastArgs))return r.lastResult;const a=e.apply(this,o);return r={lastResult:a,lastArgs:o,lastThis:this},a}return n.clear=function(){r=null},n}const Co=X(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Eo=X(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Bt=X(e=>Object.values(e)),kl=X(e=>Object.values(e));var Ue=X((e,t)=>kl(t).filter(n=>e===n.descriptor.droppableId).sort((n,o)=>n.descriptor.index-o.descriptor.index));function Cr(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Ft(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var $t=X((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Sl=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:o})=>{if(!r.isCombineEnabled||!Cr(o))return null;function i(f){const b={type:"COMBINE",combine:{draggableId:f,droppableId:r.descriptor.id}};return{...o,at:b}}const l=o.displaced.all,c=l.length?l[0]:null;if(e)return c?i(c):null;const u=$t(t,n);if(!c){if(!u.length)return null;const f=u[u.length-1];return i(f.descriptor.id)}const m=u.findIndex(f=>f.descriptor.id===c);m===-1&&j();const d=m-1;if(d<0)return null;const p=u[d];return i(p.descriptor.id)},We=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Io={point:Z,value:0},nt={invisible:{},visible:{},all:[]},Dl={displaced:nt,displacedBy:Io,at:null};var le=(e,t)=>r=>e<=r&&r<=t,To=e=>{const t=le(e.top,e.bottom),r=le(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const a=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(a&&i)return!0;const c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right;return c&&u?!0:c&&i||u&&a}},jl=e=>{const t=le(e.top,e.bottom),r=le(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const Er={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ao={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Cl=e=>t=>{const r=le(t.top,t.bottom),n=le(t.left,t.right);return o=>e===Er?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)};const El=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Z;return ut(e,r)},Il=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Tl=(e,t,r)=>r(t)(e),Ir=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:o})=>{const a=n?El(e,t):e;return Il(a,t,o)&&Tl(a,r,o)},Al=e=>Ir({...e,isVisibleThroughFrameFn:To}),Po=e=>Ir({...e,isVisibleThroughFrameFn:jl}),Pl=e=>Ir({...e,isVisibleThroughFrameFn:Cl(e.destination.axis)}),Rl=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:o}=t;if(n[e])return!1;const a=o[e];return a?a.shouldAnimate:!0};function Ml(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return ce(Sr(r,n))}function ot({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:o,last:a}){return e.reduce(function(l,c){const u=Ml(c,r),m=c.descriptor.id;if(l.all.push(m),!Al({target:u,destination:t,viewport:n,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const p=Rl(m,a,o),f={draggableId:m,shouldAnimate:p};return l.visible[m]=f,l},{all:[],visible:{},invisible:{}})}function Ol(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function yn({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const o=Ol(e,{inHomeList:t});return{displaced:nt,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Tt({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:o,last:a,index:i,forceShouldAnimate:l}){const c=We(e,r);if(i==null)return yn({insideDestination:t,inHomeList:c,displacedBy:o,destination:r});const u=t.find(b=>b.descriptor.index===i);if(!u)return yn({insideDestination:t,inHomeList:c,displacedBy:o,destination:r});const m=$t(e,t),d=t.indexOf(u),p=m.slice(d);return{displaced:ot({afterDragging:p,destination:r,displacedBy:o,last:a,viewport:n.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function ye(e,t){return!!t.effected[e]}var Ll=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const a=n.draggableId,l=r[a].descriptor.index;return ye(a,o)?e?l:l-1:e?l+1:l},Bl=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const o=n.index,a=e?o+1:o-1,i=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return a<i||a>c?null:a},Fl=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:o,insideDestination:a,previousImpact:i,viewport:l,afterCritical:c})=>{const u=i.at;if(u||j(),u.type==="REORDER"){const d=Bl({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:a});return d==null?null:Tt({draggable:r,insideDestination:a,destination:o,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:d})}const m=Ll({isMovingForward:e,destination:o,displaced:i.displaced,draggables:n,combine:u.combine,afterCritical:c});return m==null?null:Tt({draggable:r,insideDestination:a,destination:o,viewport:l,last:i.displaced,displacedBy:i.displacedBy,index:m})},$l=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const o=!!(e.visible[r]||e.invisible[r]);return ye(r,t)?o?Z:Ge(n.point):o?n.point:Z},_l=({afterCritical:e,impact:t,draggables:r})=>{const n=Ft(t);n||j();const o=n.draggableId,a=r[o].page.borderBox.center,i=$l({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return Q(a,i)};const Ro=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Gl=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Tr=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,vn=({axis:e,moveRelativeTo:t,isMoving:r})=>Ee(e.line,t.marginBox[e.end]+Ro(e,r),Tr(e,t.marginBox,r)),wn=({axis:e,moveRelativeTo:t,isMoving:r})=>Ee(e.line,t.marginBox[e.start]-Gl(e,r),Tr(e,t.marginBox,r)),Ul=({axis:e,moveInto:t,isMoving:r})=>Ee(e.line,t.contentBox[e.start]+Ro(e,r),Tr(e,t.contentBox,r));var Wl=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o})=>{const a=Ue(n.descriptor.id,r),i=t.page,l=n.axis;if(!a.length)return Ul({axis:l,moveInto:n.page,isMoving:i});const{displaced:c,displacedBy:u}=e,m=c.all[0];if(m){const p=r[m];if(ye(m,o))return wn({axis:l,moveRelativeTo:p.page,isMoving:i});const f=Dt(p.page,u.point);return wn({axis:l,moveRelativeTo:f,isMoving:i})}const d=a[a.length-1];if(d.descriptor.id===t.descriptor.id)return i.borderBox.center;if(ye(d.descriptor.id,o)){const p=Dt(d.page,Ge(o.displacedBy.point));return vn({axis:l,moveRelativeTo:p,isMoving:i})}return vn({axis:l,moveRelativeTo:d.page,isMoving:i})},fr=(e,t)=>{const r=e.frame;return r?Q(t,r.scroll.diff.displacement):t};const Hl=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:o})=>{const a=t.page.borderBox.center,i=e.at;return!r||!i?a:i.type==="REORDER"?Wl({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o}):_l({impact:e,draggables:n,afterCritical:o})};var _t=e=>{const t=Hl(e),r=e.droppable;return r?fr(r,t):t},Mo=(e,t)=>{const r=ne(t,e.scroll.initial),n=Ge(r);return{frame:ce({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function Nn(e,t){return e.map(r=>t[r])}function zl(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var Vl=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:o})=>{const a=Mo(t,Q(t.scroll.current,o)),i=r.frame?jr(r,Q(r.frame.scroll.current,o)):r,l=e.displaced,c=ot({afterDragging:Nn(l.all,n),destination:r,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=ot({afterDragging:Nn(l.all,n),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),m={},d={},p=[l,c,u];return l.all.forEach(b=>{const g=zl(b,p);if(g){d[b]=g;return}m[b]=!0}),{...e,displaced:{all:l.all,invisible:m,visible:d}}},ql=(e,t)=>Q(e.scroll.diff.displacement,t),Ar=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=ql(r,e),o=ne(n,t.page.borderBox.center);return Q(t.client.borderBox.center,o)},Oo=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{const i=ne(r,e.page.borderBox.center),c={target:ut(e.page.borderBox,i),destination:t,withDroppableDisplacement:o,viewport:n};return a?Pl(c):Po(c)},Yl=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:o,viewport:a,previousPageBorderBoxCenter:i,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const u=Ue(r.descriptor.id,n),m=We(t,r),d=Sl({isMovingForward:e,draggable:t,destination:r,insideDestination:u,previousImpact:o})||Fl({isMovingForward:e,isInHomeList:m,draggable:t,draggables:n,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!d)return null;const p=_t({impact:d,draggable:t,droppable:r,draggables:n,afterCritical:c});if(Oo({draggable:t,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ar({pageBorderBoxCenter:p,draggable:t,viewport:a}),impact:d,scrollJumpRequest:null};const b=ne(p,i),g=Vl({impact:d,viewport:a,destination:r,draggables:n,maxScrollChange:b});return{clientSelection:l,impact:g,scrollJumpRequest:b}};const ee=e=>{const t=e.subject.active;return t||j(),t};var Kl=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:o})=>{const a=r.subject.active;if(!a)return null;const i=r.axis,l=le(a[i.start],a[i.end]),c=Bt(n).filter(m=>m!==r).filter(m=>m.isEnabled).filter(m=>!!m.subject.active).filter(m=>To(o.frame)(ee(m))).filter(m=>{const d=ee(m);return e?a[i.crossAxisEnd]<d[i.crossAxisEnd]:d[i.crossAxisStart]<a[i.crossAxisStart]}).filter(m=>{const d=ee(m),p=le(d[i.start],d[i.end]);return l(d[i.start])||l(d[i.end])||p(a[i.start])||p(a[i.end])}).sort((m,d)=>{const p=ee(m)[i.crossAxisStart],f=ee(d)[i.crossAxisStart];return e?p-f:f-p}).filter((m,d,p)=>ee(m)[i.crossAxisStart]===ee(p[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(m=>le(ee(m)[i.start],ee(m)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((m,d)=>ee(m)[i.start]-ee(d)[i.start])[0]:c.sort((m,d)=>{const p=bn(t,xn(ee(m))),f=bn(t,xn(ee(d)));return p!==f?p-f:ee(m)[i.start]-ee(d)[i.start]})[0]};const kn=(e,t)=>{const r=e.page.borderBox.center;return ye(e.descriptor.id,t)?ne(r,t.displacedBy.point):r},Jl=(e,t)=>{const r=e.page.borderBox;return ye(e.descriptor.id,t)?ut(r,Ge(t.displacedBy.point)):r};var Xl=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:o})=>n.filter(i=>Po({target:Jl(i,o),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,l)=>{const c=rt(e,fr(r,kn(i,o))),u=rt(e,fr(r,kn(l,o)));return c<u?-1:u<c?1:i.descriptor.index-l.descriptor.index})[0]||null,mt=X(function(t,r){const n=r[t.line];return{value:n,point:Ee(t.line,n)}});const Zl=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Ee(n.line,t[n.line]);const o=e.subject.page.contentBox[n.size],c=Ue(e.descriptor.id,r).reduce((u,m)=>u+m.client.marginBox[n.size],0)+t[n.line]-o;return c<=0?null:Ee(n.line,c)},Lo=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Bo=(e,t,r)=>{const n=e.frame;We(t,e)&&j(),e.subject.withPlaceholder&&j();const o=mt(e.axis,t.displaceBy).point,a=Zl(e,o,r),i={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const m=Fe({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:m}}const l=a?Q(n.scroll.max,a):n.scroll.max,c=Lo(n,l),u=Fe({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},Ql=e=>{const t=e.subject.withPlaceholder;t||j();const r=e.frame;if(!r){const i=Fe({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const n=t.oldFrameMaxScroll;n||j();const o=Lo(r,n),a=Fe({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var ec=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:o,destination:a,viewport:i,afterCritical:l})=>{if(!t){if(r.length)return null;const d={displaced:nt,displacedBy:Io,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},p=_t({impact:d,draggable:n,droppable:a,draggables:o,afterCritical:l}),f=We(n,a)?a:Bo(a,n,o);return Oo({draggable:n,destination:f,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],u=(()=>{const d=t.descriptor.index;return t.descriptor.id===n.descriptor.id||c?d:d+1})(),m=mt(a.axis,n.displaceBy);return Tt({draggable:n,insideDestination:r,destination:a,viewport:i,displacedBy:m,last:nt,index:u})},tc=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:o,droppables:a,viewport:i,afterCritical:l})=>{const c=Kl({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:a,viewport:i});if(!c)return null;const u=Ue(c.descriptor.id,o),m=Xl({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:u,afterCritical:l}),d=ec({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:o,moveRelativeTo:m,insideDestination:u,viewport:i,afterCritical:l});if(!d)return null;const p=_t({impact:d,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Ar({pageBorderBoxCenter:p,draggable:r,viewport:i}),impact:d,scrollJumpRequest:null}},oe=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const rc=(e,t)=>{const r=oe(e);return r?t[r]:null};var nc=({state:e,type:t})=>{const r=rc(e.impact,e.dimensions.droppables),n=!!r,o=e.dimensions.droppables[e.critical.droppable.id],a=r||o,i=a.axis.direction,l=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!n)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,{draggables:d,droppables:p}=e.dimensions;return l?Yl({isMovingForward:c,previousPageBorderBoxCenter:m,draggable:u,destination:a,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):tc({isMovingForward:c,previousPageBorderBoxCenter:m,draggable:u,isOver:a,draggables:d,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function je(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Fo(e){const t=le(e.top,e.bottom),r=le(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function oc(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function ac({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,o=r.map(a=>{const i=a.axis,l=Ee(a.axis.line,e.center[i.line],a.page.borderBox.center[i.crossAxisLine]);return{id:a.descriptor.id,distance:rt(n,l)}}).sort((a,i)=>i.distance-a.distance);return o[0]?o[0].id:null}function sc({pageBorderBox:e,draggable:t,droppables:r}){const n=Bt(r).filter(o=>{if(!o.isEnabled)return!1;const a=o.subject.active;if(!a||!oc(e,a))return!1;if(Fo(a)(e.center))return!0;const i=o.axis,l=a.center[i.crossAxisLine],c=e[i.crossAxisStart],u=e[i.crossAxisEnd],m=le(a[i.crossAxisStart],a[i.crossAxisEnd]),d=m(c),p=m(u);return!d&&!p?!0:d?c<l:u>l});return n.length?n.length===1?n[0].descriptor.id:ac({pageBorderBox:e,draggable:t,candidates:n}):null}const $o=(e,t)=>ce(ut(e,t));var ic=(e,t)=>{const r=e.frame;return r?$o(t,r.scroll.diff.value):t};function _o({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function lc({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var cc=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:o,viewport:a,afterCritical:i})=>{const l=r.axis,c=mt(r.axis,t.displaceBy),u=c.value,m=e[l.start],d=e[l.end],f=$t(t,n).find(g=>{const h=g.descriptor.id,w=g.page.borderBox.center[l.line],x=ye(h,i),N=_o({displaced:o,id:h});return x?N?d<=w:m<w-u:N?d<=w+u:m<w})||null,b=lc({draggable:t,closest:f,inHomeList:We(t,r)});return Tt({draggable:t,insideDestination:n,destination:r,viewport:a,last:o,displacedBy:c,index:b})};const dc=4;var uc=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:o,afterCritical:a})=>{if(!n.isCombineEnabled)return null;const i=n.axis,l=mt(n.axis,e.displaceBy),c=l.value,u=t[i.start],m=t[i.end],p=$t(e,o).find(b=>{const g=b.descriptor.id,h=b.page.borderBox,x=h[i.size]/dc,N=ye(g,a),k=_o({displaced:r.displaced,id:g});return N?k?m>h[i.start]+x&&m<h[i.end]-x:u>h[i.start]-c+x&&u<h[i.end]-c-x:k?m>h[i.start]+c+x&&m<h[i.end]+c-x:u>h[i.start]+x&&u<h[i.end]-x});return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:n.descriptor.id}}}:null},Go=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:o,viewport:a,afterCritical:i})=>{const l=$o(t.page.borderBox,e),c=sc({pageBorderBox:l,draggable:t,droppables:n});if(!c)return Dl;const u=n[c],m=Ue(u.descriptor.id,r),d=ic(u,l);return uc({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:o,destination:u,insideDestination:m,afterCritical:i})||cc({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:u,insideDestination:m,last:o.displaced,viewport:a,afterCritical:i})},Pr=(e,t)=>({...e,[t.descriptor.id]:t});const mc=({previousImpact:e,impact:t,droppables:r})=>{const n=oe(e),o=oe(t);if(!n||n===o)return r;const a=r[n];if(!a.subject.withPlaceholder)return r;const i=Ql(a);return Pr(r,i)};var pc=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:o})=>{const a=mc({previousImpact:n,impact:o,droppables:r}),i=oe(o);if(!i)return a;const l=r[i];if(We(e,l)||l.subject.withPlaceholder)return a;const c=Bo(l,e,t);return Pr(a,c)},Ke=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:o,scrollJumpRequest:a})=>{const i=n||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,u=ne(c,e.initial.client.selection),m={offset:u,selection:c,borderBoxCenter:Q(e.initial.client.borderBoxCenter,u)},d={selection:Q(m.selection,i.scroll.current),borderBoxCenter:Q(m.borderBoxCenter,i.scroll.current),offset:Q(m.offset,i.scroll.diff.value)},p={client:m,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:i,current:p};const f=l.draggables[e.critical.draggable.id],b=o||Go({pageOffset:d.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),g=pc({draggable:f,impact:b,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:g},impact:b,viewport:i,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function gc(e,t){return e.map(r=>t[r])}var Uo=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:o})=>{const a=e.displaced,i=gc(a.all,r),l=ot({afterDragging:i,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:a});return{...e,displaced:l}},Wo=({impact:e,draggable:t,droppable:r,draggables:n,viewport:o,afterCritical:a})=>{const i=_t({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a});return Ar({pageBorderBoxCenter:i,draggable:t,viewport:o})},Ho=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&j();const n=e.impact,o=r||e.viewport,a=t||e.dimensions,{draggables:i,droppables:l}=a,c=i[e.critical.draggable.id],u=oe(n);u||j();const m=l[u],d=Uo({impact:n,viewport:o,destination:m,draggables:i}),p=Wo({impact:d,draggable:c,droppable:m,draggables:i,viewport:o,afterCritical:e.afterCritical});return Ke({impact:d,clientSelection:p,state:e,dimensions:a,viewport:o})},fc=e=>({index:e.index,droppableId:e.droppableId}),zo=({draggable:e,home:t,draggables:r,viewport:n})=>{const o=mt(t.axis,e.displaceBy),a=Ue(t.descriptor.id,r),i=a.indexOf(e);i===-1&&j();const l=a.slice(i+1),c=l.reduce((p,f)=>(p[f.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:c};return{impact:{displaced:ot({afterDragging:l,destination:t,displacedBy:o,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:fc(e.descriptor)}},afterCritical:u}},hc=(e,t)=>({draggables:e.draggables,droppables:Pr(e.droppables,t)}),bc=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=Dt(e.client,t),o=jt(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:o}},xc=e=>{const t=e.frame;return t||j(),t},yc=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(o=>{const a=o.descriptor.droppableId,i=t[a],c=xc(i).scroll.diff.value,u=Q(n,c);return bc({draggable:o,offset:u,initialWindowScroll:r.scroll.initial})})},vc=({state:e,published:t})=>{const r=t.modified.map(w=>{const x=e.dimensions.droppables[w.droppableId];return jr(x,w.scroll)}),n={...e.dimensions.droppables,...Co(r)},o=Eo(yc({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),a={...e.dimensions.draggables,...o};t.removals.forEach(w=>{delete a[w]});const i={droppables:n,draggables:a},l=oe(e.impact),c=l?i.droppables[l]:null,u=i.draggables[e.critical.draggable.id],m=i.droppables[e.critical.droppable.id],{impact:d,afterCritical:p}=zo({draggable:u,home:m,draggables:a,viewport:e.viewport}),f=c&&c.isCombineEnabled?e.impact:d,b=Go({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:f,viewport:e.viewport,afterCritical:p}),g={...e,phase:"DRAGGING",impact:b,onLiftImpact:d,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const hr=e=>e.movementMode==="SNAP",Jt=(e,t,r)=>{const n=hc(e.dimensions,t);return!hr(e)||r?Ke({state:e,dimensions:n}):Ho({state:e,dimensions:n})};function Xt(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Sn={phase:"IDLE",completed:null,shouldFlush:!1};var wc=(e=Sn,t)=>{if(t.type==="FLUSH")return{...Sn,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&j();const{critical:r,clientSelection:n,viewport:o,dimensions:a,movementMode:i}=t.payload,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:n,borderBoxCenter:l.client.borderBox.center,offset:Z},m={client:u,page:{selection:Q(u.selection,o.scroll.initial),borderBoxCenter:Q(u.selection,o.scroll.initial),offset:Q(u.selection,o.scroll.diff.value)}},d=Bt(a.droppables).every(g=>!g.isFixedOnPage),{impact:p,afterCritical:f}=zo({draggable:l,home:c,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:i,dimensions:a,initial:m,current:m,isWindowScrollAllowed:d,impact:p,afterCritical:f,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&j(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||j(),vc({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;je(e)||j();const{client:r}=t.payload;return xe(r,e.current.client.selection)?e:Ke({state:e,clientSelection:r,impact:hr(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Xt(e);je(e)||j();const{id:r,newScroll:n}=t.payload,o=e.dimensions.droppables[r];if(!o)return e;const a=jr(o,n);return Jt(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;je(e)||j();const{id:r,isEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||j(),o.isEnabled===n&&j();const a={...o,isEnabled:n};return Jt(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;je(e)||j();const{id:r,isCombineEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||j(),o.isCombineEnabled===n&&j();const a={...o,isCombineEnabled:n};return Jt(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;je(e)||j(),e.isWindowScrollAllowed||j();const r=t.payload.newScroll;if(xe(e.viewport.scroll.current,r))return Xt(e);const n=Mo(e.viewport,r);return hr(e)?Ho({state:e,viewport:n}):Ke({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!je(e))return e;const r=t.payload.maxScroll;if(xe(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&j();const r=nc({state:e,type:t.type});return r?Ke({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&j(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||j(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function F(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Nc=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),kc=e=>({type:"LIFT",payload:e}),Sc=e=>({type:"INITIAL_PUBLISH",payload:e}),Dc=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),jc=()=>({type:"COLLECTION_STARTING",payload:null}),Cc=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Ec=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Ic=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Vo=e=>({type:"MOVE",payload:e}),Tc=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Ac=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Pc=()=>({type:"MOVE_UP",payload:null}),Rc=()=>({type:"MOVE_DOWN",payload:null}),Mc=()=>({type:"MOVE_RIGHT",payload:null}),Oc=()=>({type:"MOVE_LEFT",payload:null}),Rr=()=>({type:"FLUSH",payload:null}),Lc=e=>({type:"DROP_ANIMATE",payload:e}),Mr=e=>({type:"DROP_COMPLETE",payload:e}),qo=e=>({type:"DROP",payload:e}),Bc=e=>({type:"DROP_PENDING",payload:e}),Yo=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Fc=e=>({getState:t,dispatch:r})=>n=>o=>{if(!F(o,"LIFT")){n(o);return}const{id:a,clientSelection:i,movementMode:l}=o.payload,c=t();c.phase==="DROP_ANIMATING"&&r(Mr({completed:c.completed})),t().phase!=="IDLE"&&j(),r(Rr()),r(Nc({draggableId:a,movementMode:l}));const m={draggableId:a,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:d,dimensions:p,viewport:f}=e.startPublishing(m);r(Sc({critical:d,dimensions:p,clientSelection:i,movementMode:l,viewport:f}))},$c=e=>()=>t=>r=>{F(r,"INITIAL_PUBLISH")&&e.dragging(),F(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(F(r,"FLUSH")||F(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const Or={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},at={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ko={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Se=`${Ko.outOfTheWay}s ${Or.outOfTheWay}`,Je={fluid:`opacity ${Se}`,snap:`transform ${Se}, opacity ${Se}`,drop:e=>{const t=`${e}s ${Or.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Se}`,placeholder:`height ${Se}, width ${Se}, margin ${Se}`},Dn=e=>xe(e,Z)?void 0:`translate(${e.x}px, ${e.y}px)`,br={moveTo:Dn,drop:(e,t)=>{const r=Dn(e);if(r)return t?`${r} scale(${at.scale.drop})`:r}},{minDropTime:xr,maxDropTime:Jo}=Ko,_c=Jo-xr,jn=1500,Gc=.6;var Uc=({current:e,destination:t,reason:r})=>{const n=rt(e,t);if(n<=0)return xr;if(n>=jn)return Jo;const o=n/jn,a=xr+_c*o,i=r==="CANCEL"?a*Gc:a;return Number(i.toFixed(2))},Wc=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:o})=>{const{draggables:a,droppables:i}=r,l=oe(e),c=l?i[l]:null,u=i[t.descriptor.droppableId],m=Wo({impact:e,draggable:t,draggables:a,afterCritical:o,droppable:c||u,viewport:n});return ne(m,t.client.borderBox.center)},Hc=({draggables:e,reason:t,lastImpact:r,home:n,viewport:o,onLiftImpact:a})=>!r.at||t!=="DROP"?{impact:Uo({draggables:e,impact:a,destination:n,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:nt},didDropInsideDroppable:!0};const zc=({getState:e,dispatch:t})=>r=>n=>{if(!F(n,"DROP")){r(n);return}const o=e(),a=n.payload.reason;if(o.phase==="COLLECTING"){t(Bc({reason:a}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&j(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||j();const l=o.critical,c=o.dimensions,u=c.draggables[o.critical.draggable.id],{impact:m,didDropInsideDroppable:d}=Hc({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=d?Cr(m):null,f=d?Ft(m):null,b={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:b,reason:a,mode:o.movementMode,destination:p,combine:f},h=Wc({impact:m,draggable:u,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),w={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:m};if(!(!xe(o.current.client.offset,h)||!!g.combine)){t(Mr({completed:w}));return}const N=Uc({current:o.current.client.offset,destination:h,reason:a});t(Lc({newHomeClientOffset:h,dropDuration:N,completed:w}))};var Xo=()=>({x:window.pageXOffset,y:window.pageYOffset});function Vc(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function qc({onWindowScroll:e}){function t(){e(Xo())}const r=tt(t),n=Vc(r);let o=be;function a(){return o!==be}function i(){a()&&j(),o=ie(window,[n])}function l(){a()||j(),r.cancel(),o(),o=be}return{start:i,stop:l,isActive:a}}const Yc=e=>F(e,"DROP_COMPLETE")||F(e,"DROP_ANIMATE")||F(e,"FLUSH"),Kc=e=>{const t=qc({onWindowScroll:r=>{e.dispatch(Tc({newScroll:r}))}});return r=>n=>{!t.isActive()&&F(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&Yc(n)&&t.stop(),r(n)}};var Jc=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),o=a=>{t||r||(t=!0,e(a),clearTimeout(n))};return o.wasCalled=()=>t,o},Xc=()=>{const e=[],t=o=>{const a=e.findIndex(l=>l.timerId===o);a===-1&&j();const[i]=e.splice(a,1);i.callback()};return{add:o=>{const a=setTimeout(()=>t(a)),i={timerId:a,callback:o};e.push(i)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const Zc=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Qc=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,ed=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},ze=(e,t)=>{t()},ft=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Zt(e,t,r,n){if(!e){r(n(t));return}const o=Jc(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}var td=(e,t)=>{const r=Xc();let n=null;const o=(d,p)=>{n&&j(),ze("onBeforeCapture",()=>{const f=e().onBeforeCapture;f&&f({draggableId:d,mode:p})})},a=(d,p)=>{n&&j(),ze("onBeforeDragStart",()=>{const f=e().onBeforeDragStart;f&&f(ft(d,p))})},i=(d,p)=>{n&&j();const f=ft(d,p);n={mode:p,lastCritical:d,lastLocation:f.source,lastCombine:null},r.add(()=>{ze("onDragStart",()=>Zt(e().onDragStart,f,t,xt.onDragStart))})},l=(d,p)=>{const f=Cr(p),b=Ft(p);n||j();const g=!ed(d,n.lastCritical);g&&(n.lastCritical=d);const h=!Zc(n.lastLocation,f);h&&(n.lastLocation=f);const w=!Qc(n.lastCombine,b);if(w&&(n.lastCombine=b),!g&&!h&&!w)return;const x={...ft(d,n.mode),combine:b,destination:f};r.add(()=>{ze("onDragUpdate",()=>Zt(e().onDragUpdate,x,t,xt.onDragUpdate))})},c=()=>{n||j(),r.flush()},u=d=>{n||j(),n=null,ze("onDragEnd",()=>Zt(e().onDragEnd,d,t,xt.onDragEnd))};return{beforeCapture:o,beforeStart:a,start:i,update:l,flush:c,drop:u,abort:()=>{if(!n)return;const d={...ft(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};u(d)}}},rd=(e,t)=>{const r=td(e,t);return n=>o=>a=>{if(F(a,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(F(a,"INITIAL_PUBLISH")){const l=a.payload.critical;r.beforeStart(l,a.payload.movementMode),o(a),r.start(l,a.payload.movementMode);return}if(F(a,"DROP_COMPLETE")){const l=a.payload.completed.result;r.flush(),o(a),r.drop(l);return}if(o(a),F(a,"FLUSH")){r.abort();return}const i=n.getState();i.phase==="DRAGGING"&&r.update(i.critical,i.impact)}};const nd=e=>t=>r=>{if(!F(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&j(),e.dispatch(Mr({completed:n.completed}))},od=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return o=>a=>{if((F(a,"FLUSH")||F(a,"DROP_COMPLETE")||F(a,"DROP_ANIMATION_FINISHED"))&&n(),o(a),!F(a,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Yo())}};r=requestAnimationFrame(()=>{r=null,t=ie(window,[i])})}};var ad=e=>()=>t=>r=>{(F(r,"DROP_COMPLETE")||F(r,"FLUSH")||F(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},sd=e=>{let t=!1;return()=>r=>n=>{if(F(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(F(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(F(n,"DROP_COMPLETE")){t=!1;const o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const id=e=>F(e,"DROP_COMPLETE")||F(e,"DROP_ANIMATE")||F(e,"FLUSH");var ld=e=>t=>r=>n=>{if(id(n)){e.stop(),r(n);return}if(F(n,"INITIAL_PUBLISH")){r(n);const o=t.getState();o.phase!=="DRAGGING"&&j(),e.start(o);return}r(n),e.scroll(t.getState())};const cd=e=>t=>r=>{if(t(r),!F(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(qo({reason:n.reason})))},dd=po;var ud=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:o,autoScroller:a})=>mo(wc,dd(oi($c(r),ad(e),Fc(e),zc,nd,od,cd,ld(a),Kc,sd(t),rd(n,o))));const Qt=()=>({additions:{},removals:{},modified:{}});function md({registry:e,callbacks:t}){let r=Qt(),n=null;const o=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:c,removals:u,modified:m}=r,d=Object.keys(c).map(b=>e.draggable.getById(b).getDimension(Z)).sort((b,g)=>b.descriptor.index-g.descriptor.index),p=Object.keys(m).map(b=>{const h=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:h}}),f={additions:d,removals:Object.keys(u),modified:p};r=Qt(),t.publish(f)}))};return{add:c=>{const u=c.descriptor.id;r.additions[u]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[u]&&delete r.removals[u],o()},remove:c=>{const u=c.descriptor;r.removals[u.id]=!0,r.modified[u.droppableId]=!0,r.additions[u.id]&&delete r.additions[u.id],o()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=Qt())}}}var Zo=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const o=ne({x:t,y:e},{x:n,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Qo=()=>{const e=document.documentElement;return e||j(),e},ea=()=>{const e=Qo();return Zo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},pd=()=>{const e=Xo(),t=ea(),r=e.y,n=e.x,o=Qo(),a=o.clientWidth,i=o.clientHeight,l=n+a,c=r+i;return{frame:ce({top:r,left:n,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Z,displacement:Z}}}},gd=({critical:e,scrollOptions:t,registry:r})=>{const n=pd(),o=n.scroll.current,a=e.droppable,i=r.droppable.getAllByType(a.type).map(m=>m.callbacks.getDimensionAndWatchScroll(o,t)),l=r.draggable.getAllByType(e.draggable.type).map(m=>m.getDimension(o));return{dimensions:{draggables:Eo(l),droppables:Co(i)},critical:e,viewport:n}};function Cn(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var fd=(e,t)=>{let r=null;const n=md({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(p,f)=>{e.droppable.exists(p)||j(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:f})},a=(p,f)=>{r&&(e.droppable.exists(p)||j(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:f}))},i=(p,f)=>{r&&(e.droppable.exists(p)||j(),t.updateDroppableScroll({id:p,newScroll:f}))},l=(p,f)=>{r&&e.droppable.getById(p).callbacks.scroll(f)},c=()=>{if(!r)return;n.stop();const p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(f=>f.callbacks.dragStopped()),r.unsubscribe(),r=null},u=p=>{r||j();const f=r.critical.draggable;p.type==="ADDITION"&&Cn(e,f,p.value)&&n.add(p.value),p.type==="REMOVAL"&&Cn(e,f,p.value)&&n.remove(p.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:i,startPublishing:p=>{r&&j();const f=e.draggable.getById(p.draggableId),b=e.droppable.getById(f.descriptor.droppableId),g={draggable:f.descriptor,droppable:b.descriptor},h=e.subscribe(u);return r={critical:g,unsubscribe:h},gd({critical:g,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},ta=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",hd=e=>{window.scrollBy(e.x,e.y)};const bd=X(e=>Bt(e).filter(t=>!(!t.isEnabled||!t.frame))),xd=(e,t)=>bd(t).find(n=>(n.frame||j(),Fo(n.frame.pageMarginBox)(e)))||null;var yd=({center:e,destination:t,droppables:r})=>{if(t){const o=r[t];return o.frame?o:null}return xd(e,r)};const st={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var vd=(e,t,r=()=>st)=>{const n=r(),o=e[t.size]*n.startFromPercentage,a=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:a}},ra=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},Lr=1,wd=(e,t,r=()=>st)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return Lr;const a=1-ra({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(a);return Math.ceil(i)},Nd=(e,t,r)=>{const n=r(),o=n.durationDampening.accelerateAt,a=n.durationDampening.stopDampeningAt,i=t,l=a,u=Date.now()-i;if(u>=a)return e;if(u<o)return Lr;const m=ra({startOfRange:o,endOfRange:l,current:u}),d=e*n.ease(m);return Math.ceil(d)},En=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const a=wd(e,t,o);return a===0?0:n?Math.max(Nd(a,r,o),Lr):a},In=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=vd(e,n,a);return t[n.end]<t[n.start]?En({distanceToEdge:t[n.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*En({distanceToEdge:t[n.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},kd=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,o=t.width>e.width;return!o&&!n?r:o&&n?null:{x:o?0:r.x,y:n?0:r.y}};const Sd=jo(e=>e===0?0:e);var na=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},l=In({container:t,distanceToEdges:i,dragStartTime:e,axis:Er,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),c=In({container:t,distanceToEdges:i,dragStartTime:e,axis:Ao,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=Sd({x:c,y:l});if(xe(u,Z))return null;const m=kd({container:t,subject:r,proposedScroll:u});return m?xe(m,Z)?null:m:null};const Dd=jo(e=>e===0?0:e>0?1:-1),Br=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const o=Q(t,n),a={x:e(o.x,r.x),y:e(o.y,r.y)};return xe(a,Z)?null:a}})(),oa=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=Dd(r),a=Br({max:n,current:t,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},Fr=(e,t)=>oa({current:e.scroll.current,max:e.scroll.max,change:t}),jd=(e,t)=>{if(!Fr(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Br({current:n,max:r,change:t})},$r=(e,t)=>{const r=e.frame;return r?oa({current:r.scroll.current,max:r.scroll.max,change:t}):!1},Cd=(e,t)=>{const r=e.frame;return!r||!$r(e,t)?null:Br({current:r.scroll.current,max:r.scroll.max,change:t})};var Ed=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=na({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return i&&Fr(e,i)?i:null},Id=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{const i=e.frame;if(!i)return null;const l=na({dragStartTime:n,container:i.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&$r(e,l)?l:null},Tn=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:o,getAutoScrollerOptions:a})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,p=Ed({dragStartTime:t,viewport:d,subject:c,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:a});if(p){n(p);return}}const u=yd({center:i,destination:oe(e.impact),droppables:e.dimensions.droppables});if(!u)return;const m=Id({dragStartTime:t,droppable:u,subject:c,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:a});m&&o(u.descriptor.id,m)},Td=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>st})=>{const n=tt(e),o=tt(t);let a=null;const i=u=>{a||j();const{shouldUseTimeDampening:m,dragStartTime:d}=a;Tn({state:u,scrollWindow:n,scrollDroppable:o,dragStartTime:d,shouldUseTimeDampening:m,getAutoScrollerOptions:r})};return{start:u=>{a&&j();const m=Date.now();let d=!1;const p=()=>{d=!0};Tn({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:r}),a={dragStartTime:m,shouldUseTimeDampening:d},d&&i(u)},stop:()=>{a&&(n.cancel(),o.cancel(),a=null)},scroll:i}},Ad=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(l,c)=>{const u=Q(l.current.client.selection,c);e({client:u})},o=(l,c)=>{if(!$r(l,c))return c;const u=Cd(l,c);if(!u)return t(l.descriptor.id,c),null;const m=ne(c,u);return t(l.descriptor.id,m),ne(c,m)},a=(l,c,u)=>{if(!l||!Fr(c,u))return u;const m=jd(c,u);if(!m)return r(u),null;const d=ne(u,m);return r(d),ne(u,d)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const u=oe(l.impact);u||j();const m=o(l.dimensions.droppables[u],c);if(!m)return;const d=l.viewport,p=a(l.isWindowScrollAllowed,d,m);p&&n(l,p)}},Pd=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const o=Td({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),a=Ad({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(n().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:o.start,stop:o.stop}};const $e="data-rfd",_e=(()=>{const e=`${$e}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),yr=(()=>{const e=`${$e}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Rd=(()=>{const e=`${$e}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),An={contextId:`${$e}-scroll-container-context-id`},Md=e=>t=>`[${t}="${e}"]`,Ve=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),Od="pointer-events: none;";var Ld=e=>{const t=Md(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(_e.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Od,dropAnimating:l}}})(),n=(()=>{const l=`
      transition: ${Je.outOfTheWay};
    `;return{selector:t(yr.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),o={selector:t(Rd.contextId),styles:{always:"overflow-anchor: none;"}},i=[n,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ve(i,"always"),resting:Ve(i,"resting"),dragging:Ve(i,"dragging"),dropAnimating:Ve(i,"dropAnimating"),userCancel:Ve(i,"userCancel")}};const ae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect,er=()=>{const e=document.querySelector("head");return e||j(),e},Pn=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Bd(e,t){const r=L(()=>Ld(e),[e]),n=y.useRef(null),o=y.useRef(null),a=I(X(d=>{const p=o.current;p||j(),p.textContent=d}),[]),i=I(d=>{const p=n.current;p||j(),p.textContent=d},[]);ae(()=>{!n.current&&!o.current||j();const d=Pn(t),p=Pn(t);return n.current=d,o.current=p,d.setAttribute(`${$e}-always`,e),p.setAttribute(`${$e}-dynamic`,e),er().appendChild(d),er().appendChild(p),i(r.always),a(r.resting),()=>{const f=b=>{const g=b.current;g||j(),er().removeChild(g),b.current=null};f(n),f(o)}},[t,i,a,r.always,r.resting,e]);const l=I(()=>a(r.dragging),[a,r.dragging]),c=I(d=>{if(d==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=I(()=>{o.current&&a(r.resting)},[a,r.resting]);return L(()=>({dragging:l,dropping:c,resting:u}),[l,c,u])}function aa(e,t){return Array.from(e.querySelectorAll(t))}var sa=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Gt(e){return e instanceof sa(e).HTMLElement}function Fd(e,t){const r=`[${_e.contextId}="${e}"]`,n=aa(document,r);if(!n.length)return null;const o=n.find(a=>a.getAttribute(_e.draggableId)===t);return!o||!Gt(o)?null:o}function $d(e){const t=y.useRef({}),r=y.useRef(null),n=y.useRef(null),o=y.useRef(!1),a=I(function(p,f){const b={id:p,focus:f};return t.current[p]=b,function(){const h=t.current;h[p]!==b&&delete h[p]}},[]),i=I(function(p){const f=Fd(e,p);f&&f!==document.activeElement&&f.focus()},[e]),l=I(function(p,f){r.current===p&&(r.current=f)},[]),c=I(function(){n.current||o.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const p=r.current;p&&i(p)}))},[i]),u=I(function(p){r.current=null;const f=document.activeElement;f&&f.getAttribute(_e.draggableId)===p&&(r.current=p)},[]);return ae(()=>(o.current=!0,function(){o.current=!1;const p=n.current;p&&cancelAnimationFrame(p)}),[]),L(()=>({register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[a,u,c,l])}function _d(){const e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){const f=t.indexOf(d);f!==-1&&t.splice(f,1)}}function n(d){t.length&&t.forEach(p=>p(d))}function o(d){return e.draggables[d]||null}function a(d){const p=o(d);return p||j(),p}const i={register:d=>{e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:(d,p)=>{const f=e.draggables[p.descriptor.id];f&&f.uniqueId===d.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const p=d.descriptor.id,f=o(p);f&&d.uniqueId===f.uniqueId&&(delete e.draggables[p],e.droppables[d.descriptor.droppableId]&&n({type:"REMOVAL",value:d}))},getById:a,findById:o,exists:d=>!!o(d),getAllByType:d=>Object.values(e.draggables).filter(p=>p.descriptor.type===d)};function l(d){return e.droppables[d]||null}function c(d){const p=l(d);return p||j(),p}const u={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const p=l(d.descriptor.id);p&&d.uniqueId===p.uniqueId&&delete e.droppables[d.descriptor.id]},getById:c,findById:l,exists:d=>!!l(d),getAllByType:d=>Object.values(e.droppables).filter(p=>p.descriptor.type===d)};function m(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:r,clean:m}}function Gd(){const e=L(_d,[]);return y.useEffect(()=>function(){e.clean()},[e]),e}var _r=H.createContext(null),At=()=>{const e=document.body;return e||j(),e};const Ud={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Wd=e=>`rfd-announcement-${e}`;function Hd(e){const t=L(()=>Wd(e),[e]),r=y.useRef(null);return y.useEffect(function(){const a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ct(a.style,Ud),At().appendChild(a),function(){setTimeout(function(){const c=At();c.contains(a)&&c.removeChild(a),a===r.current&&(r.current=null)})}},[t]),I(o=>{const a=r.current;if(a){a.textContent=o;return}},[])}const zd={separator:"::"};function Gr(e,t=zd){const r=H.useId();return L(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function Vd({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function qd({contextId:e,text:t}){const r=Gr("hidden-text",{separator:"-"}),n=L(()=>Vd({contextId:e,uniqueId:r}),[r,e]);return y.useEffect(function(){const a=document.createElement("div");return a.id=n,a.textContent=t,a.style.display="none",At().appendChild(a),function(){const l=At();l.contains(a)&&l.removeChild(a)}},[n,t]),n}var Ut=H.createContext(null);function ia(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),t}function Yd(){let e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&j();const l={abandon:i};return e=l,l}function o(){e||j(),e=null}function a(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:a}}function it(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Kd=9,Jd=13,Ur=27,la=32,Xd=33,Zd=34,Qd=35,eu=36,tu=37,ru=38,nu=39,ou=40,au={[Jd]:!0,[Kd]:!0};var ca=e=>{au[e.keyCode]&&e.preventDefault()};const Wt=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),da=0,Rn=5;function su(e,t){return Math.abs(t.x-e.x)>=Rn||Math.abs(t.y-e.y)>=Rn}const Mn={type:"IDLE"};function iu({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:o=>{const{button:a,clientX:i,clientY:l}=o;if(a!==da)return;const c={x:i,y:l},u=r();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&j();const m=u.point;if(!su(m,c))return;o.preventDefault();const d=u.actions.fluidLift(c);n({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:o=>{const a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===Ur){o.preventDefault(),e();return}ca(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const a=r();if(a.type==="IDLE"&&j(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Wt,fn:e}]}function lu(e){const t=y.useRef(Mn),r=y.useRef(be),n=L(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==da||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const p=e.findClosestDraggableId(d);if(!p)return;const f=e.tryGetLock(p,i,{sourceEvent:d});if(!f)return;d.preventDefault();const b={x:d.clientX,y:d.clientY};r.current(),u(f,b)}}),[e]),o=L(()=>({eventName:"webkitmouseforcewillbegin",fn:m=>{if(m.defaultPrevented)return;const d=e.findClosestDraggableId(m);if(!d)return;const p=e.findOptionsForDraggable(d);p&&(p.shouldRespectForcePress||e.canGetLock(d)&&m.preventDefault())}}),[e]),a=I(function(){const d={passive:!1,capture:!0};r.current=ie(window,[o,n],d)},[o,n]),i=I(()=>{t.current.type!=="IDLE"&&(t.current=Mn,r.current(),a())},[a]),l=I(()=>{const m=t.current;i(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[i]),c=I(function(){const d={capture:!0,passive:!1},p=iu({cancel:l,completed:i,getPhase:()=>t.current,setPhase:f=>{t.current=f}});r.current=ie(window,p,d)},[l,i]),u=I(function(d,p){t.current.type!=="IDLE"&&j(),t.current={type:"PENDING",point:p,actions:d},c()},[c]);ae(function(){return a(),function(){r.current()}},[a])}function cu(){}const du={[Zd]:!0,[Xd]:!0,[eu]:!0,[Qd]:!0};function uu(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Ur){o.preventDefault(),r();return}if(o.keyCode===la){o.preventDefault(),n();return}if(o.keyCode===ou){o.preventDefault(),e.moveDown();return}if(o.keyCode===ru){o.preventDefault(),e.moveUp();return}if(o.keyCode===nu){o.preventDefault(),e.moveRight();return}if(o.keyCode===tu){o.preventDefault(),e.moveLeft();return}if(du[o.keyCode]){o.preventDefault();return}ca(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Wt,fn:r}]}function mu(e){const t=y.useRef(cu),r=L(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==la)return;const i=e.findClosestDraggableId(a);if(!i)return;const l=e.tryGetLock(i,m,{sourceEvent:a});if(!l)return;a.preventDefault();let c=!0;const u=l.snapLift();t.current();function m(){c||j(),c=!1,t.current(),n()}t.current=ie(window,uu(u,m),{capture:!0,passive:!1})}}),[e]),n=I(function(){const a={passive:!1,capture:!0};t.current=ie(window,[r],a)},[r]);ae(function(){return n(),function(){t.current()}},[n])}const tr={type:"IDLE"},pu=120,gu=.15;function fu({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===Ur&&r.preventDefault(),e()}},{eventName:Wt,fn:e}]}function hu({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:a,clientY:i}=n.touches[0],l={x:a,y:i};n.preventDefault(),o.actions.move(l)}},{eventName:"touchend",fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}n.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const o=r();o.type==="IDLE"&&j();const a=n.touches[0];if(!a||!(a.force>=gu))return;const l=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){l&&e();return}if(l){if(o.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:Wt,fn:e}]}function bu(e){const t=y.useRef(tr),r=y.useRef(be),n=I(function(){return t.current},[]),o=I(function(f){t.current=f},[]),a=L(()=>({eventName:"touchstart",fn:function(f){if(f.defaultPrevented)return;const b=e.findClosestDraggableId(f);if(!b)return;const g=e.tryGetLock(b,l,{sourceEvent:f});if(!g)return;const h=f.touches[0],{clientX:w,clientY:x}=h,N={x:w,y:x};r.current(),d(g,N)}}),[e]),i=I(function(){const f={capture:!0,passive:!1};r.current=ie(window,[a],f)},[a]),l=I(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o(tr),r.current(),i())},[i,o]),c=I(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=I(function(){const f={capture:!0,passive:!1},b={cancel:c,completed:l,getPhase:n},g=ie(window,hu(b),f),h=ie(window,fu(b),f);r.current=function(){g(),h()}},[c,n,l]),m=I(function(){const f=n();f.type!=="PENDING"&&j();const b=f.actions.fluidLift(f.point);o({type:"DRAGGING",actions:b,hasMoved:!1})},[n,o]),d=I(function(f,b){n().type!=="IDLE"&&j();const g=setTimeout(m,pu);o({type:"PENDING",point:b,actions:f,longPressTimerId:g}),u()},[u,n,o,m]);ae(function(){return i(),function(){r.current();const b=n();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),o(tr))}},[n,i,o]),ae(function(){return ie(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const xu=["input","button","textarea","select","option","optgroup","video","audio"];function ua(e,t){if(t==null)return!1;if(xu.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:ua(e,t.parentElement)}function yu(e,t){const r=t.target;return Gt(r)?ua(e,r):!1}var vu=e=>ce(e.getBoundingClientRect()).center;function wu(e){return e instanceof sa(e).Element}const Nu=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function ma(e,t){return e==null?null:e[Nu](t)?e:ma(e.parentElement,t)}function ku(e,t){return e.closest?e.closest(t):ma(e,t)}function Su(e){return`[${_e.contextId}="${e}"]`}function Du(e,t){const r=t.target;if(!wu(r))return null;const n=Su(e),o=ku(r,n);return!o||!Gt(o)?null:o}function ju(e,t){const r=Du(e,t);return r?r.getAttribute(_e.draggableId):null}function Cu(e,t){const r=`[${yr.contextId}="${e}"]`,o=aa(document,r).find(a=>a.getAttribute(yr.id)===t);return!o||!Gt(o)?null:o}function Eu(e){e.preventDefault()}function ht({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function pa({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const o=r.draggable.findById(n);return!(!o||!o.options.isEnabled||!ta(t.getState(),n))}function Iu({lockAPI:e,contextId:t,store:r,registry:n,draggableId:o,forceSensorStop:a,sourceEvent:i}){if(!pa({lockAPI:e,store:r,registry:n,draggableId:o}))return null;const c=n.draggable.getById(o),u=Cu(t,c.descriptor.id);if(!u||i&&!c.options.canDragInteractiveElements&&yu(u,i))return null;const m=e.claim(a||be);let d="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function f(){return e.isActive(m)}function b(E,v){ht({expected:E,phase:d,isLockActive:f,shouldWarn:!0})&&r.dispatch(v())}const g=b.bind(null,"DRAGGING");function h(E){function v(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(v(),j()),r.dispatch(kc(E.liftActionArgs)),d="DRAGGING";function C(P,O={shouldBlockNextClick:!1}){if(E.cleanup(),O.shouldBlockNextClick){const A=ie(window,[{eventName:"click",fn:Eu,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}v(),r.dispatch(qo({reason:P}))}return{isActive:()=>ht({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:p,drop:P=>C("DROP",P),cancel:P=>C("CANCEL",P),...E.actions}}function w(E){const v=tt(P=>{g(()=>Vo({client:P}))});return{...h({liftActionArgs:{id:o,clientSelection:E,movementMode:"FLUID"},cleanup:()=>v.cancel(),actions:{move:v}}),move:v}}function x(){const E={moveUp:()=>g(Pc),moveRight:()=>g(Mc),moveDown:()=>g(Rc),moveLeft:()=>g(Oc)};return h({liftActionArgs:{id:o,clientSelection:vu(u),movementMode:"SNAP"},cleanup:be,actions:E})}function N(){ht({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&e.release()}return{isActive:()=>ht({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:w,snapLift:x,abort:N}}const Tu=[lu,mu,bu];function Au({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:o}){const a=[...o?Tu:[],...n||[]],i=y.useState(()=>Yd())[0],l=I(function(h,w){it(h)&&!it(w)&&i.tryAbandon()},[i]);ae(function(){let h=t.getState();return t.subscribe(()=>{const x=t.getState();l(h,x),h=x})},[i,t,l]),ae(()=>i.tryAbandon,[i.tryAbandon]);const c=I(g=>pa({lockAPI:i,registry:r,store:t,draggableId:g}),[i,r,t]),u=I((g,h,w)=>Iu({lockAPI:i,registry:r,contextId:e,store:t,draggableId:g,forceSensorStop:h||null,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null}),[e,i,r,t]),m=I(g=>ju(e,g),[e]),d=I(g=>{const h=r.draggable.findById(g);return h?h.options:null},[r.draggable]),p=I(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Rr()))},[i,t]),f=I(()=>i.isClaimed(),[i]),b=L(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:m,findOptionsForDraggable:d,tryReleaseLock:p,isLockClaimed:f}),[c,u,m,d,p,f]);for(let g=0;g<a.length;g++)a[g](b)}const Pu=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Hn.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Ru=e=>({...st,...e.autoScrollerOptions,durationDampening:{...st.durationDampening,...e.autoScrollerOptions}});function qe(e){return e.current||j(),e.current}function Mu(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:o,dragHandleUsageInstructions:a}=e,i=y.useRef(null),l=ia(e),c=I(()=>Pu(l.current),[l]),u=I(()=>Ru(l.current),[l]),m=Hd(t),d=qd({contextId:t,text:a}),p=Bd(t,o),f=I(A=>{qe(i).dispatch(A)},[]),b=L(()=>ln({publishWhileDragging:Dc,updateDroppableScroll:Cc,updateDroppableIsEnabled:Ec,updateDroppableIsCombineEnabled:Ic,collectionStarting:jc},f),[f]),g=Gd(),h=L(()=>fd(g,b),[g,b]),w=L(()=>Pd({scrollWindow:hd,scrollDroppable:h.scrollDroppable,getAutoScrollerOptions:u,...ln({move:Vo},f)}),[h.scrollDroppable,f,u]),x=$d(t),N=L(()=>ud({announce:m,autoScroller:w,dimensionMarshal:h,focusMarshal:x,getResponders:c,styleMarshal:p}),[m,w,h,x,c,p]);i.current=N;const k=I(()=>{const A=qe(i);A.getState().phase!=="IDLE"&&A.dispatch(Rr())},[]),E=I(()=>{const A=qe(i).getState();return A.phase==="DROP_ANIMATING"?!0:A.phase==="IDLE"?!1:A.isDragging},[]),v=L(()=>({isDragging:E,tryAbort:k}),[E,k]);r(v);const C=I(A=>ta(qe(i).getState(),A),[]),P=I(()=>je(qe(i).getState()),[]),O=L(()=>({marshal:h,focus:x,contextId:t,canLift:C,isMovementAllowed:P,dragHandleUsageInstructionsId:d,registry:g}),[t,h,d,x,C,P,g]);return Au({contextId:t,store:N,registry:g,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),y.useEffect(()=>k,[k]),H.createElement(Ut.Provider,{value:O},H.createElement(al,{context:_r,store:N},e.children))}function Ou(){return H.useId()}function Lu(e){const t=Ou(),r=e.dragHandleUsageInstructions||xt.dragHandleUsageInstructions;return H.createElement(ml,null,n=>H.createElement(Mu,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const On={dragging:5e3,dropAnimating:4500},Bu=(e,t)=>t?Je.drop(t.duration):e?Je.snap:Je.fluid,Fu=(e,t)=>{if(e)return t?at.opacity.drop:at.opacity.combining},$u=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function _u(e){const r=e.dimension.client,{offset:n,combineWith:o,dropping:a}=e,i=!!o,l=$u(e),c=!!a,u=c?br.drop(n,i):br.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Bu(l,a),transform:u,opacity:Fu(i,c),zIndex:c?On.dropAnimating:On.dragging,pointerEvents:"none"}}function Gu(e){return{transform:br.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Uu(e){return e.type==="DRAGGING"?_u(e):Gu(e)}function Wu(e,t,r=Z){const n=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=vo(o,n),i=jt(a,r),l={client:a,tagName:t.tagName.toLowerCase(),display:n.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:a,page:i}}function Hu(e){const t=Gr("draggable"),{descriptor:r,registry:n,getDraggableRef:o,canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}=e,c=L(()=>({canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}),[a,l,i]),u=I(f=>{const b=o();return b||j(),Wu(r,b,f)},[r,o]),m=L(()=>({uniqueId:t,descriptor:r,options:c,getDimension:u}),[r,u,c,t]),d=y.useRef(m),p=y.useRef(!0);ae(()=>(n.draggable.register(d.current),()=>n.draggable.unregister(d.current)),[n.draggable]),ae(()=>{if(p.current){p.current=!1;return}const f=d.current;d.current=m,n.draggable.update(m,f)},[m,n.draggable])}var Wr=H.createContext(null);function Pt(e){const t=y.useContext(e);return t||j(),t}function zu(e){e.preventDefault()}const Vu=e=>{const t=y.useRef(null),r=I((v=null)=>{t.current=v},[]),n=I(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:a,registry:i}=Pt(Ut),{type:l,droppableId:c}=Pt(Wr),u=L(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:m,draggableId:d,isEnabled:p,shouldRespectForcePress:f,canDragInteractiveElements:b,isClone:g,mapped:h,dropAnimationFinished:w}=e;if(!g){const v=L(()=>({descriptor:u,registry:i,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:f,isEnabled:p}),[u,i,n,b,f,p]);Hu(v)}const x=L(()=>p?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:zu}:null,[o,a,d,p]),N=I(v=>{h.type==="DRAGGING"&&h.dropping&&v.propertyName==="transform"&&Hn.flushSync(w)},[w,h]),k=L(()=>{const v=Uu(h),C=h.type==="DRAGGING"&&h.dropping?N:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":d,style:v,onTransitionEnd:C},dragHandleProps:x}},[o,x,d,h,N,r]),E=L(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return H.createElement(H.Fragment,null,m(k,h.snapshot,E))};var ga=(e,t)=>e===t,fa=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const qu=e=>e.combine?e.combine.draggableId:null,Yu=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Ku(){const e=X((o,a)=>({x:o,y:a})),t=X((o,a,i=null,l=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:i,combineWith:l,combineTargetFor:null})),r=X((o,a,i,l,c=null,u=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:o,dimension:i,forceShouldAnimate:m,snapshot:t(a,l,c,u,null)}}));return(o,a)=>{if(it(o)){if(o.critical.draggable.id!==a.draggableId)return null;const i=o.current.client.offset,l=o.dimensions.draggables[a.draggableId],c=oe(o.impact),u=Yu(o.impact),m=o.forceShouldAnimate;return r(e(i.x,i.y),o.movementMode,l,a.isClone,c,u,m)}if(o.phase==="DROP_ANIMATING"){const i=o.completed;if(i.result.draggableId!==a.draggableId)return null;const l=a.isClone,c=o.dimensions.draggables[a.draggableId],u=i.result,m=u.mode,d=fa(u),p=qu(u),b={duration:o.dropDuration,curve:Or.drop,moveTo:o.newHomeClientOffset,opacity:p?at.opacity.drop:null,scale:p?at.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:c,dropping:b,draggingOver:d,combineWith:p,mode:m,forceShouldAnimate:null,snapshot:t(m,l,d,p,b)}}}return null}}function ha(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Ju={mapped:{type:"SECONDARY",offset:Z,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ha(null)}};function Xu(){const e=X((i,l)=>({x:i,y:l})),t=X(ha),r=X((i,l=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),n=i=>i?r(Z,i,!0):null,o=(i,l,c,u)=>{const m=c.displaced.visible[i],d=!!(u.inVirtualList&&u.effected[i]),p=Ft(c),f=p&&p.draggableId===i?l:null;if(!m){if(!d)return n(f);if(c.displaced.invisible[i])return null;const h=Ge(u.displacedBy.point),w=e(h.x,h.y);return r(w,f,!0)}if(d)return n(f);const b=c.displacedBy.point,g=e(b.x,b.y);return r(g,f,m.shouldAnimate)};return(i,l)=>{if(it(i))return i.critical.draggable.id===l.draggableId?null:o(l.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===l.draggableId?null:o(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const Zu=()=>{const e=Ku(),t=Xu();return(n,o)=>e(n,o)||t(n,o)||Ju},Qu={dropAnimationFinished:Yo},em=yo(Zu,Qu,null,{context:_r,areStatePropsEqual:ga})(Vu);function ba(e){return Pt(Wr).isUsingCloneFor===e.draggableId&&!e.isClone?null:H.createElement(em,e)}function tm(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return H.createElement(ba,Ct({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const xa=e=>t=>e===t,rm=xa("scroll"),nm=xa("auto"),Ln=(e,t)=>t(e.overflowX)||t(e.overflowY),om=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Ln(r,rm)||Ln(r,nm)},am=()=>!1,ya=e=>e==null?null:e===document.body?am()?e:null:e===document.documentElement?null:om(e)?e:ya(e.parentElement);var vr=e=>({x:e.scrollLeft,y:e.scrollTop});const va=e=>e?window.getComputedStyle(e).position==="fixed"?!0:va(e.parentElement):!1;var sm=e=>{const t=ya(e),r=va(e);return{closestScrollable:t,isFixedOnPage:r}},im=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:o,client:a,page:i,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:p,client:f}=l,b=Zo({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:f,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:b,diff:{value:Z,displacement:Z}}}})(),u=o==="vertical"?Er:Ao,m=Fe({page:i,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:u,isEnabled:t,client:a,page:i,frame:c,subject:m}};const lm=(e,t)=>{const r=wo(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,a=n+t.scrollHeight,i=o+t.scrollWidth,c=Sr({top:n,right:i,bottom:a,left:o},r.border);return Dr({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var cm=({ref:e,descriptor:t,env:r,windowScroll:n,direction:o,isDropDisabled:a,isCombineEnabled:i,shouldClipSubject:l})=>{const c=r.closestScrollable,u=lm(e,c),m=jt(u,n),d=(()=>{if(!c)return null;const f=wo(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:f,page:jt(f,n),scroll:vr(c),scrollSize:b,shouldClipSubject:l}})();return im({descriptor:t,isEnabled:!a,isCombineEnabled:i,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:m,closest:d})};const dm={passive:!1},um={passive:!0};var Bn=e=>e.shouldPublishImmediately?dm:um;const bt=e=>e&&e.env.closestScrollable||null;function mm(e){const t=y.useRef(null),r=Pt(Ut),n=Gr("droppable"),{registry:o,marshal:a}=r,i=ia(e),l=L(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=y.useRef(l),u=L(()=>X((k,E)=>{t.current||j();const v={x:k,y:E};a.updateDroppableScroll(l.id,v)}),[l.id,a]),m=I(()=>{const k=t.current;return!k||!k.env.closestScrollable?Z:vr(k.env.closestScrollable)},[]),d=I(()=>{const k=m();u(k.x,k.y)},[m,u]),p=L(()=>tt(d),[d]),f=I(()=>{const k=t.current,E=bt(k);if(k&&E||j(),k.scrollOptions.shouldPublishImmediately){d();return}p()},[p,d]),b=I((k,E)=>{t.current&&j();const v=i.current,C=v.getDroppableRef();C||j();const P=sm(C),O={ref:C,descriptor:l,env:P,scrollOptions:E};t.current=O;const A=cm({ref:C,descriptor:l,env:P,windowScroll:k,direction:v.direction,isDropDisabled:v.isDropDisabled,isCombineEnabled:v.isCombineEnabled,shouldClipSubject:!v.ignoreContainerClipping}),B=P.closestScrollable;return B&&(B.setAttribute(An.contextId,r.contextId),B.addEventListener("scroll",f,Bn(O.scrollOptions))),A},[r.contextId,l,f,i]),g=I(()=>{const k=t.current,E=bt(k);return k&&E||j(),vr(E)},[]),h=I(()=>{const k=t.current;k||j();const E=bt(k);t.current=null,E&&(p.cancel(),E.removeAttribute(An.contextId),E.removeEventListener("scroll",f,Bn(k.scrollOptions)))},[f,p]),w=I(k=>{const E=t.current;E||j();const v=bt(E);v||j(),v.scrollTop+=k.y,v.scrollLeft+=k.x},[]),x=L(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:g,dragStopped:h,scroll:w}),[h,b,g,w]),N=L(()=>({uniqueId:n,descriptor:l,callbacks:x}),[x,l,n]);ae(()=>(c.current=N.descriptor,o.droppable.register(N),()=>{t.current&&h(),o.droppable.unregister(N)}),[x,l,h,N,a,o.droppable]),ae(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),ae(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function rr(){}const Fn={width:0,height:0,margin:yl},pm=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?Fn:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},gm=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=pm({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Je.placeholder:null}},fm=e=>{const t=y.useRef(null),r=I(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:o,onClose:a,contextId:i}=e,[l,c]=y.useState(e.animate==="open");y.useEffect(()=>l?n!=="open"?(r(),c(!1),rr):t.current?rr:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):rr,[n,l,r]);const u=I(d=>{d.propertyName==="height"&&(o(),n==="close"&&a())},[n,a,o]),m=gm({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return H.createElement(e.placeholder.tagName,{style:m,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var hm=H.memo(fm);class bm extends H.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const xm=e=>{const t=y.useContext(Ut);t||j();const{contextId:r,isMovementAllowed:n}=t,o=y.useRef(null),a=y.useRef(null),{children:i,droppableId:l,type:c,mode:u,direction:m,ignoreContainerClipping:d,isDropDisabled:p,isCombineEnabled:f,snapshot:b,useClone:g,updateViewportMaxScroll:h,getContainerForClone:w}=e,x=I(()=>o.current,[]),N=I((B=null)=>{o.current=B},[]);I(()=>a.current,[]);const k=I((B=null)=>{a.current=B},[]),E=I(()=>{n()&&h({maxScroll:ea()})},[n,h]);mm({droppableId:l,type:c,mode:u,direction:m,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:d,getDroppableRef:x});const v=L(()=>H.createElement(bm,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:B,data:Y,animate:G})=>H.createElement(hm,{placeholder:Y,onClose:B,innerRef:k,animate:G,contextId:r,onTransitionEnd:E})),[r,E,e.placeholder,e.shouldAnimatePlaceholder,k]),C=L(()=>({innerRef:N,placeholder:v,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,v,N]),P=g?g.dragging.draggableId:null,O=L(()=>({droppableId:l,type:c,isUsingCloneFor:P}),[l,P,c]);function A(){if(!g)return null;const{dragging:B,render:Y}=g,G=H.createElement(ba,{draggableId:B.draggableId,index:B.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(pe,U)=>Y(pe,U,B));return Sa.createPortal(G,w())}return H.createElement(Wr.Provider,{value:O},i(C,b),A())};function ym(){return document.body||j(),document.body}const $n={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:ym},wa=e=>{let t={...e},r;for(r in $n)e[r]===void 0&&(t={...t,[r]:$n[r]});return t},nr=(e,t)=>e===t.droppable.type,_n=(e,t)=>t.draggables[e.draggable.id],vm=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=X(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),n=X((a,i,l,c,u,m)=>{const d=u.descriptor.id;if(u.descriptor.droppableId===a){const b=m?{render:m,dragging:r(u.descriptor)}:null,g={isDraggingOver:l,draggingOverWith:l?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:b}}if(!i)return t;if(!c)return e;const f={isDraggingOver:l,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return(a,i)=>{const l=wa(i),c=l.droppableId,u=l.type,m=!l.isDropDisabled,d=l.renderClone;if(it(a)){const p=a.critical;if(!nr(u,p))return t;const f=_n(p,a.dimensions),b=oe(a.impact)===c;return n(c,m,b,b,f,d)}if(a.phase==="DROP_ANIMATING"){const p=a.completed;if(!nr(u,p.critical))return t;const f=_n(p.critical,a.dimensions);return n(c,m,fa(p.result)===c,oe(p.impact)===c,f,d)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const p=a.completed;if(!nr(u,p.critical))return t;const f=oe(p.impact)===c,b=!!(p.impact.at&&p.impact.at.type==="COMBINE"),g=p.critical.droppable.id===c;return f?b?e:t:g?e:t}return t}},wm={updateViewportMaxScroll:Ac},Nm=yo(vm,wm,(e,t,r)=>({...wa(r),...e,...t}),{context:_r,areStatePropsEqual:ga})(xm),km=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Gn={pattern:"",unlockType:"none",password:"",timerDuration:30,scheduleDays:[1,2,3,4,5],scheduleStart:"09:00",scheduleEnd:"17:00",folderId:void 0};function Sm(){const[e,t]=y.useState([]),[r,n]=y.useState([]),[o,a]=y.useState(!0),[i,l]=y.useState(!1),[c,u]=y.useState(!1),[m,d]=y.useState(null),[p,f]=y.useState(null),[b,g]=y.useState(Gn),[h,w]=y.useState("");y.useEffect(()=>{x()},[]);async function x(){try{const[S,T]=await Promise.all([chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"}),chrome.runtime.sendMessage({type:"GET_BLOCKED_SITE_FOLDERS"})]);t(S),n(T)}catch(S){console.error("Failed to load data:",S)}finally{a(!1)}}function N(){d(null),g(Gn),l(!0)}function k(S){var T,M,K;d(S),g({pattern:S.pattern,unlockType:S.unlockType,password:"",timerDuration:S.timerDuration||30,scheduleDays:((T=S.schedule)==null?void 0:T.days)||[1,2,3,4,5],scheduleStart:((M=S.schedule)==null?void 0:M.startTime)||"09:00",scheduleEnd:((K=S.schedule)==null?void 0:K.endTime)||"17:00",folderId:S.folderId}),l(!0)}function E(){f(null),w(""),u(!0)}function v(S){f(S),w(S.name),u(!0)}async function C(S){S.preventDefault();const T={pattern:b.pattern.toLowerCase().trim(),enabled:!0,unlockType:b.unlockType,folderId:b.folderId};b.unlockType==="password"&&b.password&&(T.passwordHash=await zn(b.password)),b.unlockType==="timer"&&(T.timerDuration=b.timerDuration),b.unlockType==="schedule"&&(T.schedule={days:b.scheduleDays,startTime:b.scheduleStart,endTime:b.scheduleEnd});try{m?await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...m,...T}}):await chrome.runtime.sendMessage({type:"ADD_BLOCKED_SITE",payload:T}),await x(),l(!1)}catch(M){console.error("Failed to save site:",M)}}async function P(S){if(S.preventDefault(),!!h.trim())try{p?await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE_FOLDER",payload:{...p,name:h.trim()}}):await chrome.runtime.sendMessage({type:"ADD_BLOCKED_SITE_FOLDER",payload:{name:h.trim(),order:r.length}}),await x(),u(!1)}catch(T){console.error("Failed to save folder:",T)}}async function O(S){if(confirm("Delete this folder? Sites in this folder will be moved to Uncategorized."))try{await chrome.runtime.sendMessage({type:"REMOVE_BLOCKED_SITE_FOLDER",payload:{id:S}}),await x()}catch(T){console.error("Failed to delete folder:",T)}}async function A(S){const T={...S,collapsed:!S.collapsed};n(r.map(M=>M.id===S.id?T:M)),await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE_FOLDER",payload:T})}async function B(S,T){const M=e.filter(J=>J.folderId===S).map(J=>({...J,enabled:T})),re=[...e.filter(J=>J.folderId!==S),...M];t(re),await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITES",payload:re})}async function Y(S){try{await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...S,enabled:!S.enabled}}),await x()}catch(T){console.error("Failed to toggle site:",T)}}async function G(S){if(confirm("Are you sure you want to remove this blocked site?"))try{await chrome.runtime.sendMessage({type:"REMOVE_BLOCKED_SITE",payload:{id:S}}),await x()}catch(T){console.error("Failed to delete site:",T)}}async function pe(S){if(!S.destination)return;const{source:T,destination:M,draggableId:K}=S;if(T.droppableId!==M.droppableId){const re=M.droppableId==="uncategorized"?void 0:M.droppableId,J=e.find(V=>V.id===K);if(J){const V={...J,folderId:re};await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:V}),await x()}}}const U=new Map;r.forEach(S=>U.set(S.id,[])),U.set(void 0,[]),e.forEach(S=>{const T=S.folderId,M=U.get(T)||[];M.push(S),U.set(T,M)});function we(S){switch(S){case"password":return s.jsx(zr,{className:"w-4 h-4"});case"timer":return s.jsx(yt,{className:"w-4 h-4"});case"schedule":return s.jsx(ir,{className:"w-4 h-4"});default:return s.jsx(Le,{className:"w-4 h-4"})}}function de(S){switch(S.unlockType){case"password":return"Password protected";case"timer":return`${S.timerDuration}min timer`;case"schedule":return"Scheduled";default:return"Always blocked"}}if(o)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const ue=(S,T)=>s.jsx(tm,{draggableId:S.id,index:T,children:M=>s.jsxs("div",{ref:M.innerRef,...M.draggableProps,className:"flex items-center gap-3 px-4 py-3 bg-white border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[s.jsx("div",{...M.dragHandleProps,className:"text-gray-300 hover:text-gray-500 cursor-grab",children:s.jsx($a,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("span",{className:"font-medium text-gray-900",children:S.pattern})}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[we(S.unlockType),s.jsx("span",{className:"hidden sm:inline",children:de(S)})]}),s.jsx("button",{onClick:()=>Y(S),className:`text-xs px-2 py-1 rounded-full transition-colors ${S.enabled?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:S.enabled?"Blocking":"Disabled"}),s.jsx("button",{onClick:()=>k(S),className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:s.jsx(lr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>G(S.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",children:s.jsx(wt,{className:"w-4 h-4"})})]})},S.id),me=(S,T)=>{const M=S==null?void 0:S.id,K=S==null?void 0:S.collapsed,re=T.length>0&&T.every(V=>V.enabled),J=T.some(V=>V.enabled);return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:`flex items-center gap-2 px-4 py-3 bg-gray-50 dark:bg-gray-800/50 ${K?"":"border-b border-gray-200 dark:border-gray-700"}`,children:[S&&s.jsx("button",{onClick:()=>A(S),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-transform duration-200",children:s.jsx(wr,{className:`w-5 h-5 transition-transform duration-200 ${K?"":"rotate-90"}`})}),s.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100 flex-1",children:[(S==null?void 0:S.name)||"Uncategorized"," (",T.length,")"]}),T.length>0&&s.jsx("button",{onClick:()=>B(M,!re),className:`text-xs px-2 py-1 rounded transition-colors ${re?"bg-red-100 text-red-700 hover:bg-red-200":J?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:re?"Disable All":"Enable All"}),S&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>v(S),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:s.jsx(lr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>O(S.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:s.jsx(wt,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"grid transition-all duration-200 ease-in-out",style:{gridTemplateRows:!S||!K?"1fr":"0fr"},children:s.jsx("div",{className:"overflow-hidden",children:s.jsx(Nm,{droppableId:M||"uncategorized",children:V=>s.jsxs("div",{ref:V.innerRef,...V.droppableProps,className:"min-h-[48px]",children:[T.length>0?T.map((Ae,Pe)=>ue(Ae,Pe)):s.jsx("div",{className:"px-4 py-6 text-center text-gray-400 dark:text-gray-500 text-sm",children:"Drag sites here or add new ones"}),V.placeholder]})})})})]},M||"uncategorized")};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Blocked Sites"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Ba,{className:"w-5 h-5"}),"Add Folder"]}),s.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Xe,{className:"w-5 h-5"}),"Add Site"]})]})]}),s.jsx(Lu,{onDragEnd:pe,children:s.jsxs("div",{className:"space-y-4",children:[r.map(S=>me(S,U.get(S.id)||[])),me(null,U.get(void 0)||[])]})}),e.length===0&&r.length===0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center mt-4",children:[s.jsx(Le,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No blocked sites"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Add sites you want to block to help stay focused."}),s.jsxs("button",{onClick:N,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Xe,{className:"w-5 h-5"}),"Add Your First Site"]})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-lg mx-4 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b dark:border-gray-700",children:[s.jsx("h2",{className:"text-lg font-semibold",children:m?"Edit Blocked Site":"Add Blocked Site"}),s.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Site Pattern"}),s.jsx("input",{type:"text",value:b.pattern,onChange:S=>g({...b,pattern:S.target.value}),placeholder:"e.g., twitter.com or *.reddit.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use *.domain.com to block all subdomains"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Unlock Method"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"none",label:"Always Blocked",icon:Le},{value:"password",label:"Password",icon:zr},{value:"timer",label:"Timer",icon:yt},{value:"schedule",label:"Schedule",icon:ir}].map(({value:S,label:T,icon:M})=>s.jsxs("button",{type:"button",onClick:()=>g({...b,unlockType:S}),className:`flex items-center gap-2 p-3 border rounded-lg transition-colors ${b.unlockType===S?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx(M,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:T})]},S))})]}),b.unlockType==="password"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Unlock Password"}),s.jsx("input",{type:"password",value:b.password,onChange:S=>g({...b,password:S.target.value}),placeholder:m?"Leave blank to keep current":"Enter password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!m})]}),b.unlockType==="timer"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Timer Duration (minutes)"}),s.jsx("input",{type:"number",value:b.timerDuration,onChange:S=>g({...b,timerDuration:parseInt(S.target.value)||30}),min:1,max:480,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Site will be blocked again after this time"})]}),b.unlockType==="schedule"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Block on these days"}),s.jsx("div",{className:"flex gap-1",children:km.map((S,T)=>s.jsx("button",{type:"button",onClick:()=>{const M=b.scheduleDays.includes(T)?b.scheduleDays.filter(K=>K!==T):[...b.scheduleDays,T];g({...b,scheduleDays:M})},className:`flex-1 py-2 text-xs font-medium rounded transition-colors ${b.scheduleDays.includes(T)?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:S},S))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:b.scheduleStart,onChange:S=>g({...b,scheduleStart:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Time"}),s.jsx("input",{type:"time",value:b.scheduleEnd,onChange:S=>g({...b,scheduleEnd:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Folder"}),s.jsxs("select",{value:b.folderId||"",onChange:S=>g({...b,folderId:S.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Uncategorized"}),r.map(S=>s.jsx("option",{value:S.id,children:S.name},S.id))]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:m?"Save Changes":"Add Site"})]})]})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md mx-4 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b dark:border-gray-700",children:[s.jsx("h2",{className:"text-lg font-semibold",children:p?"Edit Folder":"Add Folder"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Folder Name"}),s.jsx("input",{type:"text",value:h,onChange:S=>w(S.target.value),placeholder:"e.g., Social Media, Adult Content",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,autoFocus:!0})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:p?"Save Changes":"Add Folder"})]})]})]})})]})}function or(e){const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`}function Dm(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}const Un={pattern:"",limitHours:0,limitMinutes:30,bypassType:"cooldown",password:"",cooldownSeconds:30};function jm(){const[e,t]=y.useState([]),[r,n]=y.useState(null),[o,a]=y.useState(!0),[i,l]=y.useState(!1),[c,u]=y.useState(null),[m,d]=y.useState(Un),[p,f]=y.useState(null),b=Dm(new Date);y.useEffect(()=>{g()},[]);async function g(){try{const[v,C]=await Promise.all([chrome.runtime.sendMessage({type:"GET_DAILY_LIMITS"}),chrome.runtime.sendMessage({type:"GET_STATS",payload:{date:b}})]);t(v||[]),n(C)}catch(v){console.error("Failed to load limits:",v)}finally{a(!1)}}function h(){u(null),d(Un),f(null),l(!0)}function w(v){u(v),d({pattern:v.pattern,limitHours:Math.floor(v.limitSeconds/3600),limitMinutes:Math.floor(v.limitSeconds%3600/60),bypassType:v.bypassType,password:"",cooldownSeconds:v.cooldownSeconds||30}),f(null),l(!0)}async function x(){if(!m.pattern.trim()){f("Domain is required");return}const v=m.limitHours*3600+m.limitMinutes*60;if(v<60){f("Limit must be at least 1 minute");return}if(m.bypassType==="password"&&!m.password&&!c){f("Password is required for password bypass");return}try{let C;m.bypassType==="password"&&m.password?C=await zn(m.password):c!=null&&c.passwordHash&&m.bypassType==="password"&&(C=c.passwordHash),c?await chrome.runtime.sendMessage({type:"UPDATE_DAILY_LIMIT",payload:{...c,pattern:m.pattern.trim().toLowerCase(),limitSeconds:v,bypassType:m.bypassType,passwordHash:C,cooldownSeconds:m.bypassType==="cooldown"?m.cooldownSeconds:void 0}}):await chrome.runtime.sendMessage({type:"ADD_DAILY_LIMIT",payload:{pattern:m.pattern.trim().toLowerCase(),limitSeconds:v,enabled:!0,bypassType:m.bypassType,passwordHash:C,cooldownSeconds:m.bypassType==="cooldown"?m.cooldownSeconds:void 0}}),l(!1),g()}catch{f("Failed to save limit")}}async function N(v){if(confirm("Are you sure you want to delete this limit?"))try{await chrome.runtime.sendMessage({type:"REMOVE_DAILY_LIMIT",payload:{id:v}}),g()}catch(C){console.error("Failed to delete limit:",C)}}async function k(v){try{await chrome.runtime.sendMessage({type:"UPDATE_DAILY_LIMIT",payload:{...v,enabled:!v.enabled}}),g()}catch(C){console.error("Failed to toggle limit:",C)}}function E(v){if(!(r!=null&&r.sites))return 0;const C=v.replace(/^www\./,"");return r.sites[C]||r.sites["www."+C]||r.sites[v]||0}return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Daily Limits"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Set maximum daily time for specific sites"})]}),s.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Xe,{className:"w-5 h-5"}),"Add Limit"]})]}),e.length===0?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Xe,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No limits configured"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Set daily time limits to control how much time you spend on specific sites"}),s.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Limit"})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(v=>{const C=E(v.pattern),P=C/v.limitSeconds*100,O=P>=100,A=P>=70&&P<100;return s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:v.pattern}),!v.enabled&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:"Disabled"}),O&&v.enabled&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded-full",children:"Exceeded"}),A&&v.enabled&&!O&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 rounded-full",children:"Approaching"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{children:["Limit: ",or(v.limitSeconds),"/day"]}),s.jsxs("span",{children:["Bypass:"," ",v.bypassType==="password"?"Password":v.bypassType==="cooldown"?`${v.cooldownSeconds||30}s wait`:"None"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>k(v),className:`relative w-10 h-6 rounded-full transition-colors ${v.enabled?"bg-blue-600":"bg-gray-300"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${v.enabled?"left-5":"left-1"}`})}),s.jsx("button",{onClick:()=>w(v),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:s.jsx(lr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>N(v.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg",children:s.jsx(wt,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 h-3 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all ${O?"bg-red-500":A?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min(100,P)}%`}})}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-24 text-right",children:[or(C)," / ",or(v.limitSeconds)]})]})]},v.id)})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-full max-w-md p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold",children:c?"Edit Limit":"Add Daily Limit"}),s.jsx("button",{onClick:()=>l(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded-lg",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Domain"}),s.jsx("input",{type:"text",value:m.pattern,onChange:v=>d({...m,pattern:v.target.value}),placeholder:"e.g., twitter.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Daily Limit"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",min:"0",value:m.limitHours,onChange:v=>d({...m,limitHours:parseInt(v.target.value)||0}),className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"hours"}),s.jsx("input",{type:"number",min:"0",max:"59",value:m.limitMinutes,onChange:v=>d({...m,limitMinutes:parseInt(v.target.value)||0}),className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"minutes"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bypass Method"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"How can you continue after reaching the limit?"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("input",{type:"radio",name:"bypassType",checked:m.bypassType==="cooldown",onChange:()=>d({...m,bypassType:"cooldown"}),className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium",children:"Wait to continue"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Must wait before bypassing"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("input",{type:"radio",name:"bypassType",checked:m.bypassType==="password",onChange:()=>d({...m,bypassType:"password"}),className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium",children:"Password required"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enter password to continue"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("input",{type:"radio",name:"bypassType",checked:m.bypassType==="none",onChange:()=>d({...m,bypassType:"none"}),className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium",children:"No bypass"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Blocked until midnight"})]})]})]})]}),m.bypassType==="cooldown"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Wait Time (seconds)"}),s.jsx("input",{type:"number",min:"10",max:"300",value:m.cooldownSeconds,onChange:v=>d({...m,cooldownSeconds:parseInt(v.target.value)||30}),className:"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.bypassType==="password"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c?"New Password (leave empty to keep current)":"Password"}),s.jsx("input",{type:"password",value:m.password,onChange:v=>d({...m,password:v.target.value}),placeholder:"Enter password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p&&s.jsx("p",{className:"text-sm text-red-600",children:p}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Ma,{className:"w-4 h-4"}),c?"Save Changes":"Add Limit"]})]})]})]})})]})}function Ce(e){const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`}function Cm(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function Wn(e){return new Date(e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function ge(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function ar(e){const t=ge(new Date),r=ge(new Date(Date.now()-864e5));return e===t?"Today":e===r?"Yesterday":new Date(e+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function Em(e){const t=["bg-blue-500","bg-green-500","bg-purple-500","bg-orange-500","bg-pink-500","bg-teal-500","bg-indigo-500","bg-red-500","bg-cyan-500","bg-amber-500","bg-lime-500","bg-emerald-500"];let r=0;for(let n=0;n<e.length;n++)r=e.charCodeAt(n)+((r<<5)-r);return t[Math.abs(r)%t.length]}const Me=["bg-blue-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-teal-500","bg-cyan-500"];function sr({selectedDate:e,onSelect:t,onClose:r,minDate:n,maxDate:o}){const[a,i]=y.useState(()=>{const g=new Date(e+"T00:00:00");return{year:g.getFullYear(),month:g.getMonth()}}),l=ge(new Date),c=o||l,u=new Date(a.year,a.month+1,0).getDate(),m=new Date(a.year,a.month,1).getDay(),d=[];for(let g=0;g<m;g++)d.push(null);for(let g=1;g<=u;g++)d.push(g);const p=()=>{i(g=>g.month===0?{year:g.year-1,month:11}:{...g,month:g.month-1})},f=()=>{i(g=>g.month===11?{year:g.year+1,month:0}:{...g,month:g.month+1})},b=new Date(a.year,a.month).toLocaleDateString("en-US",{month:"long",year:"numeric"});return s.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 z-50 w-72",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:s.jsx(qn,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-medium",children:b}),s.jsx("button",{onClick:f,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:s.jsx(wr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(g=>s.jsx("div",{children:g},g))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:d.map((g,h)=>{if(g===null)return s.jsx("div",{},h);const w=`${a.year}-${String(a.month+1).padStart(2,"0")}-${String(g).padStart(2,"0")}`,x=w===e,N=w===l,k=w>c||(n?w<n:!1);return s.jsx("button",{onClick:()=>!k&&t(w),disabled:k,className:`p-2 text-sm rounded-lg transition-colors ${x?"bg-blue-600 text-white":N?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900":k?"text-gray-300 dark:text-gray-600 cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:g},h)})}),s.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t dark:border-gray-700",children:[s.jsx("button",{onClick:()=>t(l),className:"text-sm text-blue-600 hover:text-blue-700",children:"Today"}),s.jsx("button",{onClick:r,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"Close"})]})]})}function Im({sessions:e,sites:t,dateStr:r,animationDirection:n}){const[o,a]=y.useState(!1),i=10,l=new Date(r+"T00:00:00"),c=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),u=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59),m=ge(new Date),d=r===m;let p=u.getTime(),f=c.getTime();e.forEach(v=>{p=Math.min(p,v.startTime),f=Math.max(f,v.endTime)}),p=Math.max(c.getTime(),p-30*60*1e3),f=Math.min(u.getTime(),f+30*60*1e3),e.length===0&&(p=c.getTime()+8*60*60*1e3,f=d?Date.now():c.getTime()+18*60*60*1e3);const b=Math.max(f-p,1),g=Object.entries(t).sort((v,C)=>C[1]-v[1]),h=o?g:g.slice(0,i),w=new Map;e.forEach(v=>{const C=w.get(v.domain)||[];C.push({start:v.startTime,end:v.endTime}),w.set(v.domain,C)});for(const[v,C]of w){if(C.length<=1)continue;C.sort((O,A)=>O.start-A.start);const P=[C[0]];for(let O=1;O<C.length;O++){const A=P[P.length-1],B=C[O];B.start<=A.end?A.end=Math.max(A.end,B.end):P.push(B)}w.set(v,P)}const x=[],N=new Date(p).getHours(),k=new Date(f).getHours();for(let v=N;v<=k;v++){const C=new Date(l.getFullYear(),l.getMonth(),l.getDate(),v,0,0).getTime();if(C>=p&&C<=f){const P=(C-p)/b*100;x.push({hour:v,label:v===0?"12am":v<12?`${v}am`:v===12?"12pm":`${v-12}pm`,position:P})}}const E=n?n==="left"?"animate-slide-in-left":"animate-slide-in-right":"";return g.length===0&&e.length===0?s.jsx("div",{className:`text-center py-8 text-gray-500 dark:text-gray-400 ${E}`,children:d?"No activity recorded yet today":"No activity recorded on this day"}):g.length>0&&e.length===0?s.jsxs("div",{className:`text-center py-8 text-gray-500 dark:text-gray-400 ${E}`,children:[s.jsx("p",{children:"Timeline data not available for this day."}),s.jsx("p",{className:"text-xs mt-2",children:"Session tracking was enabled recently."})]}):s.jsxs("div",{className:E,children:[s.jsx("div",{className:"relative h-6 mb-2 ml-40",children:x.map(v=>s.jsx("div",{className:"absolute text-xs text-gray-400",style:{left:`${v.position}%`,transform:"translateX(-50%)"},children:v.label},v.hour))}),s.jsx("div",{className:"space-y-2",children:h.map(([v,C])=>{const P=w.get(v)||[],O=Em(v),A=e.filter(G=>G.domain===v),Y=new Set(A.map(G=>G.windowId)).size>1;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-36 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-sm font-medium truncate",title:v,children:v.replace(/^www\./,"")}),Y&&s.jsx("span",{title:"Multiple windows",children:s.jsx(Yn,{className:"w-3 h-3 text-gray-400 flex-shrink-0"})})]}),s.jsx("span",{className:"text-xs text-gray-500",children:Ce(C)})]}),s.jsxs("div",{className:"flex-1 relative h-6 bg-gray-100 dark:bg-gray-700 rounded overflow-hidden",children:[x.map(G=>s.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-gray-200 dark:bg-gray-600",style:{left:`${G.position}%`}},G.hour)),P.map((G,pe)=>{const U=Math.max(0,(G.start-p)/b*100),we=Math.min(100,(G.end-p)/b*100),de=Math.max(.5,we-U);return s.jsx("div",{className:`absolute top-1 bottom-1 ${O} rounded-sm opacity-80 hover:opacity-100 transition-opacity cursor-default`,style:{left:`${U}%`,width:`${de}%`},title:`${Wn(G.start)} - ${Wn(G.end)}`},pe)})]})]},v)})}),g.length>i&&s.jsx("button",{onClick:()=>a(!o),className:"mt-4 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 mx-auto",children:o?s.jsxs(s.Fragment,{children:[s.jsx(La,{className:"w-4 h-4"}),"Show less"]}):s.jsxs(s.Fragment,{children:[s.jsx(Oa,{className:"w-4 h-4"}),"Show ",g.length-i," more sites"]})})]})}function Tm(){const[e,t]=y.useState({}),[r,n]=y.useState("week"),[o,a]=y.useState(!0),[i,l]=y.useState(null),[c,u]=y.useState({}),[m,d]=y.useState(()=>ge(new Date)),[p,f]=y.useState(!1),[b,g]=y.useState(null),[h,w]=y.useState(!1),[x,N]=y.useState(null),[k,E]=y.useState(null),[v,C]=y.useState(!1),[P,O]=y.useState(!1),A=ge(new Date);y.useEffect(()=>{B()},[]);async function B(){try{const[D,R]=await Promise.all([chrome.runtime.sendMessage({type:"GET_STATS"}),chrome.runtime.sendMessage({type:"GET_DOMAIN_CATEGORIES"})]);t(D),u(R||{})}catch(D){console.error("Failed to load stats:",D)}finally{a(!1)}}function Y(D){const R={};let q=0;for(const[$,W]of Object.entries(D)){const Re=uo($,c);R[Re]=(R[Re]||0)+W,q+=W}return Ye.map($=>({category:$.id,time:R[$.id]||0,percent:q>0?(R[$.id]||0)/q*100:0})).filter($=>$.time>0).sort(($,W)=>W.time-$.time)}const G=()=>{const D=new Date(m+"T00:00:00");D.setDate(D.getDate()-1),g("left"),d(ge(D)),setTimeout(()=>g(null),300)},pe=()=>{const D=new Date(m+"T00:00:00");D.setDate(D.getDate()+1);const R=ge(D);R<=A&&(g("right"),d(R),setTimeout(()=>g(null),300))},U=D=>{const R=D<m?"left":"right";g(R),d(D),f(!1),setTimeout(()=>g(null),300)},de=(()=>{if(h&&x&&k){const R=[],q={};let $=new Date(x+"T00:00:00");const W=new Date(k+"T00:00:00");for(;$<=W;){const Re=ge($),ke=e[Re];if(ke){ke.sessions&&R.push(...ke.sessions);for(const[Hr,Na]of Object.entries(ke.sites||{}))q[Hr]=(q[Hr]||0)+Na}$.setDate($.getDate()+1)}return{sessions:R,sites:q}}const D=e[m];return{sessions:(D==null?void 0:D.sessions)||[],sites:(D==null?void 0:D.sites)||{}}})();if(o)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const ue=new Date,me=r==="week"?7:30,S=[];for(let D=me-1;D>=0;D--){const R=new Date(ue);R.setDate(R.getDate()-D);const q=R.getFullYear(),$=String(R.getMonth()+1).padStart(2,"0"),W=String(R.getDate()).padStart(2,"0");S.push(`${q}-${$}-${W}`)}const T=S.map(D=>e[D]||{date:D,totalTime:0,sites:{},visits:0,blockedAttempts:0}),M=T.reduce((D,R)=>D+R.totalTime,0),K=T.reduce((D,R)=>D+R.blockedAttempts,0),re=M/me,J={};for(const D of T)for(const[R,q]of Object.entries(D.sites))J[R]=(J[R]||0)+q;const V=Object.entries(J).sort((D,R)=>R[1]-D[1]).slice(0,10),Ae=Math.max(...T.map(D=>D.totalTime),1),Pe=[];for(let D=me*2-1;D>=me;D--){const R=new Date(ue);R.setDate(R.getDate()-D);const q=R.getFullYear(),$=String(R.getMonth()+1).padStart(2,"0"),W=String(R.getDate()).padStart(2,"0");Pe.push(`${q}-${$}-${W}`)}const Ne=Pe.map(D=>e[D]||{totalTime:0}).reduce((D,R)=>D+R.totalTime,0),pt=Ne>0?(M-Ne)/Ne*100:0;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Metrics"}),s.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>n("week"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${r==="week"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-gray-100":"text-gray-600 dark:text-gray-400"}`,children:"Week"}),s.jsx("button",{onClick:()=>n("month"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${r==="month"?"bg-white dark:bg-gray-700 shadow text-gray-900 dark:text-gray-100":"text-gray-600 dark:text-gray-400"}`,children:"Month"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Time"}),s.jsx(yt,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})]}),s.jsx("p",{className:"text-2xl font-bold",children:Ce(M)}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[pt>0?s.jsx(Kn,{className:"w-4 h-4 text-red-500"}):s.jsx(qr,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{className:`text-sm ${pt>0?"text-red-500":"text-green-500"}`,children:[Math.abs(pt).toFixed(0),"% vs prev ",r]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Daily Average"}),s.jsx(ir,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})]}),s.jsx("p",{className:"text-2xl font-bold",children:Ce(re)}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"per day"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Sites Blocked"}),s.jsx(qr,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})]}),s.jsx("p",{className:"text-2xl font-bold",children:K}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"distractions avoided"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Activity Timeline"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>{w(!h),h||(N(m),E(m))},className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${h?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:h?"Date Range":"Single Day"})})]}),h?s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 flex-wrap",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"From"}),s.jsxs("button",{onClick:()=>{C(!v),O(!1)},className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[s.jsx(Ht,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:x?ar(x):"Select"})]}),v&&s.jsx(sr,{selectedDate:x||A,onSelect:D=>{N(D),k&&D>k&&E(D),C(!1)},onClose:()=>C(!1),maxDate:k||A})]}),s.jsx("span",{className:"text-gray-400 mt-5",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:"To"}),s.jsxs("button",{onClick:()=>{O(!P),C(!1)},className:"flex items-center gap-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[s.jsx(Ht,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:k?ar(k):"Select"})]}),P&&s.jsx(sr,{selectedDate:k||A,onSelect:D=>{E(D),x&&D<x&&N(D),O(!1)},onClose:()=>O(!1),minDate:x||void 0})]}),x&&k&&s.jsx("button",{onClick:()=>{N(null),E(null)},className:"mt-5 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:s.jsx(vt,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[s.jsx("button",{onClick:G,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(qn,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>f(!p),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[s.jsx(Ht,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"font-medium",children:ar(m)})]}),p&&s.jsx(sr,{selectedDate:m,onSelect:U,onClose:()=>f(!1)})]}),s.jsx("button",{onClick:pe,disabled:m===A,className:`p-2 rounded-lg transition-colors ${m===A?"text-gray-300 dark:text-gray-600 cursor-not-allowed":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:s.jsx(wr,{className:"w-5 h-5"})}),m!==A&&s.jsx("button",{onClick:()=>U(A),className:"text-sm text-blue-600 hover:text-blue-700",children:"Back to today"})]}),s.jsx("div",{className:"overflow-hidden",children:s.jsx(Im,{sessions:de.sessions,sites:de.sites,dateStr:h?x||A:m,animationDirection:b})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Top Sites (",r,")"]}),V.length>0?s.jsx("div",{className:"space-y-3",children:V.slice(0,8).map(([D,R],q)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${Me[q%Me.length]}`}),s.jsx("span",{className:"text-sm text-gray-400 dark:text-gray-500 w-4",children:q+1}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium truncate",children:D}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:Ce(R)})]})})]},D))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No data for this period"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["By Category (",r,")"]}),(()=>{const D=Y(J);return D.length===0?s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No data for this period"}):s.jsx("div",{className:"space-y-3",children:D.map(({category:R,time:q,percent:$})=>{const W=co(R);return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${W.color}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-medium",children:W.name}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:Ce(q)})]}),s.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${W.color} transition-all`,style:{width:`${$}%`}})})]}),s.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 w-12 text-right",children:[$.toFixed(1),"%"]})]},R)})})})()]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Daily Breakdown"}),i&&s.jsxs("div",{className:"bg-gray-900 text-white text-xs px-3 py-1.5 rounded-lg flex items-center gap-2 animate-fade-in",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${Me[V.findIndex(([D])=>D===i.domain)%Me.length]||"bg-gray-400"}`}),s.jsx("span",{className:"font-medium",children:i.domain}),s.jsx("span",{className:"text-gray-300",children:""}),s.jsx("span",{children:Ce(i.time)}),s.jsxs("span",{className:"text-gray-400",children:["(",i.percent.toFixed(1),"%)"]})]})]}),s.jsx("div",{className:"space-y-3",children:T.slice(-7).map(D=>{const R=Object.entries(D.sites).sort(($,W)=>W[1]-$[1]),q=new Map(V.map(([$],W)=>[$,W]));return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-20",children:Cm(D.date)}),s.jsx("div",{className:"flex-1 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden flex",children:D.totalTime>0?R.map(([$,W])=>{const Re=q.get($)??9,ke=W/Ae*100;return ke<.5?null:s.jsx("div",{className:`h-full ${Me[Re%Me.length]} hover:opacity-80 transition-opacity cursor-pointer`,style:{width:`${ke}%`},onMouseEnter:()=>l({date:D.date,domain:$,time:W,percent:W/D.totalTime*100}),onMouseLeave:()=>l(null)},$)}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-xs text-gray-400 dark:text-gray-500",children:"No activity"})}),s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 w-14 text-right",children:Ce(D.totalTime)})]},D.date)})}),s.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-4",children:"Hover over segments to see domain details. Colors match the top sites list above."})]})]})}function Am(){const[e,t]=y.useState(null),[r,n]=y.useState(!0),[o,a]=y.useState(!1),[i,l]=y.useState(""),[c,u]=y.useState(""),[m,d]=y.useState("");y.useEffect(()=>{p()},[]);async function p(){try{const x=await chrome.runtime.sendMessage({type:"GET_SETTINGS"});t(x)}catch(x){console.error("Failed to load settings:",x)}finally{n(!1)}}async function f(){if(e){a(!0);try{await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:e})}catch(x){console.error("Failed to save settings:",x)}finally{a(!1)}}}async function b(){if(i!==c){d("Passwords do not match");return}if(i.length<4){d("Password must be at least 4 characters");return}try{const N=new TextEncoder().encode(i),k=await crypto.subtle.digest("SHA-256",N),v=Array.from(new Uint8Array(k)).map(C=>C.toString(16).padStart(2,"0")).join("");await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:{passwordHash:v}}),l(""),u(""),d(""),alert("Master password set successfully!")}catch(x){console.error("Failed to set password:",x),d("Failed to set password")}}async function g(){if(confirm("Are you sure you want to clear ALL data? This includes all tracking history and blocked sites. This cannot be undone!"))try{await chrome.storage.local.clear(),alert("All data cleared. The extension will reload."),window.location.reload()}catch(x){console.error("Failed to clear data:",x)}}async function h(){try{const x=await chrome.storage.local.get(null),N=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),k=URL.createObjectURL(N),E=document.createElement("a");E.href=k;const v=new Date,C=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`;E.download=`browserutils-export-${C}.json`,E.click(),URL.revokeObjectURL(k)}catch(x){console.error("Failed to export data:",x)}}async function w(x){try{const N=await x.text(),k=JSON.parse(N);await chrome.storage.local.set(k),alert("Data imported successfully!"),window.location.reload()}catch(N){console.error("Failed to import data:",N),alert("Failed to import data. Make sure the file is valid.")}}return r||!e?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"max-w-2xl",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Settings"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Appearance"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-2",children:"Theme"}),s.jsx("div",{className:"flex gap-2",children:[{value:"light",label:"Light",icon:Ha},{value:"dark",label:"Dark",icon:Ua},{value:"system",label:"System",icon:Ga}].map(({value:x,label:N,icon:k})=>s.jsxs("button",{onClick:()=>{const E={...e,theme:x};t(E),Da(x),chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:{theme:x}})},className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${(e==null?void 0:e.theme)===x?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.jsx(k,{className:"w-4 h-4"}),N]},x))})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"General"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Enable Tracking"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Record time spent on websites"})]}),s.jsx("input",{type:"checkbox",checked:e.trackingEnabled,onChange:x=>t({...e,trackingEnabled:x.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Enable Blocking"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Block access to configured sites"})]}),s.jsx("input",{type:"checkbox",checked:e.blockingEnabled,onChange:x=>t({...e,blockingEnabled:x.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:"Data Retention"}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"How long to keep tracking history"}),s.jsxs("select",{value:e.retentionDays,onChange:x=>t({...e,retentionDays:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:14,children:"14 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:60,children:"60 days"}),s.jsx("option",{value:90,children:"90 days"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:"Idle Timeout"}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Stop tracking after this many seconds of inactivity. Set to 0 to disable."}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"number",value:e.idleThreshold,onChange:x=>t({...e,idleThreshold:parseInt(x.target.value)||0}),min:0,max:3600,step:15,className:"w-32 px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx("span",{className:"text-sm text-gray-500",children:"seconds"}),s.jsx("div",{className:"flex gap-2 ml-auto",children:[30,60,120,300].map(x=>s.jsx("button",{type:"button",onClick:()=>t({...e,idleThreshold:x}),className:`px-2 py-1 text-xs rounded ${e.idleThreshold===x?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:x<60?`${x}s`:`${x/60}m`},x))})]}),s.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Minimum: 15 seconds (Chrome API limit). Tracking also pauses when windows are minimized."})]})]}),s.jsxs("button",{onClick:f,disabled:o,className:"mt-6 flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Vr,{className:"w-4 h-4"}),o?"Saving...":"Save Settings"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"New Tab"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block font-medium mb-1",children:"Display Name"}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Your name for the greeting on new tabs"}),s.jsx("input",{type:"text",value:e.displayName,onChange:x=>t({...e,displayName:x.target.value}),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Quick links can be added and removed directly on the new tab page."})]}),s.jsxs("button",{onClick:f,disabled:o,className:"mt-6 flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Vr,{className:"w-4 h-4"}),o?"Saving...":"Save Settings"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Master Password"}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Set a master password for unlocking password-protected blocked sites.",e.passwordHash&&s.jsx("span",{className:"ml-1 text-green-600",children:"(Currently set)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"password",value:i,onChange:x=>{l(x.target.value),d("")},placeholder:"New password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),s.jsx("input",{type:"password",value:c,onChange:x=>{u(x.target.value),d("")},placeholder:"Confirm password",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),m&&s.jsx("p",{className:"text-sm text-red-600",children:m}),s.jsx("button",{onClick:b,className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg transition-colors",children:e.passwordHash?"Update Password":"Set Password"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data Management"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:h,className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg transition-colors",children:"Export Data"}),s.jsxs("label",{className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg transition-colors cursor-pointer",children:["Import Data",s.jsx("input",{type:"file",accept:".json",onChange:x=>{var N;return((N=x.target.files)==null?void 0:N[0])&&w(x.target.files[0])},className:"hidden"})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[s.jsx(Pa,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-red-900 dark:text-red-300",children:"Danger Zone"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mb-3",children:"This will permanently delete all your data including tracking history, blocked sites, and settings."}),s.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(wt,{className:"w-4 h-4"}),"Clear All Data"]})]})]})})]})]})]})}const Pm="0.7.0",Rm=[{version:"0.7.0",date:"2026-01-07",added:["Dark mode support with three options: Light, Dark, and System (follows OS preference)",'Theme selector in Settings under new "Appearance" section',"Automatic theme switching when OS preference changes (in System mode)"]},{version:"0.6.1",date:"2026-01-07",changed:["Activity timeline now merges overlapping sessions for cleaner visualization"]},{version:"0.6.0",date:"2026-01-07",added:["Site Categories - domains automatically categorized (Social, Entertainment, News, etc.)","Category breakdown view in Metrics and Overview pages","Pre-built category mappings for ~300 popular domains","Daily Time Limits - set maximum daily browsing time per site",'New "Daily Limits" page for managing time limits',"Bypass options for daily limits: wait timer, password, or no bypass","Limits approaching warning on Overview page","Blocked page shows daily limit exceeded UI with bypass options"]},{version:"0.5.1",date:"2026-01-07",fixed:[`Sidebar now stays fixed while scrolling, keeping version and "What's New" visible on all pages`,"Back button on changelog page now returns to previous page instead of settings"]},{version:"0.5.0",date:"2026-01-07",added:["Multi-window session tracking - tracks activity across all visible browser windows","Activity Timeline visualization showing when sites were visited throughout the day","Timeline preview on Overview page with link to full view","Full timeline on Metrics page with date navigation and calendar picker","Date range mode to view aggregated data across multiple days","Slide animations when navigating between dates","Multiple windows indicator on timeline rows"],changed:["Refactored time tracking from single-session to multi-session model",'"Time today" now represents union of all browsing sessions (no double-counting)']},{version:"0.4.2",date:"2026-01-06",added:["Smooth expand/collapse animation for folder sections"]},{version:"0.4.1",date:"2026-01-06",changed:["New tab greeting is now deterministic based on day of year"]},{version:"0.4.0",date:"2026-01-06",added:["Folder organization for blocked sites","Drag-and-drop support for moving sites between folders","Collapsible folder sections","Group-level enable/disable controls per folder","Folder selector when adding/editing blocked sites"],changed:["Blocked Sites page refactored from table to grouped folder view"]},{version:"0.3.2",date:"2026-01-05",fixed:["Scheduled blocking now correctly checks if current time is within the blocking window","Sites with service workers that bypass declarativeNetRequest are now blocked"],changed:["Content script runs at document_start for faster blocking","Blocked attempts tracked from content script fallback"]},{version:"0.3.1",date:"2026-01-05",fixed:["Blocked site metrics now properly increment"]},{version:"0.3.0",date:"2026-01-04",added:["Content script heartbeat system for accurate time tracking","Page Visibility API integration for true visibility detection","Session state persistence across service worker restarts","Media detection - continues tracking when audio is playing"],fixed:["UTC date bug - all date calculations now use local timezone","Maximum tracking data loss reduced from 60+ seconds to ~15 seconds"]},{version:"0.2.1",date:"2026-01-03",changed:["Quick links now auto-fetch favicons","Simplified add link modal - just enter URL","Auto-extract site name from domain"]},{version:"0.2.0",date:"2026-01-02",added:["Custom new tab page with time-based greetings","Personalized name display in settings","Large clock with date on new tab","Quick links with emoji icons","Today's browsing stats on new tab"]},{version:"0.1.1",date:"2026-01-01",added:["Percentage display in daily breakdown hover tooltip","Included dist folder for easy extension loading"]},{version:"0.1.0",date:"2026-01-01",added:["Website time tracking with per-site breakdowns","Site blocking with password, timer, and schedule options","Dashboard with Overview and Metrics pages","Popup for quick stats access","Settings for tracking, blocking, theme, and data retention","Idle detection to pause tracking when inactive"]}];function Mm(){const e=oo();return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:s.jsx(Ea,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Changelog"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"What's new in BrowserUtils"})]})]}),s.jsx("div",{className:"space-y-6",children:Rm.map((t,r)=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${r===0?"bg-blue-100 dark:bg-blue-900/50":"bg-gray-100 dark:bg-gray-700"}`,children:s.jsx(za,{className:`w-5 h-5 ${r===0?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["v",t.version]}),r===0&&s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-full",children:"Current"})]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:Om(t.date)})]})]}),s.jsxs("div",{className:"space-y-4",children:[t.added&&t.added.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600 mb-2",children:[s.jsx(Xe,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Added"})]}),s.jsx("ul",{className:"space-y-1 ml-6",children:t.added.map((n,o)=>s.jsx("li",{className:"text-sm text-gray-600 dark:text-gray-300 list-disc",children:n},o))})]}),t.changed&&t.changed.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 mb-2",children:[s.jsx(Va,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Changed"})]}),s.jsx("ul",{className:"space-y-1 ml-6",children:t.changed.map((n,o)=>s.jsx("li",{className:"text-sm text-gray-600 dark:text-gray-300 list-disc",children:n},o))})]}),t.fixed&&t.fixed.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 mb-2",children:[s.jsx(Ra,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Fixed"})]}),s.jsx("ul",{className:"space-y-1 ml-6",children:t.fixed.map((n,o)=>s.jsx("li",{className:"text-sm text-gray-600 dark:text-gray-300 list-disc",children:n},o))})]})]})]},t.version))})]})}function Om(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}const Lm=[{to:"/",icon:_a,label:"Overview"},{to:"/blocked",icon:Le,label:"Blocked Sites"},{to:"/limits",icon:Ia,label:"Daily Limits"},{to:"/metrics",icon:Ta,label:"Metrics"},{to:"/settings",icon:Aa,label:"Settings"}];function Bm(){const[e,t]=y.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[s.jsxs("nav",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-4 flex flex-col h-screen sticky top-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-default",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:s.jsx(Le,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"font-bold text-gray-900 dark:text-gray-100 relative overflow-hidden h-6",children:[s.jsx("span",{className:`inline-block transition-all duration-300 ${e?"opacity-0 -translate-y-full":"opacity-100 translate-y-0"}`,children:"BrowserUtils"}),s.jsx("span",{className:`absolute left-0 top-0 transition-all duration-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,children:"BoyoungUtils"})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Focus & Productivity"})]})]}),s.jsx("div",{className:"space-y-1",children:Lm.map(({to:r,icon:n,label:o})=>s.jsxs(qs,{to:r,className:({isActive:a})=>`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${a?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[s.jsx(n,{className:"w-5 h-5"}),o]},r))}),s.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[s.jsxs(et,{to:"/changelog",className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-700 dark:hover:text-blue-300 rounded-lg transition-colors",children:[s.jsx(Wa,{className:"w-4 h-4"}),"What's New"]}),s.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 text-center",children:["v",Pm]})]})]}),s.jsx("main",{className:"flex-1 p-8 overflow-auto",children:s.jsxs(Ls,{children:[s.jsx(De,{path:"/",element:s.jsx(ei,{})}),s.jsx(De,{path:"/blocked",element:s.jsx(Sm,{})}),s.jsx(De,{path:"/limits",element:s.jsx(jm,{})}),s.jsx(De,{path:"/metrics",element:s.jsx(Tm,{})}),s.jsx(De,{path:"/settings",element:s.jsx(Am,{})}),s.jsx(De,{path:"/changelog",element:s.jsx(Mm,{})})]})})]})}ja();Ca.createRoot(document.getElementById("root")).render(s.jsx(H.StrictMode,{children:s.jsx(Hs,{children:s.jsx(Bm,{})})}));
