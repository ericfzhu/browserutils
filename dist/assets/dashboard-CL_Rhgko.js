import{c as T,r as d,b as Oe,j as t,C as G,S as A,a as Be,R as Ue}from"./index-C3qwfEo-.js";import{h as Ie}from"./storage-Bh_tI2wz.js";import{L as le}from"./lock-BqB2xFOd.js";import{B as Ae,S as $e}from"./settings-C_TTl8Bi.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=T("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=T("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=T("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=T("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=T("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=T("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=T("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=T("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=T("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=T("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=T("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W(){return W=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},W.apply(this,arguments)}var L;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(L||(L={}));const ce="popstate";function Ge(e){e===void 0&&(e={});function s(l,i){let{pathname:c="/",search:h="",hash:n=""}=B(l.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),te("",{pathname:c,search:h,hash:n},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(l,i){let c=l.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let n=l.location.href,u=n.indexOf("#");h=u===-1?n:n.slice(0,u)}return h+"#"+(typeof i=="string"?i:K(i))}function r(l,i){q(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Je(s,a,r,e)}function C(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function q(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Ke(){return Math.random().toString(36).substr(2,8)}function de(e,s){return{usr:e.state,key:e.key,idx:s}}function te(e,s,a,r){return a===void 0&&(a=null),W({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?B(s):s,{state:a,key:s&&s.key||r||Ke()})}function K(e){let{pathname:s="/",search:a="",hash:r=""}=e;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function B(e){let s={};if(e){let a=e.indexOf("#");a>=0&&(s.hash=e.substr(a),e=e.substr(0,a));let r=e.indexOf("?");r>=0&&(s.search=e.substr(r),e=e.substr(0,r)),e&&(s.pathname=e)}return s}function Je(e,s,a,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:i=!1}=r,c=l.history,h=L.Pop,n=null,u=x();u==null&&(u=0,c.replaceState(W({},c.state,{idx:u}),""));function x(){return(c.state||{idx:null}).idx}function m(){h=L.Pop;let f=x(),w=f==null?null:f-u;u=f,n&&n({action:h,location:v.location,delta:w})}function y(f,w){h=L.Push;let o=te(v.location,f,w);a&&a(o,f),u=x()+1;let p=de(o,u),b=v.createHref(o);try{c.pushState(p,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;l.location.assign(b)}i&&n&&n({action:h,location:v.location,delta:1})}function N(f,w){h=L.Replace;let o=te(v.location,f,w);a&&a(o,f),u=x();let p=de(o,u),b=v.createHref(o);c.replaceState(p,"",b),i&&n&&n({action:h,location:v.location,delta:0})}function j(f){let w=l.location.origin!=="null"?l.location.origin:l.location.href,o=typeof f=="string"?f:K(f);return o=o.replace(/ $/,"%20"),C(w,"No window.location.(origin|href) available to create URL for href: "+o),new URL(o,w)}let v={get action(){return h},get location(){return e(l,c)},listen(f){if(n)throw new Error("A history only accepts one active listener");return l.addEventListener(ce,m),n=f,()=>{l.removeEventListener(ce,m),n=null}},createHref(f){return s(l,f)},createURL:j,encodeLocation(f){let w=j(f);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:N,go(f){return c.go(f)}};return v}var ue;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ue||(ue={}));function qe(e,s,a){return a===void 0&&(a="/"),Xe(e,s,a)}function Xe(e,s,a,r){let l=typeof s=="string"?B(s):s,i=$(l.pathname||"/",a);if(i==null)return null;let c=je(e);Ze(c);let h=null;for(let n=0;h==null&&n<c.length;++n){let u=ot(i);h=lt(c[n],u)}return h}function je(e,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let l=(i,c,h)=>{let n={relativePath:h===void 0?i.path||"":h,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};n.relativePath.startsWith("/")&&(C(n.relativePath.startsWith(r),'Absolute route path "'+n.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),n.relativePath=n.relativePath.slice(r.length));let u=M([r,n.relativePath]),x=a.concat(n);i.children&&i.children.length>0&&(C(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),je(i.children,s,x,u)),!(i.path==null&&!i.index)&&s.push({path:u,score:rt(u,i.index),routesMeta:x})};return e.forEach((i,c)=>{var h;if(i.path===""||!((h=i.path)!=null&&h.includes("?")))l(i,c);else for(let n of we(i.path))l(i,c,n)}),s}function we(e){let s=e.split("/");if(s.length===0)return[];let[a,...r]=s,l=a.endsWith("?"),i=a.replace(/\?$/,"");if(r.length===0)return l?[i,""]:[i];let c=we(r.join("/")),h=[];return h.push(...c.map(n=>n===""?i:[i,n].join("/"))),l&&h.push(...c),h.map(n=>e.startsWith("/")&&n===""?"/":n)}function Ze(e){e.sort((s,a)=>s.score!==a.score?a.score-s.score:nt(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const Ye=/^:[\w-]+$/,Qe=3,et=2,tt=1,st=10,at=-2,he=e=>e==="*";function rt(e,s){let a=e.split("/"),r=a.length;return a.some(he)&&(r+=at),s&&(r+=et),a.filter(l=>!he(l)).reduce((l,i)=>l+(Ye.test(i)?Qe:i===""?tt:st),r)}function nt(e,s){return e.length===s.length&&e.slice(0,-1).every((r,l)=>r===s[l])?e[e.length-1]-s[s.length-1]:0}function lt(e,s,a){let{routesMeta:r}=e,l={},i="/",c=[];for(let h=0;h<r.length;++h){let n=r[h],u=h===r.length-1,x=i==="/"?s:s.slice(i.length)||"/",m=se({path:n.relativePath,caseSensitive:n.caseSensitive,end:u},x),y=n.route;if(!m)return null;Object.assign(l,m.params),c.push({params:l,pathname:M([i,m.pathname]),pathnameBase:mt(M([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=M([i,m.pathnameBase]))}return c}function se(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=it(e.path,e.caseSensitive,e.end),l=s.match(a);if(!l)return null;let i=l[0],c=i.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:r.reduce((u,x,m)=>{let{paramName:y,isOptional:N}=x;if(y==="*"){let v=h[m]||"";c=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const j=h[m];return N&&!j?u[y]=void 0:u[y]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:c,pattern:e}}function it(e,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),q(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,n)=>(r.push({paramName:h,isOptional:n!=null}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,s?void 0:"i"),r]}function ot(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function $(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}const ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=e=>ct.test(e);function ut(e,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:l=""}=typeof e=="string"?B(e):e,i;if(a)if(dt(a))i=a;else{if(a.includes("//")){let c=a;a=a.replace(/\/\/+/g,"/"),q(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+a))}a.startsWith("/")?i=me(a.substring(1),"/"):i=me(a,s)}else i=s;return{pathname:i,search:xt(r),hash:pt(l)}}function me(e,s){let a=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function Q(e,s,a,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ht(e){return e.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Ne(e,s){let a=ht(e);return s?a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function ke(e,s,a,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=B(e):(l=W({},e),C(!l.pathname||!l.pathname.includes("?"),Q("?","pathname","search",l)),C(!l.pathname||!l.pathname.includes("#"),Q("#","pathname","hash",l)),C(!l.search||!l.search.includes("#"),Q("#","search","hash",l)));let i=e===""||l.pathname==="",c=i?"/":l.pathname,h;if(c==null)h=a;else{let m=s.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),m-=1;l.pathname=y.join("/")}h=m>=0?s[m]:"/"}let n=ut(l,h),u=c&&c!=="/"&&c.endsWith("/"),x=(i||c===".")&&a.endsWith("/");return!n.pathname.endsWith("/")&&(u||x)&&(n.pathname+="/"),n}const M=e=>e.join("/").replace(/\/\/+/g,"/"),mt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ft(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Se=["post","put","patch","delete"];new Set(Se);const gt=["get",...Se];new Set(gt);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V(){return V=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},V.apply(this,arguments)}const X=d.createContext(null),Ce=d.createContext(null),O=d.createContext(null),Z=d.createContext(null),U=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Ee=d.createContext(null);function yt(e,s){let{relative:a}=s===void 0?{}:s;z()||C(!1);let{basename:r,navigator:l}=d.useContext(O),{hash:i,pathname:c,search:h}=Y(e,{relative:a}),n=c;return r!=="/"&&(n=c==="/"?r:M([r,c])),l.createHref({pathname:n,search:h,hash:i})}function z(){return d.useContext(Z)!=null}function H(){return z()||C(!1),d.useContext(Z).location}function Te(e){d.useContext(O).static||d.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=d.useContext(U);return e?Lt():vt()}function vt(){z()||C(!1);let e=d.useContext(X),{basename:s,future:a,navigator:r}=d.useContext(O),{matches:l}=d.useContext(U),{pathname:i}=H(),c=JSON.stringify(Ne(l,a.v7_relativeSplatPath)),h=d.useRef(!1);return Te(()=>{h.current=!0}),d.useCallback(function(u,x){if(x===void 0&&(x={}),!h.current)return;if(typeof u=="number"){r.go(u);return}let m=ke(u,JSON.parse(c),i,x.relative==="path");e==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:M([s,m.pathname])),(x.replace?r.replace:r.push)(m,x.state,x)},[s,r,c,i,e])}function Y(e,s){let{relative:a}=s===void 0?{}:s,{future:r}=d.useContext(O),{matches:l}=d.useContext(U),{pathname:i}=H(),c=JSON.stringify(Ne(l,r.v7_relativeSplatPath));return d.useMemo(()=>ke(e,JSON.parse(c),i,a==="path"),[e,c,i,a])}function jt(e,s){return wt(e,s)}function wt(e,s,a,r){z()||C(!1);let{navigator:l}=d.useContext(O),{matches:i}=d.useContext(U),c=i[i.length-1],h=c?c.params:{};c&&c.pathname;let n=c?c.pathnameBase:"/";c&&c.route;let u=H(),x;if(s){var m;let f=typeof s=="string"?B(s):s;n==="/"||(m=f.pathname)!=null&&m.startsWith(n)||C(!1),x=f}else x=u;let y=x.pathname||"/",N=y;if(n!=="/"){let f=n.replace(/^\//,"").split("/");N="/"+y.replace(/^\//,"").split("/").slice(f.length).join("/")}let j=qe(e,{pathname:N}),v=Et(j&&j.map(f=>Object.assign({},f,{params:Object.assign({},h,f.params),pathname:M([n,l.encodeLocation?l.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?n:M([n,l.encodeLocation?l.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),i,a,r);return s&&v?d.createElement(Z.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:L.Pop}},v):v}function Nt(){let e=Rt(),s=ft(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},s),a?d.createElement("pre",{style:l},a):null,null)}const kt=d.createElement(Nt,null);class St extends d.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?d.createElement(U.Provider,{value:this.props.routeContext},d.createElement(Ee.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ct(e){let{routeContext:s,match:a,children:r}=e,l=d.useContext(X);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),d.createElement(U.Provider,{value:s},r)}function Et(e,s,a,r){var l;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),e==null){var i;if(!a)return null;if(a.errors)e=a.matches;else if((i=r)!=null&&i.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let c=e,h=(l=a)==null?void 0:l.errors;if(h!=null){let x=c.findIndex(m=>m.route.id&&(h==null?void 0:h[m.route.id])!==void 0);x>=0||C(!1),c=c.slice(0,Math.min(c.length,x+1))}let n=!1,u=-1;if(a&&r&&r.v7_partialHydration)for(let x=0;x<c.length;x++){let m=c[x];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=x),m.route.id){let{loaderData:y,errors:N}=a,j=m.route.loader&&y[m.route.id]===void 0&&(!N||N[m.route.id]===void 0);if(m.route.lazy||j){n=!0,u>=0?c=c.slice(0,u+1):c=[c[0]];break}}}return c.reduceRight((x,m,y)=>{let N,j=!1,v=null,f=null;a&&(N=h&&m.route.id?h[m.route.id]:void 0,v=m.route.errorElement||kt,n&&(u<0&&y===0?(Mt("route-fallback"),j=!0,f=null):u===y&&(j=!0,f=m.route.hydrateFallbackElement||null)));let w=s.concat(c.slice(0,y+1)),o=()=>{let p;return N?p=v:j?p=f:m.route.Component?p=d.createElement(m.route.Component,null):m.route.element?p=m.route.element:p=x,d.createElement(Ct,{match:m,routeContext:{outlet:x,matches:w,isDataRoute:a!=null},children:p})};return a&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?d.createElement(St,{location:a.location,revalidation:a.revalidation,component:v,error:N,children:o(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):o()},null)}var Pe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pe||{}),De=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(De||{});function Tt(e){let s=d.useContext(X);return s||C(!1),s}function Pt(e){let s=d.useContext(Ce);return s||C(!1),s}function Dt(e){let s=d.useContext(U);return s||C(!1),s}function Re(e){let s=Dt(),a=s.matches[s.matches.length-1];return a.route.id||C(!1),a.route.id}function Rt(){var e;let s=d.useContext(Ee),a=Pt(),r=Re();return s!==void 0?s:(e=a.errors)==null?void 0:e[r]}function Lt(){let{router:e}=Tt(Pe.UseNavigateStable),s=Re(De.UseNavigateStable),a=d.useRef(!1);return Te(()=>{a.current=!0}),d.useCallback(function(l,i){i===void 0&&(i={}),a.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,V({fromRouteId:s},i)))},[e,s])}const xe={};function Mt(e,s,a){xe[e]||(xe[e]=!0)}function Ot(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function F(e){C(!1)}function Bt(e){let{basename:s="/",children:a=null,location:r,navigationType:l=L.Pop,navigator:i,static:c=!1,future:h}=e;z()&&C(!1);let n=s.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:n,navigator:i,static:c,future:V({v7_relativeSplatPath:!1},h)}),[n,h,i,c]);typeof r=="string"&&(r=B(r));let{pathname:x="/",search:m="",hash:y="",state:N=null,key:j="default"}=r,v=d.useMemo(()=>{let f=$(x,n);return f==null?null:{location:{pathname:f,search:m,hash:y,state:N,key:j},navigationType:l}},[n,x,m,y,N,j,l]);return v==null?null:d.createElement(O.Provider,{value:u},d.createElement(Z.Provider,{children:a,value:v}))}function Ut(e){let{children:s,location:a}=e;return jt(ae(s),a)}new Promise(()=>{});function ae(e,s){s===void 0&&(s=[]);let a=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let i=[...s,l];if(r.type===d.Fragment){a.push.apply(a,ae(r.props.children,i));return}r.type!==F&&C(!1),!r.props.index||!r.props.children||C(!1);let c={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ae(r.props.children,i)),a.push(c)}),a}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function J(){return J=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},J.apply(this,arguments)}function Le(e,s){if(e==null)return{};var a={},r=Object.keys(e),l,i;for(i=0;i<r.length;i++)l=r[i],!(s.indexOf(l)>=0)&&(a[l]=e[l]);return a}function It(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function At(e,s){return e.button===0&&(!s||s==="_self")&&!It(e)}const $t=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_t=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ft="6";try{window.__reactRouterVersion=Ft}catch{}const Wt=d.createContext({isTransitioning:!1}),Vt="startTransition",pe=Oe[Vt];function zt(e){let{basename:s,children:a,future:r,window:l}=e,i=d.useRef();i.current==null&&(i.current=Ge({window:l,v5Compat:!0}));let c=i.current,[h,n]=d.useState({action:c.action,location:c.location}),{v7_startTransition:u}=r||{},x=d.useCallback(m=>{u&&pe?pe(()=>n(m)):n(m)},[n,u]);return d.useLayoutEffect(()=>c.listen(x),[c,x]),d.useEffect(()=>Ot(r),[r]),d.createElement(Bt,{basename:s,children:a,location:h.location,navigationType:h.action,navigator:c,future:r})}const Ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=d.forwardRef(function(s,a){let{onClick:r,relative:l,reloadDocument:i,replace:c,state:h,target:n,to:u,preventScrollReset:x,viewTransition:m}=s,y=Le(s,$t),{basename:N}=d.useContext(O),j,v=!1;if(typeof u=="string"&&Gt.test(u)&&(j=u,Ht))try{let p=new URL(window.location.href),b=u.startsWith("//")?new URL(p.protocol+u):new URL(u),S=$(b.pathname,N);b.origin===p.origin&&S!=null?u=S+b.search+b.hash:v=!0}catch{}let f=yt(u,{relative:l}),w=Xt(u,{replace:c,state:h,target:n,preventScrollReset:x,relative:l,viewTransition:m});function o(p){r&&r(p),p.defaultPrevented||w(p)}return d.createElement("a",J({},y,{href:j||f,onClick:v||i?r:o,ref:a,target:n}))}),Jt=d.forwardRef(function(s,a){let{"aria-current":r="page",caseSensitive:l=!1,className:i="",end:c=!1,style:h,to:n,viewTransition:u,children:x}=s,m=Le(s,_t),y=Y(n,{relative:m.relative}),N=H(),j=d.useContext(Ce),{navigator:v,basename:f}=d.useContext(O),w=j!=null&&Zt(y)&&u===!0,o=v.encodeLocation?v.encodeLocation(y).pathname:y.pathname,p=N.pathname,b=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(p=p.toLowerCase(),b=b?b.toLowerCase():null,o=o.toLowerCase()),b&&f&&(b=$(b,f)||b);const S=o!=="/"&&o.endsWith("/")?o.length-1:o.length;let P=p===o||!c&&p.startsWith(o)&&p.charAt(S)==="/",g=b!=null&&(b===o||!c&&b.startsWith(o)&&b.charAt(o.length)==="/"),k={isActive:P,isPending:g,isTransitioning:w},D=P?r:void 0,E;typeof i=="function"?E=i(k):E=[i,P?"active":null,g?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof h=="function"?h(k):h;return d.createElement(Kt,J({},m,{"aria-current":D,className:E,ref:a,style:R,to:n,viewTransition:u}),typeof x=="function"?x(k):x)});var re;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(re||(re={}));var fe;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(fe||(fe={}));function qt(e){let s=d.useContext(X);return s||C(!1),s}function Xt(e,s){let{target:a,replace:r,state:l,preventScrollReset:i,relative:c,viewTransition:h}=s===void 0?{}:s,n=bt(),u=H(),x=Y(e,{relative:c});return d.useCallback(m=>{if(At(m,a)){m.preventDefault();let y=r!==void 0?r:K(u)===K(x);n(e,{replace:y,state:l,preventScrollReset:i,relative:c,viewTransition:h})}},[u,n,x,r,l,a,e,i,c,h])}function Zt(e,s){s===void 0&&(s={});let a=d.useContext(Wt);a==null&&C(!1);let{basename:r}=qt(re.useViewTransitionState),l=Y(e,{relative:s.relative});if(!a.isTransitioning)return!1;let i=$(a.currentLocation.pathname,r)||a.currentLocation.pathname,c=$(a.nextLocation.pathname,r)||a.nextLocation.pathname;return se(l.pathname,c)!=null||se(l.pathname,i)!=null}function ge(e){const s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?`${s}h ${a}m`:`${a}m`}function Yt(){const[e,s]=d.useState(null),[a,r]=d.useState([]),[l,i]=d.useState(!0);d.useEffect(()=>{c()},[]);async function c(){try{const n=new Date().toISOString().split("T")[0],[u,x]=await Promise.all([chrome.runtime.sendMessage({type:"GET_STATS",payload:{date:n}}),chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"})]);s(u),r(x)}catch(n){console.error("Failed to load data:",n)}finally{i(!1)}}if(l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const h=e?Object.entries(e.sites).sort((n,u)=>u[1]-n[1]).slice(0,5):[];return t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Overview"}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(G,{className:"w-5 h-5 text-blue-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Time Today"})]}),t.jsx("p",{className:"text-2xl font-bold",children:ge((e==null?void 0:e.totalTime)||0)})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(Fe,{className:"w-5 h-5 text-green-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Sites Visited"})]}),t.jsx("p",{className:"text-2xl font-bold",children:Object.keys((e==null?void 0:e.sites)||{}).length})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(A,{className:"w-5 h-5 text-red-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Blocks Today"})]}),t.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.blockedAttempts)||0})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(ve,{className:"w-5 h-5 text-purple-600"})}),t.jsx("span",{className:"text-sm text-gray-500",children:"Active Blocks"})]}),t.jsx("p",{className:"text-2xl font-bold",children:a.filter(n=>n.enabled).length})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Top Sites Today"}),h.length>0?t.jsx("div",{className:"space-y-3",children:h.map(([n,u],x)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm text-gray-400 w-4",children:x+1}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"text-sm font-medium truncate",children:n}),t.jsx("span",{className:"text-sm text-gray-500",children:ge(u)})]}),t.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${Math.min(100,u/((e==null?void 0:e.totalTime)||1)*100)}%`}})})]})]},n))}):t.jsx("p",{className:"text-gray-500 text-center py-8",children:"No activity recorded yet"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Blocked Sites"}),a.length>0?t.jsxs("div",{className:"space-y-2",children:[a.slice(0,5).map(n=>t.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[t.jsx("span",{className:"text-sm font-medium",children:n.pattern}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${n.enabled?"bg-red-100 text-red-700":"bg-gray-200 text-gray-600"}`,children:n.enabled?"Blocking":"Disabled"})]},n.id)),a.length>5&&t.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2",children:["+",a.length-5," more"]})]}):t.jsx("p",{className:"text-gray-500 text-center py-8",children:"No blocked sites configured"})]})]})]})}const Qt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ye={pattern:"",unlockType:"none",password:"",timerDuration:30,scheduleDays:[1,2,3,4,5],scheduleStart:"09:00",scheduleEnd:"17:00"};function es(){const[e,s]=d.useState([]),[a,r]=d.useState(!0),[l,i]=d.useState(!1),[c,h]=d.useState(null),[n,u]=d.useState(ye);d.useEffect(()=>{x()},[]);async function x(){try{const o=await chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"});s(o)}catch(o){console.error("Failed to load sites:",o)}finally{r(!1)}}function m(){h(null),u(ye),i(!0)}function y(o){var p,b,S;h(o),u({pattern:o.pattern,unlockType:o.unlockType,password:"",timerDuration:o.timerDuration||30,scheduleDays:((p=o.schedule)==null?void 0:p.days)||[1,2,3,4,5],scheduleStart:((b=o.schedule)==null?void 0:b.startTime)||"09:00",scheduleEnd:((S=o.schedule)==null?void 0:S.endTime)||"17:00"}),i(!0)}async function N(o){o.preventDefault();const p={pattern:n.pattern.toLowerCase().trim(),enabled:!0,unlockType:n.unlockType};n.unlockType==="password"&&n.password&&(p.passwordHash=await Ie(n.password)),n.unlockType==="timer"&&(p.timerDuration=n.timerDuration),n.unlockType==="schedule"&&(p.schedule={days:n.scheduleDays,startTime:n.scheduleStart,endTime:n.scheduleEnd});try{c?await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...c,...p}}):await chrome.runtime.sendMessage({type:"ADD_BLOCKED_SITE",payload:p}),await x(),i(!1)}catch(b){console.error("Failed to save site:",b)}}async function j(o){try{await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...o,enabled:!o.enabled}}),await x()}catch(p){console.error("Failed to toggle site:",p)}}async function v(o){if(confirm("Are you sure you want to remove this blocked site?"))try{await chrome.runtime.sendMessage({type:"REMOVE_BLOCKED_SITE",payload:{id:o}}),await x()}catch(p){console.error("Failed to delete site:",p)}}function f(o){switch(o){case"password":return t.jsx(le,{className:"w-4 h-4"});case"timer":return t.jsx(G,{className:"w-4 h-4"});case"schedule":return t.jsx(ee,{className:"w-4 h-4"});default:return t.jsx(A,{className:"w-4 h-4"})}}function w(o){switch(o.unlockType){case"password":return"Password protected";case"timer":return`${o.timerDuration}min timer`;case"schedule":return"Scheduled";default:return"Always blocked"}}return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Blocked Sites"}),t.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[t.jsx(ie,{className:"w-5 h-5"}),"Add Site"]})]}),e.length>0?t.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left text-sm font-medium text-gray-500 px-6 py-3",children:"Pattern"}),t.jsx("th",{className:"text-left text-sm font-medium text-gray-500 px-6 py-3",children:"Unlock Method"}),t.jsx("th",{className:"text-left text-sm font-medium text-gray-500 px-6 py-3",children:"Status"}),t.jsx("th",{className:"text-right text-sm font-medium text-gray-500 px-6 py-3",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(o=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:"font-medium",children:o.pattern})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[f(o.unlockType),t.jsx("span",{className:"text-sm",children:w(o)})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("button",{onClick:()=>j(o),className:`text-sm px-3 py-1 rounded-full transition-colors ${o.enabled?"bg-red-100 text-red-700 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:o.enabled?"Blocking":"Disabled"})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>y(o),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:t.jsx(Ve,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>v(o.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:t.jsx(be,{className:"w-4 h-4"})})]})})]},o.id))})]})}):t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[t.jsx(A,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blocked sites"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"Add sites you want to block to help stay focused."}),t.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[t.jsx(ie,{className:"w-5 h-5"}),"Add Your First Site"]})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg mx-4 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[t.jsx("h2",{className:"text-lg font-semibold",children:c?"Edit Blocked Site":"Add Blocked Site"}),t.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(He,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Pattern"}),t.jsx("input",{type:"text",value:n.pattern,onChange:o=>u({...n,pattern:o.target.value}),placeholder:"e.g., twitter.com or *.reddit.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use *.domain.com to block all subdomains"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unlock Method"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"none",label:"Always Blocked",icon:A},{value:"password",label:"Password",icon:le},{value:"timer",label:"Timer",icon:G},{value:"schedule",label:"Schedule",icon:ee}].map(({value:o,label:p,icon:b})=>t.jsxs("button",{type:"button",onClick:()=>u({...n,unlockType:o}),className:`flex items-center gap-2 p-3 border rounded-lg transition-colors ${n.unlockType===o?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:[t.jsx(b,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium",children:p})]},o))})]}),n.unlockType==="password"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unlock Password"}),t.jsx("input",{type:"password",value:n.password,onChange:o=>u({...n,password:o.target.value}),placeholder:c?"Leave blank to keep current":"Enter password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!c})]}),n.unlockType==="timer"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timer Duration (minutes)"}),t.jsx("input",{type:"number",value:n.timerDuration,onChange:o=>u({...n,timerDuration:parseInt(o.target.value)||30}),min:1,max:480,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Site will be blocked again after this time"})]}),n.unlockType==="schedule"&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Block on these days"}),t.jsx("div",{className:"flex gap-1",children:Qt.map((o,p)=>t.jsx("button",{type:"button",onClick:()=>{const b=n.scheduleDays.includes(p)?n.scheduleDays.filter(S=>S!==p):[...n.scheduleDays,p];u({...n,scheduleDays:b})},className:`flex-1 py-2 text-xs font-medium rounded transition-colors ${n.scheduleDays.includes(p)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:o},o))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("input",{type:"time",value:n.scheduleStart,onChange:o=>u({...n,scheduleStart:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("input",{type:"time",value:n.scheduleEnd,onChange:o=>u({...n,scheduleEnd:o.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:c?"Save Changes":"Add Site"})]})]})]})})]})}function _(e){const s=Math.floor(e/3600),a=Math.floor(e%3600/60);return s>0?`${s}h ${a}m`:`${a}m`}function ts(e){return new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const I=["bg-blue-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-teal-500","bg-cyan-500"];function ss(){const[e,s]=d.useState({}),[a,r]=d.useState("week"),[l,i]=d.useState(!0),[c,h]=d.useState(null);d.useEffect(()=>{n()},[]);async function n(){try{const g=await chrome.runtime.sendMessage({type:"GET_STATS"});s(g)}catch(g){console.error("Failed to load stats:",g)}finally{i(!1)}}if(l)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const u=new Date,x=a==="week"?7:30,m=[];for(let g=x-1;g>=0;g--){const k=new Date(u);k.setDate(k.getDate()-g),m.push(k.toISOString().split("T")[0])}const y=m.map(g=>e[g]||{date:g,totalTime:0,sites:{},visits:0,blockedAttempts:0}),N=y.reduce((g,k)=>g+k.totalTime,0),j=y.reduce((g,k)=>g+k.blockedAttempts,0),v=N/x,f={};for(const g of y)for(const[k,D]of Object.entries(g.sites))f[k]=(f[k]||0)+D;const w=Object.entries(f).sort((g,k)=>k[1]-g[1]).slice(0,10),o=Math.max(...y.map(g=>g.totalTime),1),p=[];for(let g=x*2-1;g>=x;g--){const k=new Date(u);k.setDate(k.getDate()-g),p.push(k.toISOString().split("T")[0])}const S=p.map(g=>e[g]||{totalTime:0}).reduce((g,k)=>g+k.totalTime,0),P=S>0?(N-S)/S*100:0;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Metrics"}),t.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>r("week"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${a==="week"?"bg-white shadow text-gray-900":"text-gray-600"}`,children:"Week"}),t.jsx("button",{onClick:()=>r("month"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${a==="month"?"bg-white shadow text-gray-900":"text-gray-600"}`,children:"Month"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Total Time"}),t.jsx(G,{className:"w-5 h-5 text-gray-400"})]}),t.jsx("p",{className:"text-2xl font-bold",children:_(N)}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[P>0?t.jsx(ve,{className:"w-4 h-4 text-red-500"}):t.jsx(oe,{className:"w-4 h-4 text-green-500"}),t.jsxs("span",{className:`text-sm ${P>0?"text-red-500":"text-green-500"}`,children:[Math.abs(P).toFixed(0),"% vs prev ",a]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Daily Average"}),t.jsx(ee,{className:"w-5 h-5 text-gray-400"})]}),t.jsx("p",{className:"text-2xl font-bold",children:_(v)}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"per day"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Sites Blocked"}),t.jsx(oe,{className:"w-5 h-5 text-gray-400"})]}),t.jsx("p",{className:"text-2xl font-bold",children:j}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"distractions avoided"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Top Sites (",a,")"]}),w.length>0?t.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3",children:w.map(([g,k],D)=>t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${I[D%I.length]}`}),t.jsx("span",{className:"text-sm text-gray-400 w-4",children:D+1}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium truncate",children:g}),t.jsx("span",{className:"text-sm text-gray-500 ml-2",children:_(k)})]})})]},g))}):t.jsx("p",{className:"text-gray-500 text-center py-8",children:"No data for this period"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Daily Breakdown"}),c&&t.jsxs("div",{className:"bg-gray-900 text-white text-xs px-3 py-1.5 rounded-lg flex items-center gap-2 animate-fade-in",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${I[w.findIndex(([g])=>g===c.domain)%I.length]||"bg-gray-400"}`}),t.jsx("span",{className:"font-medium",children:c.domain}),t.jsx("span",{className:"text-gray-300",children:"â€¢"}),t.jsx("span",{children:_(c.time)})]})]}),t.jsx("div",{className:"space-y-3",children:y.slice(-7).map(g=>{const k=Object.entries(g.sites).sort((E,R)=>R[1]-E[1]),D=new Map(w.map(([E],R)=>[E,R]));return t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-xs text-gray-500 w-20",children:ts(g.date)}),t.jsx("div",{className:"flex-1 h-8 bg-gray-100 rounded-lg overflow-hidden flex",children:g.totalTime>0?k.map(([E,R])=>{const Me=D.get(E)??9,ne=R/o*100;return ne<.5?null:t.jsx("div",{className:`h-full ${I[Me%I.length]} hover:opacity-80 transition-opacity cursor-pointer`,style:{width:`${ne}%`},onMouseEnter:()=>h({date:g.date,domain:E,time:R}),onMouseLeave:()=>h(null)},E)}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-xs text-gray-400",children:"No activity"})}),t.jsx("span",{className:"text-xs text-gray-600 w-14 text-right",children:_(g.totalTime)})]},g.date)})}),t.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Hover over segments to see domain details. Colors match the top sites list above."})]})]})}function as(){const[e,s]=d.useState(null),[a,r]=d.useState(!0),[l,i]=d.useState(!1),[c,h]=d.useState(""),[n,u]=d.useState(""),[x,m]=d.useState("");d.useEffect(()=>{y()},[]);async function y(){try{const o=await chrome.runtime.sendMessage({type:"GET_SETTINGS"});s(o)}catch(o){console.error("Failed to load settings:",o)}finally{r(!1)}}async function N(){if(e){i(!0);try{await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:e})}catch(o){console.error("Failed to save settings:",o)}finally{i(!1)}}}async function j(){if(c!==n){m("Passwords do not match");return}if(c.length<4){m("Password must be at least 4 characters");return}try{const p=new TextEncoder().encode(c),b=await crypto.subtle.digest("SHA-256",p),P=Array.from(new Uint8Array(b)).map(g=>g.toString(16).padStart(2,"0")).join("");await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:{passwordHash:P}}),h(""),u(""),m(""),alert("Master password set successfully!")}catch(o){console.error("Failed to set password:",o),m("Failed to set password")}}async function v(){if(confirm("Are you sure you want to clear ALL data? This includes all tracking history and blocked sites. This cannot be undone!"))try{await chrome.storage.local.clear(),alert("All data cleared. The extension will reload."),window.location.reload()}catch(o){console.error("Failed to clear data:",o)}}async function f(){try{const o=await chrome.storage.local.get(null),p=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),b=URL.createObjectURL(p),S=document.createElement("a");S.href=b,S.download=`browserutils-export-${new Date().toISOString().split("T")[0]}.json`,S.click(),URL.revokeObjectURL(b)}catch(o){console.error("Failed to export data:",o)}}async function w(o){try{const p=await o.text(),b=JSON.parse(p);await chrome.storage.local.set(b),alert("Data imported successfully!"),window.location.reload()}catch(p){console.error("Failed to import data:",p),alert("Failed to import data. Make sure the file is valid.")}}return a||!e?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"max-w-2xl",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"General"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Enable Tracking"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Record time spent on websites"})]}),t.jsx("input",{type:"checkbox",checked:e.trackingEnabled,onChange:o=>s({...e,trackingEnabled:o.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),t.jsxs("label",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Enable Blocking"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Block access to configured sites"})]}),t.jsx("input",{type:"checkbox",checked:e.blockingEnabled,onChange:o=>s({...e,blockingEnabled:o.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block font-medium mb-1",children:"Data Retention"}),t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"How long to keep tracking history"}),t.jsxs("select",{value:e.retentionDays,onChange:o=>s({...e,retentionDays:parseInt(o.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:7,children:"7 days"}),t.jsx("option",{value:14,children:"14 days"}),t.jsx("option",{value:30,children:"30 days"}),t.jsx("option",{value:60,children:"60 days"}),t.jsx("option",{value:90,children:"90 days"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block font-medium mb-1",children:"Idle Timeout"}),t.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Stop tracking after this many seconds of inactivity. Set to 0 to disable."}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"number",value:e.idleThreshold,onChange:o=>s({...e,idleThreshold:parseInt(o.target.value)||0}),min:0,max:3600,step:15,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:"seconds"}),t.jsx("div",{className:"flex gap-2 ml-auto",children:[30,60,120,300].map(o=>t.jsx("button",{type:"button",onClick:()=>s({...e,idleThreshold:o}),className:`px-2 py-1 text-xs rounded ${e.idleThreshold===o?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:o<60?`${o}s`:`${o/60}m`},o))})]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimum: 15 seconds (Chrome API limit). Tracking also pauses when windows are minimized."})]})]}),t.jsxs("button",{onClick:N,disabled:l,className:"mt-6 flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:[t.jsx(ze,{className:"w-4 h-4"}),l?"Saving...":"Save Settings"]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Master Password"}),t.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Set a master password for unlocking password-protected blocked sites.",e.passwordHash&&t.jsx("span",{className:"ml-1 text-green-600",children:"(Currently set)"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("input",{type:"password",value:c,onChange:o=>{h(o.target.value),m("")},placeholder:"New password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("input",{type:"password",value:n,onChange:o=>{u(o.target.value),m("")},placeholder:"Confirm password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),x&&t.jsx("p",{className:"text-sm text-red-600",children:x}),t.jsx("button",{onClick:j,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:e.passwordHash?"Update Password":"Set Password"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data Management"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:f,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Export Data"}),t.jsxs("label",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors cursor-pointer",children:["Import Data",t.jsx("input",{type:"file",accept:".json",onChange:o=>{var p;return((p=o.target.files)==null?void 0:p[0])&&w(o.target.files[0])},className:"hidden"})]})]}),t.jsx("div",{className:"pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[t.jsx(_e,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-red-900",children:"Danger Zone"}),t.jsx("p",{className:"text-sm text-red-700 mb-3",children:"This will permanently delete all your data including tracking history, blocked sites, and settings."}),t.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:[t.jsx(be,{className:"w-4 h-4"}),"Clear All Data"]})]})]})})]})]})]})}const rs=[{to:"/",icon:We,label:"Overview"},{to:"/blocked",icon:A,label:"Blocked Sites"},{to:"/metrics",icon:Ae,label:"Metrics"},{to:"/settings",icon:$e,label:"Settings"}];function ns(){const[e,s]=d.useState(!1);return t.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[t.jsxs("nav",{className:"w-64 bg-white border-r border-gray-200 p-4 flex flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-default",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(A,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"font-bold text-gray-900 relative overflow-hidden h-6",children:[t.jsx("span",{className:`inline-block transition-all duration-300 ${e?"opacity-0 -translate-y-full":"opacity-100 translate-y-0"}`,children:"BrowserUtils"}),t.jsx("span",{className:`absolute left-0 top-0 transition-all duration-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,children:"BoyoungðŸ˜˜Utils"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Focus & Productivity"})]})]}),t.jsx("div",{className:"space-y-1",children:rs.map(({to:a,icon:r,label:l})=>t.jsxs(Jt,{to:a,className:({isActive:i})=>`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${i?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[t.jsx(r,{className:"w-5 h-5"}),l]},a))}),t.jsx("div",{className:"mt-auto pt-4 border-t",children:t.jsx("p",{className:"text-xs text-gray-400 text-center",children:"v1.0.0"})})]}),t.jsx("main",{className:"flex-1 p-8 overflow-auto",children:t.jsxs(Ut,{children:[t.jsx(F,{path:"/",element:t.jsx(Yt,{})}),t.jsx(F,{path:"/blocked",element:t.jsx(es,{})}),t.jsx(F,{path:"/metrics",element:t.jsx(ss,{})}),t.jsx(F,{path:"/settings",element:t.jsx(as,{})})]})})]})}Be.createRoot(document.getElementById("root")).render(t.jsx(Ue.StrictMode,{children:t.jsx(zt,{children:t.jsx(ns,{})})}));
