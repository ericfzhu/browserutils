import{c as p,r as i,j as e,S as m,C as y,a as N,R as v}from"./index-C3qwfEo-.js";import{B as S,S as w}from"./settings-C_TTl8Bi.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=p("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]);function x(s){const n=Math.floor(s/3600),t=Math.floor(s%3600/60);return n>0?`${n}h ${t}m`:`${t}m`}function E(){const[s,n]=i.useState(null),[t,r]=i.useState(null),[h,u]=i.useState(!0),[c,o]=i.useState(!1);i.useEffect(()=>{f()},[]);async function f(){try{const a=new Date().toISOString().split("T")[0],[l,g]=await Promise.all([chrome.runtime.sendMessage({type:"GET_STATS",payload:{date:a}}),chrome.runtime.sendMessage({type:"GET_SETTINGS"})]);n(l),r(g)}catch(a){console.error("Failed to load data:",a)}finally{u(!1)}}async function b(){if(!t)return;const a=await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:{blockingEnabled:!t.blockingEnabled}});r(a)}function j(){chrome.tabs.create({url:chrome.runtime.getURL("dashboard.html")})}if(h)return e.jsx("div",{className:"w-80 p-4 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const d=s?Object.entries(s.sites).sort((a,l)=>l[1]-a[1]).slice(0,3):[];return e.jsxs("div",{className:"w-80 bg-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-lg font-semibold cursor-default relative overflow-hidden",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e.jsx("span",{className:`inline-block transition-all duration-300 ${c?"opacity-0 -translate-y-full":"opacity-100 translate-y-0"}`,children:"BrowserUtils"}),e.jsx("span",{className:`absolute left-0 transition-all duration-300 ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,children:"BoyoungðŸ˜˜Utils"})]}),e.jsx("button",{onClick:b,className:`p-2 rounded-lg transition-colors ${t!=null&&t.blockingEnabled?"bg-white/20 hover:bg-white/30":"bg-red-500/50 hover:bg-red-500/70"}`,title:t!=null&&t.blockingEnabled?"Blocking enabled":"Blocking disabled",children:t!=null&&t.blockingEnabled?e.jsx(m,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-3",children:"Today"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(y,{className:"w-4 h-4 text-blue-600"})}),e.jsx("div",{className:"text-lg font-semibold",children:x((s==null?void 0:s.totalTime)||0)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(S,{className:"w-4 h-4 text-green-600"})}),e.jsx("div",{className:"text-lg font-semibold",children:(s==null?void 0:s.visits)||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Visits"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(m,{className:"w-4 h-4 text-red-600"})}),e.jsx("div",{className:"text-lg font-semibold",children:(s==null?void 0:s.blockedAttempts)||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Blocked"})]})]})]}),d.length>0&&e.jsxs("div",{className:"p-4 border-b",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500 mb-2",children:"Top Sites"}),e.jsx("div",{className:"space-y-2",children:d.map(([a,l])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm truncate flex-1",children:a}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:x(l)})]},a))})]}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:j,className:"w-full flex items-center justify-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:[e.jsx(w,{className:"w-4 h-4"}),"Open Dashboard"]})})]})}N.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(E,{})}));
