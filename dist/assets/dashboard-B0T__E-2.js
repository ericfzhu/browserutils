import{c as Q,r as b,b as Jo,j as u,R as M,d as Xo,e as En,a as Zo}from"./index-CeV1IGz-.js";import{C as st,S as ye}from"./shield-X52aVnj6.js";import{h as Qo}from"./storage-r3Qf5Pjw.js";import{P as Er,X as Cr}from"./x-CFxlAkgO.js";import{L as Ir}from"./lock-arEDm1MG.js";import{B as es}from"./bar-chart-3-DRc0Egib.js";import{S as ts}from"./settings-DnSFglDB.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Q("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Q("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fe.apply(this,arguments)}var ie;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ie||(ie={}));const jr="popstate";function cs(e){e===void 0&&(e={});function t(o,s){let{pathname:i="/",search:a="",hash:l=""}=he(o.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Ht("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(o,s){let i=o.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=o.location.href,d=l.indexOf("#");a=d===-1?l:l.slice(0,d)}return a+"#"+(typeof s=="string"?s:it(s))}function n(o,s){bt(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return us(t,r,n,e)}function F(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ds(){return Math.random().toString(36).substr(2,8)}function Tr(e,t){return{usr:e.state,key:e.key,idx:t}}function Ht(e,t,r,n){return r===void 0&&(r=null),Fe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?he(t):t,{state:r,key:t&&t.key||n||ds()})}function it(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function he(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function us(e,t,r,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:s=!1}=n,i=o.history,a=ie.Pop,l=null,d=f();d==null&&(d=0,i.replaceState(Fe({},i.state,{idx:d}),""));function f(){return(i.state||{idx:null}).idx}function c(){a=ie.Pop;let h=f(),w=h==null?null:h-d;d=h,l&&l({action:a,location:y.location,delta:w})}function p(h,w){a=ie.Push;let x=Ht(y.location,h,w);r&&r(x,h),d=f()+1;let D=Tr(x,d),N=y.createHref(x);try{i.pushState(D,"",N)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(N)}s&&l&&l({action:a,location:y.location,delta:1})}function g(h,w){a=ie.Replace;let x=Ht(y.location,h,w);r&&r(x,h),d=f();let D=Tr(x,d),N=y.createHref(x);i.replaceState(D,"",N),s&&l&&l({action:a,location:y.location,delta:0})}function m(h){let w=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof h=="string"?h:it(h);return x=x.replace(/ $/,"%20"),F(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let y={get action(){return a},get location(){return e(o,i)},listen(h){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(jr,c),l=h,()=>{o.removeEventListener(jr,c),l=null}},createHref(h){return t(o,h)},createURL:m,encodeLocation(h){let w=m(h);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(h){return i.go(h)}};return y}var Or;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Or||(Or={}));function ps(e,t,r){return r===void 0&&(r="/"),fs(e,t,r)}function fs(e,t,r,n){let o=typeof t=="string"?he(t):t,s=ve(o.pathname||"/",r);if(s==null)return null;let i=In(e);gs(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let d=Es(s);a=Ds(i[l],d)}return a}function In(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(F(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let d=ae([n,l.relativePath]),f=r.concat(l);s.children&&s.children.length>0&&(F(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),In(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:ws(d,s.index),routesMeta:f})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of Pn(s.path))o(s,i,l)}),t}function Pn(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,o=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return o?[s,""]:[s];let i=Pn(n.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function gs(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ss(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ms=/^:[\w-]+$/,hs=3,bs=2,xs=1,ys=10,vs=-2,Br=e=>e==="*";function ws(e,t){let r=e.split("/"),n=r.length;return r.some(Br)&&(n+=vs),t&&(n+=bs),r.filter(o=>!Br(o)).reduce((o,s)=>o+(ms.test(s)?hs:s===""?xs:ys),n)}function Ss(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function Ds(e,t,r){let{routesMeta:n}=e,o={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],d=a===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",c=zt({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},f),p=l.route;if(!c)return null;Object.assign(o,c.params),i.push({params:o,pathname:ae([s,c.pathname]),pathnameBase:As(ae([s,c.pathnameBase])),route:p}),c.pathnameBase!=="/"&&(s=ae([s,c.pathnameBase]))}return i}function zt(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ns(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:n.reduce((d,f,c)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let y=a[c]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[c];return g&&!m?d[p]=void 0:d[p]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:i,pattern:e}}function Ns(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function Es(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bt(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ve(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Cs=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Is=e=>Cs.test(e);function Ps(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?he(e):e,s;if(r)if(Is(r))s=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),bt(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?s=Lr(r.substring(1),"/"):s=Lr(r,t)}else s=t;return{pathname:s,search:js(n),hash:Ts(o)}}function Lr(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function At(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rs(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Rn(e,t){let r=Rs(e);return t?r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function An(e,t,r,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=he(e):(o=Fe({},e),F(!o.pathname||!o.pathname.includes("?"),At("?","pathname","search",o)),F(!o.pathname||!o.pathname.includes("#"),At("#","pathname","hash",o)),F(!o.search||!o.search.includes("#"),At("#","search","hash",o)));let s=e===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=r;else{let c=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),c-=1;o.pathname=p.join("/")}a=c>=0?t[c]:"/"}let l=Ps(o,a),d=i&&i!=="/"&&i.endsWith("/"),f=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(d||f)&&(l.pathname+="/"),l}const ae=e=>e.join("/").replace(/\/\/+/g,"/"),As=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),js=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ts=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Os(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jn=["post","put","patch","delete"];new Set(jn);const Bs=["get",...jn];new Set(Bs);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}const xt=b.createContext(null),Tn=b.createContext(null),ue=b.createContext(null),yt=b.createContext(null),be=b.createContext({outlet:null,matches:[],isDataRoute:!1}),On=b.createContext(null);function Ls(e,t){let{relative:r}=t===void 0?{}:t;qe()||F(!1);let{basename:n,navigator:o}=b.useContext(ue),{hash:s,pathname:i,search:a}=vt(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:ae([n,i])),o.createHref({pathname:l,search:a,hash:s})}function qe(){return b.useContext(yt)!=null}function Ye(){return qe()||F(!1),b.useContext(yt).location}function Bn(e){b.useContext(ue).static||b.useLayoutEffect(e)}function ks(){let{isDataRoute:e}=b.useContext(be);return e?Ks():Ms()}function Ms(){qe()||F(!1);let e=b.useContext(xt),{basename:t,future:r,navigator:n}=b.useContext(ue),{matches:o}=b.useContext(be),{pathname:s}=Ye(),i=JSON.stringify(Rn(o,r.v7_relativeSplatPath)),a=b.useRef(!1);return Bn(()=>{a.current=!0}),b.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let c=An(d,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ae([t,c.pathname])),(f.replace?n.replace:n.push)(c,f.state,f)},[t,n,i,s,e])}function vt(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(ue),{matches:o}=b.useContext(be),{pathname:s}=Ye(),i=JSON.stringify(Rn(o,n.v7_relativeSplatPath));return b.useMemo(()=>An(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function Fs(e,t){return _s(e,t)}function _s(e,t,r,n){qe()||F(!1);let{navigator:o}=b.useContext(ue),{matches:s}=b.useContext(be),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let d=Ye(),f;if(t){var c;let h=typeof t=="string"?he(t):t;l==="/"||(c=h.pathname)!=null&&c.startsWith(l)||F(!1),f=h}else f=d;let p=f.pathname||"/",g=p;if(l!=="/"){let h=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(h.length).join("/")}let m=ps(e,{pathname:g}),y=Vs(m&&m.map(h=>Object.assign({},h,{params:Object.assign({},a,h.params),pathname:ae([l,o.encodeLocation?o.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?l:ae([l,o.encodeLocation?o.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),s,r,n);return t&&y?b.createElement(yt.Provider,{value:{location:_e({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ie.Pop}},y):y}function $s(){let e=Ys(),t=Os(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:o},r):null,null)}const Gs=b.createElement($s,null);class Us extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(be.Provider,{value:this.props.routeContext},b.createElement(On.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ws(e){let{routeContext:t,match:r,children:n}=e,o=b.useContext(xt);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(be.Provider,{value:t},n)}function Vs(e,t,r,n){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(o=r)==null?void 0:o.errors;if(a!=null){let f=i.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);f>=0||F(!1),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let c=i[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(d=f),c.route.id){let{loaderData:p,errors:g}=r,m=c.route.loader&&p[c.route.id]===void 0&&(!g||g[c.route.id]===void 0);if(c.route.lazy||m){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,c,p)=>{let g,m=!1,y=null,h=null;r&&(g=a&&c.route.id?a[c.route.id]:void 0,y=c.route.errorElement||Gs,l&&(d<0&&p===0?(Js("route-fallback"),m=!0,h=null):d===p&&(m=!0,h=c.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),x=()=>{let D;return g?D=y:m?D=h:c.route.Component?D=b.createElement(c.route.Component,null):c.route.element?D=c.route.element:D=f,b.createElement(Ws,{match:c,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:D})};return r&&(c.route.ErrorBoundary||c.route.errorElement||p===0)?b.createElement(Us,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var Ln=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ln||{}),kn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kn||{});function Hs(e){let t=b.useContext(xt);return t||F(!1),t}function zs(e){let t=b.useContext(Tn);return t||F(!1),t}function qs(e){let t=b.useContext(be);return t||F(!1),t}function Mn(e){let t=qs(),r=t.matches[t.matches.length-1];return r.route.id||F(!1),r.route.id}function Ys(){var e;let t=b.useContext(On),r=zs(),n=Mn();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ks(){let{router:e}=Hs(Ln.UseNavigateStable),t=Mn(kn.UseNavigateStable),r=b.useRef(!1);return Bn(()=>{r.current=!0}),b.useCallback(function(o,s){s===void 0&&(s={}),r.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,_e({fromRouteId:t},s)))},[e,t])}const kr={};function Js(e,t,r){kr[e]||(kr[e]=!0)}function Xs(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Le(e){F(!1)}function Zs(e){let{basename:t="/",children:r=null,location:n,navigationType:o=ie.Pop,navigator:s,static:i=!1,future:a}=e;qe()&&F(!1);let l=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:l,navigator:s,static:i,future:_e({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof n=="string"&&(n=he(n));let{pathname:f="/",search:c="",hash:p="",state:g=null,key:m="default"}=n,y=b.useMemo(()=>{let h=ve(f,l);return h==null?null:{location:{pathname:h,search:c,hash:p,state:g,key:m},navigationType:o}},[l,f,c,p,g,m,o]);return y==null?null:b.createElement(ue.Provider,{value:d},b.createElement(yt.Provider,{children:r,value:y}))}function Qs(e){let{children:t,location:r}=e;return Fs(qt(t),r)}new Promise(()=>{});function qt(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,o)=>{if(!b.isValidElement(n))return;let s=[...t,o];if(n.type===b.Fragment){r.push.apply(r,qt(n.props.children,s));return}n.type!==Le&&F(!1),!n.props.index||!n.props.children||F(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=qt(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(this,arguments)}function Fn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function ei(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ti(e,t){return e.button===0&&(!t||t==="_self")&&!ei(e)}const ri=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ni=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],oi="6";try{window.__reactRouterVersion=oi}catch{}const si=b.createContext({isTransitioning:!1}),ii="startTransition",Mr=Jo[ii];function ai(e){let{basename:t,children:r,future:n,window:o}=e,s=b.useRef();s.current==null&&(s.current=cs({window:o,v5Compat:!0}));let i=s.current,[a,l]=b.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},f=b.useCallback(c=>{d&&Mr?Mr(()=>l(c)):l(c)},[l,d]);return b.useLayoutEffect(()=>i.listen(f),[i,f]),b.useEffect(()=>Xs(n),[n]),b.createElement(Zs,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const li=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ci=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=b.forwardRef(function(t,r){let{onClick:n,relative:o,reloadDocument:s,replace:i,state:a,target:l,to:d,preventScrollReset:f,viewTransition:c}=t,p=Fn(t,ri),{basename:g}=b.useContext(ue),m,y=!1;if(typeof d=="string"&&ci.test(d)&&(m=d,li))try{let D=new URL(window.location.href),N=d.startsWith("//")?new URL(D.protocol+d):new URL(d),I=ve(N.pathname,g);N.origin===D.origin&&I!=null?d=I+N.search+N.hash:y=!0}catch{}let h=Ls(d,{relative:o}),w=fi(d,{replace:i,state:a,target:l,preventScrollReset:f,relative:o,viewTransition:c});function x(D){n&&n(D),D.defaultPrevented||w(D)}return b.createElement("a",at({},p,{href:m||h,onClick:y||s?n:x,ref:r,target:l}))}),ui=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:o=!1,className:s="",end:i=!1,style:a,to:l,viewTransition:d,children:f}=t,c=Fn(t,ni),p=vt(l,{relative:c.relative}),g=Ye(),m=b.useContext(Tn),{navigator:y,basename:h}=b.useContext(ue),w=m!=null&&gi(p)&&d===!0,x=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,D=g.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;o||(D=D.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&h&&(N=ve(N,h)||N);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let R=D===x||!i&&D.startsWith(x)&&D.charAt(I)==="/",E=N!=null&&(N===x||!i&&N.startsWith(x)&&N.charAt(x.length)==="/"),C={isActive:R,isPending:E,isTransitioning:w},k=R?n:void 0,j;typeof s=="function"?j=s(C):j=[s,R?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(C):a;return b.createElement(di,at({},c,{"aria-current":k,className:j,ref:r,style:T,to:l,viewTransition:d}),typeof f=="function"?f(C):f)});var Yt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yt||(Yt={}));var Fr;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fr||(Fr={}));function pi(e){let t=b.useContext(xt);return t||F(!1),t}function fi(e,t){let{target:r,replace:n,state:o,preventScrollReset:s,relative:i,viewTransition:a}=t===void 0?{}:t,l=ks(),d=Ye(),f=vt(e,{relative:i});return b.useCallback(c=>{if(ti(c,r)){c.preventDefault();let p=n!==void 0?n:it(d)===it(f);l(e,{replace:p,state:o,preventScrollReset:s,relative:i,viewTransition:a})}},[d,l,f,n,o,r,e,s,i,a])}function gi(e,t){t===void 0&&(t={});let r=b.useContext(si);r==null&&F(!1);let{basename:n}=pi(Yt.useViewTransitionState),o=vt(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=ve(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=ve(r.nextLocation.pathname,n)||r.nextLocation.pathname;return zt(o.pathname,i)!=null||zt(o.pathname,s)!=null}function _r(e){const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`}function mi(){const[e,t]=b.useState(null),[r,n]=b.useState([]),[o,s]=b.useState(!0);b.useEffect(()=>{i()},[]);async function i(){try{const l=new Date,d=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`,[f,c]=await Promise.all([chrome.runtime.sendMessage({type:"GET_STATS",payload:{date:d}}),chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"})]);t(f),n(c)}catch(l){console.error("Failed to load data:",l)}finally{s(!1)}}if(o)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const a=e?Object.entries(e.sites).sort((l,d)=>d[1]-l[1]).slice(0,5):[];return u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Overview"}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx(st,{className:"w-5 h-5 text-blue-600"})}),u.jsx("span",{className:"text-sm text-gray-500",children:"Time Today"})]}),u.jsx("p",{className:"text-2xl font-bold",children:_r((e==null?void 0:e.totalTime)||0)})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:u.jsx(is,{className:"w-5 h-5 text-green-600"})}),u.jsx("span",{className:"text-sm text-gray-500",children:"Sites Visited"})]}),u.jsx("p",{className:"text-2xl font-bold",children:Object.keys((e==null?void 0:e.sites)||{}).length})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:u.jsx(ye,{className:"w-5 h-5 text-red-600"})}),u.jsx("span",{className:"text-sm text-gray-500",children:"Blocks Today"})]}),u.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.blockedAttempts)||0})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:u.jsx(Cn,{className:"w-5 h-5 text-purple-600"})}),u.jsx("span",{className:"text-sm text-gray-500",children:"Active Blocks"})]}),u.jsx("p",{className:"text-2xl font-bold",children:r.filter(l=>l.enabled).length})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Top Sites Today"}),a.length>0?u.jsx("div",{className:"space-y-3",children:a.map(([l,d],f)=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-sm text-gray-400 w-4",children:f+1}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm font-medium truncate",children:l}),u.jsx("span",{className:"text-sm text-gray-500",children:_r(d)})]}),u.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${Math.min(100,d/((e==null?void 0:e.totalTime)||1)*100)}%`}})})]})]},l))}):u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No activity recorded yet"})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Blocked Sites"}),r.length>0?u.jsxs("div",{className:"space-y-2",children:[r.slice(0,5).map(l=>u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[u.jsx("span",{className:"text-sm font-medium",children:l.pattern}),u.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l.enabled?"bg-red-100 text-red-700":"bg-gray-200 text-gray-600"}`,children:l.enabled?"Blocking":"Disabled"})]},l.id)),r.length>5&&u.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2",children:["+",r.length-5," more"]})]}):u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No blocked sites configured"})]})]})]})}function q(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hi=typeof Symbol=="function"&&Symbol.observable||"@@observable",$r=hi,Gr=()=>Math.random().toString(36).substring(7).split("").join("."),bi={INIT:`@@redux/INIT${Gr()}`,REPLACE:`@@redux/REPLACE${Gr()}`},Ur=bi;function xi(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _n(e,t,r){if(typeof e!="function")throw new Error(q(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(q(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(q(1));return r(_n)(e,t)}let n=e,o=t,s=new Map,i=s,a=0,l=!1;function d(){i===s&&(i=new Map,s.forEach((h,w)=>{i.set(w,h)}))}function f(){if(l)throw new Error(q(3));return o}function c(h){if(typeof h!="function")throw new Error(q(4));if(l)throw new Error(q(5));let w=!0;d();const x=a++;return i.set(x,h),function(){if(w){if(l)throw new Error(q(6));w=!1,d(),i.delete(x),s=null}}}function p(h){if(!xi(h))throw new Error(q(7));if(typeof h.type>"u")throw new Error(q(8));if(typeof h.type!="string")throw new Error(q(17));if(l)throw new Error(q(9));try{l=!0,o=n(o,h)}finally{l=!1}return(s=i).forEach(x=>{x()}),h}function g(h){if(typeof h!="function")throw new Error(q(10));n=h,p({type:Ur.REPLACE})}function m(){const h=c;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(q(11));function x(){const N=w;N.next&&N.next(f())}return x(),{unsubscribe:h(x)}},[$r](){return this}}}return p({type:Ur.INIT}),{dispatch:p,subscribe:c,getState:f,replaceReducer:g,[$r]:m}}function Wr(e,t){return function(...r){return t(e.apply(this,r))}}function Vr(e,t){if(typeof e=="function")return Wr(e,t);if(typeof e!="object"||e===null)throw new Error(q(16));const r={};for(const n in e){const o=e[n];typeof o=="function"&&(r[n]=Wr(o,t))}return r}function $n(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function yi(...e){return t=>(r,n)=>{const o=t(r,n);let s=()=>{throw new Error(q(15))};const i={getState:o.getState,dispatch:(l,...d)=>s(l,...d)},a=e.map(l=>l(i));return s=$n(...a)(o.dispatch),{...o,dispatch:s}}}var vi={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke=b;function wi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Si=typeof Object.is=="function"?Object.is:wi,Di=Ke.useSyncExternalStore,Ni=Ke.useRef,Ei=Ke.useEffect,Ci=Ke.useMemo,Ii=Ke.useDebugValue;vi.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var s=Ni(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Ci(function(){function l(g){if(!d){if(d=!0,f=g,g=n(g),o!==void 0&&i.hasValue){var m=i.value;if(o(m,g))return c=m}return c=g}if(m=c,Si(f,g))return m;var y=n(g);return o!==void 0&&o(m,y)?(f=g,m):(f=g,c=y)}var d=!1,f,c,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,o]);var a=Di(e,s[0],s[1]);return Ei(function(){i.hasValue=!0,i.value=a},[a]),Ii(a),a};var Pi=b.version.startsWith("19"),Ri=Symbol.for(Pi?"react.transitional.element":"react.element"),Ai=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Ti=Symbol.for("react.strict_mode"),Oi=Symbol.for("react.profiler"),Bi=Symbol.for("react.consumer"),Li=Symbol.for("react.context"),Gn=Symbol.for("react.forward_ref"),ki=Symbol.for("react.suspense"),Mi=Symbol.for("react.suspense_list"),nr=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),_i=Gn,$i=nr;function Gi(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case Ri:switch(e=e.type,e){case ji:case Oi:case Ti:case ki:case Mi:return e;default:switch(e=e&&e.$$typeof,e){case Li:case Gn:case Fi:case nr:return e;case Bi:return e;default:return t}}case Ai:return t}}}function Ui(e){return Gi(e)===nr}function Wi(e,t,r,n,{areStatesEqual:o,areOwnPropsEqual:s,areStatePropsEqual:i}){let a=!1,l,d,f,c,p;function g(x,D){return l=x,d=D,f=e(l,d),c=t(n,d),p=r(f,c,d),a=!0,p}function m(){return f=e(l,d),t.dependsOnOwnProps&&(c=t(n,d)),p=r(f,c,d),p}function y(){return e.dependsOnOwnProps&&(f=e(l,d)),t.dependsOnOwnProps&&(c=t(n,d)),p=r(f,c,d),p}function h(){const x=e(l,d),D=!i(x,f);return f=x,D&&(p=r(f,c,d)),p}function w(x,D){const N=!s(D,d),I=!o(x,l,D,d);return l=x,d=D,N&&I?m():N?y():I?h():p}return function(D,N){return a?w(D,N):g(D,N)}}function Vi(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...o}){const s=t(e,o),i=r(e,o),a=n(e,o);return Wi(s,i,a,e,o)}function Hi(e,t){const r={};for(const n in e){const o=e[n];typeof o=="function"&&(r[n]=(...s)=>t(o(...s)))}return r}function Kt(e){return function(r){const n=e(r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function Hr(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Un(e,t){return function(n,{displayName:o}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=Hr(e);let d=s(a,l);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=Hr(d),d=s(a,l)),d},s}}function or(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function zi(e){return e&&typeof e=="object"?Kt(t=>Hi(e,t)):e?typeof e=="function"?Un(e):or(e,"mapDispatchToProps"):Kt(t=>({dispatch:t}))}function qi(e){return e?typeof e=="function"?Un(e):or(e,"mapStateToProps"):Kt(()=>({}))}function Yi(e,t,r){return{...r,...e,...t}}function Ki(e){return function(r,{displayName:n,areMergedPropsEqual:o}){let s=!1,i;return function(l,d,f){const c=e(l,d,f);return s?o(c,i)||(i=c):(s=!0,i=c),i}}}function Ji(e){return e?typeof e=="function"?Ki(e):or(e,"mergeProps"):()=>Yi}function Xi(e){e()}function Zi(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Xi(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var zr={notify(){},get:()=>[]};function Wn(e,t){let r,n=zr,o=0,s=!1;function i(y){f();const h=n.subscribe(y);let w=!1;return()=>{w||(w=!0,h(),c())}}function a(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function d(){return s}function f(){o++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=Zi())}function c(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=zr)}function p(){s||(s=!0,f())}function g(){s&&(s=!1,c())}const m={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:d,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return m}var Qi=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ea=Qi(),ta=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ra=ta(),na=()=>ea||ra?b.useLayoutEffect:b.useEffect,lt=na();function qr(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function jt(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!qr(e[r[o]],t[r[o]]))return!1;return!0}var oa={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sa={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ia={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aa={[_i]:ia,[$i]:Vn};function Yr(e){return Ui(e)?Vn:aa[e.$$typeof]||oa}var la=Object.defineProperty,ca=Object.getOwnPropertyNames,Kr=Object.getOwnPropertySymbols,da=Object.getOwnPropertyDescriptor,ua=Object.getPrototypeOf,Jr=Object.prototype;function Jt(e,t){if(typeof t!="string"){if(Jr){const s=ua(t);s&&s!==Jr&&Jt(e,s)}let r=ca(t);Kr&&(r=r.concat(Kr(t)));const n=Yr(e),o=Yr(t);for(let s=0;s<r.length;++s){const i=r[s];if(!sa[i]&&!(o&&o[i])&&!(n&&n[i])){const a=da(t,i);try{la(e,i,a)}catch{}}}}return e}var Tt=Symbol.for("react-redux-context"),Ot=typeof globalThis<"u"?globalThis:{};function pa(){if(!b.createContext)return{};const e=Ot[Tt]??(Ot[Tt]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Hn=pa(),fa=[null,null];function ga(e,t,r){lt(()=>e(...t),r)}function ma(e,t,r,n,o,s){e.current=n,r.current=!1,o.current&&(o.current=null,s())}function ha(e,t,r,n,o,s,i,a,l,d,f){if(!e)return()=>{};let c=!1,p=null;const g=()=>{if(c||!a.current)return;const y=t.getState();let h,w;try{h=n(y,o.current)}catch(x){w=x,p=x}w||(p=null),h===s.current?i.current||d():(s.current=h,l.current=h,i.current=!0,f())};return r.onStateChange=g,r.trySubscribe(),g(),()=>{if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}function ba(e,t){return e===t}function xa(e,t,r,{pure:n,areStatesEqual:o=ba,areOwnPropsEqual:s=jt,areStatePropsEqual:i=jt,areMergedPropsEqual:a=jt,forwardRef:l=!1,context:d=Hn}={}){const f=d,c=qi(e),p=zi(t),g=Ji(r),m=!!e;return h=>{const w=h.displayName||h.name||"Component",x=`Connect(${w})`,D={shouldHandleStateChanges:m,displayName:x,wrappedComponentName:w,WrappedComponent:h,initMapStateToProps:c,initMapDispatchToProps:p,initMergeProps:g,areStatesEqual:o,areStatePropsEqual:i,areOwnPropsEqual:s,areMergedPropsEqual:a};function N(E){const[C,k,j]=b.useMemo(()=>{const{reactReduxForwardedRef:ee,...Ae}=E;return[E.context,ee,Ae]},[E]),T=b.useMemo(()=>{let ee=f;return C!=null&&C.Consumer,ee},[C,f]),G=b.useContext(T),Y=!!E.store&&!!E.store.getState&&!!E.store.dispatch,Ie=!!G&&!!G.store,U=Y?E.store:G.store,Ze=Ie?G.getServerState:U.getState,Pe=b.useMemo(()=>Vi(U.dispatch,D),[U]),[pe,Re]=b.useMemo(()=>{if(!m)return fa;const ee=Wn(U,Y?void 0:G.subscription),Ae=ee.notifyNestedSubs.bind(ee);return[ee,Ae]},[U,Y,G]),v=b.useMemo(()=>Y?G:{...G,subscription:pe},[Y,G,pe]),A=b.useRef(void 0),B=b.useRef(j),V=b.useRef(void 0),oe=b.useRef(!1),K=b.useRef(!1),H=b.useRef(void 0);lt(()=>(K.current=!0,()=>{K.current=!1}),[]);const Qe=b.useMemo(()=>()=>V.current&&j===B.current?V.current:Pe(U.getState(),j),[U,j]),Pt=b.useMemo(()=>Ae=>pe?ha(m,U,pe,Pe,B,A,oe,K,V,Re,Ae):()=>{},[pe]);ga(ma,[B,A,oe,j,V,Re]);let et;try{et=b.useSyncExternalStore(Pt,Qe,Ze?()=>Pe(Ze(),j):Qe)}catch(ee){throw H.current&&(ee.message+=`
The error may be correlated with this previous error:
${H.current.stack}

`),ee}lt(()=>{H.current=void 0,V.current=void 0,A.current=et});const Rt=b.useMemo(()=>b.createElement(h,{...et,ref:k}),[k,h,et]);return b.useMemo(()=>m?b.createElement(T.Provider,{value:v},Rt):Rt,[T,Rt,v])}const R=b.memo(N);if(R.WrappedComponent=h,R.displayName=N.displayName=x,l){const C=b.forwardRef(function(j,T){return b.createElement(R,{...j,reactReduxForwardedRef:T})});return C.displayName=x,C.WrappedComponent=h,Jt(C,h)}return Jt(R,h)}}var zn=xa;function ya(e){const{children:t,context:r,serverState:n,store:o}=e,s=b.useMemo(()=>{const l=Wn(o);return{store:o,subscription:l,getServerState:n?()=>n:void 0}},[o,n]),i=b.useMemo(()=>o.getState(),[o]);lt(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==o.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,i]);const a=r||Hn;return b.createElement(a.Provider,{value:s},t)}var va=ya,wa="Invariant failed";function Sa(e,t){throw new Error(wa)}var se=function(t){var r=t.top,n=t.right,o=t.bottom,s=t.left,i=n-s,a=o-r,l={top:r,right:n,bottom:o,left:s,width:i,height:a,x:s,y:r,center:{x:(n+s)/2,y:(o+r)/2}};return l},sr=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Xr=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Da=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Bt={top:0,right:0,bottom:0,left:0},ir=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?Bt:n,s=t.border,i=s===void 0?Bt:s,a=t.padding,l=a===void 0?Bt:a,d=se(sr(r,o)),f=se(Xr(r,i)),c=se(Xr(f,l));return{marginBox:d,borderBox:se(r),paddingBox:f,contentBox:c,margin:o,border:i,padding:l}},te=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&Sa(),o},Na=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ct=function(t,r){var n=t.borderBox,o=t.border,s=t.margin,i=t.padding,a=Da(n,r);return ir({borderBox:a,border:o,margin:s,padding:i})},dt=function(t,r){return r===void 0&&(r=Na()),ct(t,r)},qn=function(t,r){var n={top:te(r.marginTop),right:te(r.marginRight),bottom:te(r.marginBottom),left:te(r.marginLeft)},o={top:te(r.paddingTop),right:te(r.paddingRight),bottom:te(r.paddingBottom),left:te(r.paddingLeft)},s={top:te(r.borderTopWidth),right:te(r.borderRightWidth),bottom:te(r.borderBottomWidth),left:te(r.borderLeftWidth)};return ir({borderBox:t,margin:n,padding:o,border:s})},Yn=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return qn(r,n)},$e=function(t){var r=[],n=null,o=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];r=a,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ut.apply(null,arguments)}function Kn(e,t){}Kn.bind(null,"warn");Kn.bind(null,"error");function le(){}function Ea(e,t){return{...e,...t}}function re(e,t,r){const n=t.map(o=>{const s=Ea(r,o.options);return e.addEventListener(o.eventName,o.fn,s),function(){e.removeEventListener(o.eventName,o.fn,s)}});return function(){n.forEach(s=>{s()})}}const Ca="Invariant failed";class pt extends Error{}pt.prototype.toString=function(){return this.message};function S(e,t){throw new pt(Ca)}class Ia extends M.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=le,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof pt&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=re(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof pt){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Pa=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ft=e=>e+1,Ra=e=>`
  You have lifted an item in position ${ft(e.source.index)}
`,Jn=(e,t)=>{const r=e.droppableId===t.droppableId,n=ft(e.index),o=ft(t.index);return r?`
      You have moved the item from position ${n}
      to position ${o}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},Xn=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Aa=e=>{const t=e.destination;if(t)return Jn(e.source,t);const r=e.combine;return r?Xn(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Zr=e=>`
  The item has returned to its starting position
  of ${ft(e.index)}
`,ja=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Zr(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${Jn(e.source,t)}
    `:r?`
      You have dropped the item.
      ${Xn(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${Zr(e.source)}
  `},ot={dragHandleUsageInstructions:Pa,onDragStart:Ra,onDragUpdate:Aa,onDragEnd:ja};function Ta(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Zn(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Ta(e[r],t[r]))return!1;return!0}function O(e,t){const r=b.useState(()=>({inputs:t,result:e()}))[0],n=b.useRef(!0),o=b.useRef(r),i=n.current||!!(t&&o.current.inputs&&Zn(t,o.current.inputs))?o.current:{inputs:t,result:e()};return b.useEffect(()=>{n.current=!1,o.current=i},[i]),i.result}function P(e,t){return O(()=>e,t)}const $={x:0,y:0},W=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),J=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ce=(e,t)=>e.x===t.x&&e.y===t.y,Ne=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),me=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},Ge=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Qr=(e,t)=>Math.min(...t.map(r=>Ge(e,r))),Qn=e=>t=>({x:e(t.x),y:e(t.y)});var Oa=(e,t)=>{const r=se({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Je=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),en=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Ba={top:0,right:0,bottom:0,left:0},La=(e,t)=>t?Je(e,t.scroll.diff.displacement):e,ka=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,Ma=(e,t)=>t&&t.shouldClipSubject?Oa(t.pageMarginBox,e):se(e);var we=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const o=La(e.marginBox,n),s=ka(o,r,t),i=Ma(s,n);return{page:e,withPlaceholder:t,active:i}},ar=(e,t)=>{e.frame||S();const r=e.frame,n=J(t,r.scroll.initial),o=Ne(n),s={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}},i=we({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:i}};function _(e,t=Zn){let r=null;function n(...o){if(r&&r.lastThis===this&&t(o,r.lastArgs))return r.lastResult;const s=e.apply(this,o);return r={lastResult:s,lastArgs:o,lastThis:this},s}return n.clear=function(){r=null},n}const eo=_(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),to=_(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),wt=_(e=>Object.values(e)),Fa=_(e=>Object.values(e));var Ee=_((e,t)=>Fa(t).filter(n=>e===n.descriptor.droppableId).sort((n,o)=>n.descriptor.index-o.descriptor.index));function lr(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function St(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Dt=_((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),_a=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:o})=>{if(!r.isCombineEnabled||!lr(o))return null;function i(g){const m={type:"COMBINE",combine:{draggableId:g,droppableId:r.descriptor.id}};return{...o,at:m}}const a=o.displaced.all,l=a.length?a[0]:null;if(e)return l?i(l):null;const d=Dt(t,n);if(!l){if(!d.length)return null;const g=d[d.length-1];return i(g.descriptor.id)}const f=d.findIndex(g=>g.descriptor.id===l);f===-1&&S();const c=f-1;if(c<0)return null;const p=d[c];return i(p.descriptor.id)},Ce=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ro={point:$,value:0},Ue={invisible:{},visible:{},all:[]},$a={displaced:Ue,displacedBy:ro,at:null};var ne=(e,t)=>r=>e<=r&&r<=t,no=e=>{const t=ne(e.top,e.bottom),r=ne(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const s=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(s&&i)return!0;const l=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right;return l&&d?!0:l&&i||d&&s}},Ga=e=>{const t=ne(e.top,e.bottom),r=ne(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const cr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},oo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ua=e=>t=>{const r=ne(t.top,t.bottom),n=ne(t.left,t.right);return o=>e===cr?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)};const Wa=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:$;return Je(e,r)},Va=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Ha=(e,t,r)=>r(t)(e),dr=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:o})=>{const s=n?Wa(e,t):e;return Va(s,t,o)&&Ha(s,r,o)},za=e=>dr({...e,isVisibleThroughFrameFn:no}),so=e=>dr({...e,isVisibleThroughFrameFn:Ga}),qa=e=>dr({...e,isVisibleThroughFrameFn:Ua(e.destination.axis)}),Ya=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:o}=t;if(n[e])return!1;const s=o[e];return s?s.shouldAnimate:!0};function Ka(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return se(sr(r,n))}function We({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:o,last:s}){return e.reduce(function(a,l){const d=Ka(l,r),f=l.descriptor.id;if(a.all.push(f),!za({target:d,destination:t,viewport:n,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const p=Ya(f,s,o),g={draggableId:f,shouldAnimate:p};return a.visible[f]=g,a},{all:[],visible:{},invisible:{}})}function Ja(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function tn({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const o=Ja(e,{inHomeList:t});return{displaced:Ue,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function gt({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:o,last:s,index:i,forceShouldAnimate:a}){const l=Ce(e,r);if(i==null)return tn({insideDestination:t,inHomeList:l,displacedBy:o,destination:r});const d=t.find(m=>m.descriptor.index===i);if(!d)return tn({insideDestination:t,inHomeList:l,displacedBy:o,destination:r});const f=Dt(e,t),c=t.indexOf(d),p=f.slice(c);return{displaced:We({afterDragging:p,destination:r,displacedBy:o,last:s,viewport:n.frame,forceShouldAnimate:a}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function de(e,t){return!!t.effected[e]}var Xa=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const s=n.draggableId,a=r[s].descriptor.index;return de(s,o)?e?a:a-1:e?a+1:a},Za=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const o=n.index,s=e?o+1:o-1,i=r[0].descriptor.index,a=r[r.length-1].descriptor.index,l=t?a:a+1;return s<i||s>l?null:s},Qa=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:o,insideDestination:s,previousImpact:i,viewport:a,afterCritical:l})=>{const d=i.at;if(d||S(),d.type==="REORDER"){const c=Za({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:s});return c==null?null:gt({draggable:r,insideDestination:s,destination:o,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:c})}const f=Xa({isMovingForward:e,destination:o,displaced:i.displaced,draggables:n,combine:d.combine,afterCritical:l});return f==null?null:gt({draggable:r,insideDestination:s,destination:o,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:f})},el=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const o=!!(e.visible[r]||e.invisible[r]);return de(r,t)?o?$:Ne(n.point):o?n.point:$},tl=({afterCritical:e,impact:t,draggables:r})=>{const n=St(t);n||S();const o=n.draggableId,s=r[o].page.borderBox.center,i=el({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return W(s,i)};const io=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,rl=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,ur=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,rn=({axis:e,moveRelativeTo:t,isMoving:r})=>me(e.line,t.marginBox[e.end]+io(e,r),ur(e,t.marginBox,r)),nn=({axis:e,moveRelativeTo:t,isMoving:r})=>me(e.line,t.marginBox[e.start]-rl(e,r),ur(e,t.marginBox,r)),nl=({axis:e,moveInto:t,isMoving:r})=>me(e.line,t.contentBox[e.start]+io(e,r),ur(e,t.contentBox,r));var ol=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o})=>{const s=Ee(n.descriptor.id,r),i=t.page,a=n.axis;if(!s.length)return nl({axis:a,moveInto:n.page,isMoving:i});const{displaced:l,displacedBy:d}=e,f=l.all[0];if(f){const p=r[f];if(de(f,o))return nn({axis:a,moveRelativeTo:p.page,isMoving:i});const g=ct(p.page,d.point);return nn({axis:a,moveRelativeTo:g,isMoving:i})}const c=s[s.length-1];if(c.descriptor.id===t.descriptor.id)return i.borderBox.center;if(de(c.descriptor.id,o)){const p=ct(c.page,Ne(o.displacedBy.point));return rn({axis:a,moveRelativeTo:p,isMoving:i})}return rn({axis:a,moveRelativeTo:c.page,isMoving:i})},Xt=(e,t)=>{const r=e.frame;return r?W(t,r.scroll.diff.displacement):t};const sl=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:o})=>{const s=t.page.borderBox.center,i=e.at;return!r||!i?s:i.type==="REORDER"?ol({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o}):tl({impact:e,draggables:n,afterCritical:o})};var Nt=e=>{const t=sl(e),r=e.droppable;return r?Xt(r,t):t},ao=(e,t)=>{const r=J(t,e.scroll.initial),n=Ne(r);return{frame:se({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function on(e,t){return e.map(r=>t[r])}function il(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var al=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:o})=>{const s=ao(t,W(t.scroll.current,o)),i=r.frame?ar(r,W(r.frame.scroll.current,o)):r,a=e.displaced,l=We({afterDragging:on(a.all,n),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),d=We({afterDragging:on(a.all,n),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),f={},c={},p=[a,l,d];return a.all.forEach(m=>{const y=il(m,p);if(y){c[m]=y;return}f[m]=!0}),{...e,displaced:{all:a.all,invisible:f,visible:c}}},ll=(e,t)=>W(e.scroll.diff.displacement,t),pr=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=ll(r,e),o=J(n,t.page.borderBox.center);return W(t.client.borderBox.center,o)},lo=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:o,onlyOnMainAxis:s=!1})=>{const i=J(r,e.page.borderBox.center),l={target:Je(e.page.borderBox,i),destination:t,withDroppableDisplacement:o,viewport:n};return s?qa(l):so(l)},cl=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:o,viewport:s,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:l})=>{if(!r.isEnabled)return null;const d=Ee(r.descriptor.id,n),f=Ce(t,r),c=_a({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:o})||Qa({isMovingForward:e,isInHomeList:f,draggable:t,draggables:n,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:l});if(!c)return null;const p=Nt({impact:c,draggable:t,droppable:r,draggables:n,afterCritical:l});if(lo({draggable:t,destination:r,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:pr({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:c,scrollJumpRequest:null};const m=J(p,i),y=al({impact:c,viewport:s,destination:r,draggables:n,maxScrollChange:m});return{clientSelection:a,impact:y,scrollJumpRequest:m}};const z=e=>{const t=e.subject.active;return t||S(),t};var dl=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:o})=>{const s=r.subject.active;if(!s)return null;const i=r.axis,a=ne(s[i.start],s[i.end]),l=wt(n).filter(f=>f!==r).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>no(o.frame)(z(f))).filter(f=>{const c=z(f);return e?s[i.crossAxisEnd]<c[i.crossAxisEnd]:c[i.crossAxisStart]<s[i.crossAxisStart]}).filter(f=>{const c=z(f),p=ne(c[i.start],c[i.end]);return a(c[i.start])||a(c[i.end])||p(s[i.start])||p(s[i.end])}).sort((f,c)=>{const p=z(f)[i.crossAxisStart],g=z(c)[i.crossAxisStart];return e?p-g:g-p}).filter((f,c,p)=>z(f)[i.crossAxisStart]===z(p[0])[i.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const d=l.filter(f=>ne(z(f)[i.start],z(f)[i.end])(t[i.line]));return d.length===1?d[0]:d.length>1?d.sort((f,c)=>z(f)[i.start]-z(c)[i.start])[0]:l.sort((f,c)=>{const p=Qr(t,en(z(f))),g=Qr(t,en(z(c)));return p!==g?p-g:z(f)[i.start]-z(c)[i.start]})[0]};const sn=(e,t)=>{const r=e.page.borderBox.center;return de(e.descriptor.id,t)?J(r,t.displacedBy.point):r},ul=(e,t)=>{const r=e.page.borderBox;return de(e.descriptor.id,t)?Je(r,Ne(t.displacedBy.point)):r};var pl=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:o})=>n.filter(i=>so({target:ul(i,o),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,a)=>{const l=Ge(e,Xt(r,sn(i,o))),d=Ge(e,Xt(r,sn(a,o)));return l<d?-1:d<l?1:i.descriptor.index-a.descriptor.index})[0]||null,Xe=_(function(t,r){const n=r[t.line];return{value:n,point:me(t.line,n)}});const fl=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return me(n.line,t[n.line]);const o=e.subject.page.contentBox[n.size],l=Ee(e.descriptor.id,r).reduce((d,f)=>d+f.client.marginBox[n.size],0)+t[n.line]-o;return l<=0?null:me(n.line,l)},co=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),uo=(e,t,r)=>{const n=e.frame;Ce(t,e)&&S(),e.subject.withPlaceholder&&S();const o=Xe(e.axis,t.displaceBy).point,s=fl(e,o,r),i={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const f=we({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:f}}const a=s?W(n.scroll.max,s):n.scroll.max,l=co(n,a),d=we({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:d,frame:l}},gl=e=>{const t=e.subject.withPlaceholder;t||S();const r=e.frame;if(!r){const i=we({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const n=t.oldFrameMaxScroll;n||S();const o=co(r,n),s=we({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:s,frame:o}};var ml=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:o,destination:s,viewport:i,afterCritical:a})=>{if(!t){if(r.length)return null;const c={displaced:Ue,displacedBy:ro,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=Nt({impact:c,draggable:n,droppable:s,draggables:o,afterCritical:a}),g=Ce(n,s)?s:uo(s,n,o);return lo({draggable:n,destination:g,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],d=(()=>{const c=t.descriptor.index;return t.descriptor.id===n.descriptor.id||l?c:c+1})(),f=Xe(s.axis,n.displaceBy);return gt({draggable:n,insideDestination:r,destination:s,viewport:i,displacedBy:f,last:Ue,index:d})},hl=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:o,droppables:s,viewport:i,afterCritical:a})=>{const l=dl({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:s,viewport:i});if(!l)return null;const d=Ee(l.descriptor.id,o),f=pl({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:d,afterCritical:a}),c=ml({previousPageBorderBoxCenter:t,destination:l,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:d,viewport:i,afterCritical:a});if(!c)return null;const p=Nt({impact:c,draggable:r,droppable:l,draggables:o,afterCritical:a});return{clientSelection:pr({pageBorderBoxCenter:p,draggable:r,viewport:i}),impact:c,scrollJumpRequest:null}},X=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const bl=(e,t)=>{const r=X(e);return r?t[r]:null};var xl=({state:e,type:t})=>{const r=bl(e.impact,e.dimensions.droppables),n=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,i=s.axis.direction,a=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!n)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:c,droppables:p}=e.dimensions;return a?cl({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:d,destination:s,draggables:c,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):hl({isMovingForward:l,previousPageBorderBoxCenter:f,draggable:d,isOver:s,draggables:c,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function ge(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function po(e){const t=ne(e.top,e.bottom),r=ne(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function yl(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function vl({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,o=r.map(s=>{const i=s.axis,a=me(s.axis.line,e.center[i.line],s.page.borderBox.center[i.crossAxisLine]);return{id:s.descriptor.id,distance:Ge(n,a)}}).sort((s,i)=>i.distance-s.distance);return o[0]?o[0].id:null}function wl({pageBorderBox:e,draggable:t,droppables:r}){const n=wt(r).filter(o=>{if(!o.isEnabled)return!1;const s=o.subject.active;if(!s||!yl(e,s))return!1;if(po(s)(e.center))return!0;const i=o.axis,a=s.center[i.crossAxisLine],l=e[i.crossAxisStart],d=e[i.crossAxisEnd],f=ne(s[i.crossAxisStart],s[i.crossAxisEnd]),c=f(l),p=f(d);return!c&&!p?!0:c?l<a:d>a});return n.length?n.length===1?n[0].descriptor.id:vl({pageBorderBox:e,draggable:t,candidates:n}):null}const fo=(e,t)=>se(Je(e,t));var Sl=(e,t)=>{const r=e.frame;return r?fo(t,r.scroll.diff.value):t};function go({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Dl({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Nl=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:o,viewport:s,afterCritical:i})=>{const a=r.axis,l=Xe(r.axis,t.displaceBy),d=l.value,f=e[a.start],c=e[a.end],g=Dt(t,n).find(y=>{const h=y.descriptor.id,w=y.page.borderBox.center[a.line],x=de(h,i),D=go({displaced:o,id:h});return x?D?c<=w:f<w-d:D?c<=w+d:f<w})||null,m=Dl({draggable:t,closest:g,inHomeList:Ce(t,r)});return gt({draggable:t,insideDestination:n,destination:r,viewport:s,last:o,displacedBy:l,index:m})};const El=4;var Cl=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:o,afterCritical:s})=>{if(!n.isCombineEnabled)return null;const i=n.axis,a=Xe(n.axis,e.displaceBy),l=a.value,d=t[i.start],f=t[i.end],p=Dt(e,o).find(m=>{const y=m.descriptor.id,h=m.page.borderBox,x=h[i.size]/El,D=de(y,s),N=go({displaced:r.displaced,id:y});return D?N?f>h[i.start]+x&&f<h[i.end]-x:d>h[i.start]-l+x&&d<h[i.end]-l-x:N?f>h[i.start]+l+x&&f<h[i.end]+l-x:d>h[i.start]+x&&d<h[i.end]-x});return p?{displacedBy:a,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:n.descriptor.id}}}:null},mo=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:o,viewport:s,afterCritical:i})=>{const a=fo(t.page.borderBox,e),l=wl({pageBorderBox:a,draggable:t,droppables:n});if(!l)return $a;const d=n[l],f=Ee(d.descriptor.id,r),c=Sl(d,a);return Cl({pageBorderBoxWithDroppableScroll:c,draggable:t,previousImpact:o,destination:d,insideDestination:f,afterCritical:i})||Nl({pageBorderBoxWithDroppableScroll:c,draggable:t,destination:d,insideDestination:f,last:o.displaced,viewport:s,afterCritical:i})},fr=(e,t)=>({...e,[t.descriptor.id]:t});const Il=({previousImpact:e,impact:t,droppables:r})=>{const n=X(e),o=X(t);if(!n||n===o)return r;const s=r[n];if(!s.subject.withPlaceholder)return r;const i=gl(s);return fr(r,i)};var Pl=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:o})=>{const s=Il({previousImpact:n,impact:o,droppables:r}),i=X(o);if(!i)return s;const a=r[i];if(Ce(e,a)||a.subject.withPlaceholder)return s;const l=uo(a,e,t);return fr(s,l)},ke=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:o,scrollJumpRequest:s})=>{const i=n||e.viewport,a=r||e.dimensions,l=t||e.current.client.selection,d=J(l,e.initial.client.selection),f={offset:d,selection:l,borderBoxCenter:W(e.initial.client.borderBoxCenter,d)},c={selection:W(f.selection,i.scroll.current),borderBoxCenter:W(f.borderBoxCenter,i.scroll.current),offset:W(f.offset,i.scroll.diff.value)},p={client:f,page:c};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:i,current:p};const g=a.draggables[e.critical.draggable.id],m=o||mo({pageOffset:c.offset,draggable:g,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),y=Pl({draggable:g,impact:m,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:y},impact:m,viewport:i,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Rl(e,t){return e.map(r=>t[r])}var ho=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:o})=>{const s=e.displaced,i=Rl(s.all,r),a=We({afterDragging:i,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:s});return{...e,displaced:a}},bo=({impact:e,draggable:t,droppable:r,draggables:n,viewport:o,afterCritical:s})=>{const i=Nt({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s});return pr({pageBorderBoxCenter:i,draggable:t,viewport:o})},xo=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&S();const n=e.impact,o=r||e.viewport,s=t||e.dimensions,{draggables:i,droppables:a}=s,l=i[e.critical.draggable.id],d=X(n);d||S();const f=a[d],c=ho({impact:n,viewport:o,destination:f,draggables:i}),p=bo({impact:c,draggable:l,droppable:f,draggables:i,viewport:o,afterCritical:e.afterCritical});return ke({impact:c,clientSelection:p,state:e,dimensions:s,viewport:o})},Al=e=>({index:e.index,droppableId:e.droppableId}),yo=({draggable:e,home:t,draggables:r,viewport:n})=>{const o=Xe(t.axis,e.displaceBy),s=Ee(t.descriptor.id,r),i=s.indexOf(e);i===-1&&S();const a=s.slice(i+1),l=a.reduce((p,g)=>(p[g.descriptor.id]=!0,p),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:l};return{impact:{displaced:We({afterDragging:a,destination:t,displacedBy:o,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:Al(e.descriptor)}},afterCritical:d}},jl=(e,t)=>({draggables:e.draggables,droppables:fr(e.droppables,t)}),Tl=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=ct(e.client,t),o=dt(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:o}},Ol=e=>{const t=e.frame;return t||S(),t},Bl=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(o=>{const s=o.descriptor.droppableId,i=t[s],l=Ol(i).scroll.diff.value,d=W(n,l);return Tl({draggable:o,offset:d,initialWindowScroll:r.scroll.initial})})},Ll=({state:e,published:t})=>{const r=t.modified.map(w=>{const x=e.dimensions.droppables[w.droppableId];return ar(x,w.scroll)}),n={...e.dimensions.droppables,...eo(r)},o=to(Bl({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),s={...e.dimensions.draggables,...o};t.removals.forEach(w=>{delete s[w]});const i={droppables:n,draggables:s},a=X(e.impact),l=a?i.droppables[a]:null,d=i.draggables[e.critical.draggable.id],f=i.droppables[e.critical.droppable.id],{impact:c,afterCritical:p}=yo({draggable:d,home:f,draggables:s,viewport:e.viewport}),g=l&&l.isCombineEnabled?e.impact:c,m=mo({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:g,viewport:e.viewport,afterCritical:p}),y={...e,phase:"DRAGGING",impact:m,onLiftImpact:c,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const Zt=e=>e.movementMode==="SNAP",Lt=(e,t,r)=>{const n=jl(e.dimensions,t);return!Zt(e)||r?ke({state:e,dimensions:n}):xo({state:e,dimensions:n})};function kt(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const an={phase:"IDLE",completed:null,shouldFlush:!1};var kl=(e=an,t)=>{if(t.type==="FLUSH")return{...an,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&S();const{critical:r,clientSelection:n,viewport:o,dimensions:s,movementMode:i}=t.payload,a=s.draggables[r.draggable.id],l=s.droppables[r.droppable.id],d={selection:n,borderBoxCenter:a.client.borderBox.center,offset:$},f={client:d,page:{selection:W(d.selection,o.scroll.initial),borderBoxCenter:W(d.selection,o.scroll.initial),offset:W(d.selection,o.scroll.diff.value)}},c=wt(s.droppables).every(y=>!y.isFixedOnPage),{impact:p,afterCritical:g}=yo({draggable:a,home:l,draggables:s.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:i,dimensions:s,initial:f,current:f,isWindowScrollAllowed:c,impact:p,afterCritical:g,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&S(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||S(),Ll({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ge(e)||S();const{client:r}=t.payload;return ce(r,e.current.client.selection)?e:ke({state:e,clientSelection:r,impact:Zt(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return kt(e);ge(e)||S();const{id:r,newScroll:n}=t.payload,o=e.dimensions.droppables[r];if(!o)return e;const s=ar(o,n);return Lt(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ge(e)||S();const{id:r,isEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||S(),o.isEnabled===n&&S();const s={...o,isEnabled:n};return Lt(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ge(e)||S();const{id:r,isCombineEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||S(),o.isCombineEnabled===n&&S();const s={...o,isCombineEnabled:n};return Lt(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ge(e)||S(),e.isWindowScrollAllowed||S();const r=t.payload.newScroll;if(ce(e.viewport.scroll.current,r))return kt(e);const n=ao(e.viewport,r);return Zt(e)?xo({state:e,viewport:n}):ke({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ge(e))return e;const r=t.payload.maxScroll;if(ce(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&S();const r=xl({state:e,type:t.type});return r?ke({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&S(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||S(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function L(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Ml=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Fl=e=>({type:"LIFT",payload:e}),_l=e=>({type:"INITIAL_PUBLISH",payload:e}),$l=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Gl=()=>({type:"COLLECTION_STARTING",payload:null}),Ul=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Wl=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Vl=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),vo=e=>({type:"MOVE",payload:e}),Hl=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),zl=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),ql=()=>({type:"MOVE_UP",payload:null}),Yl=()=>({type:"MOVE_DOWN",payload:null}),Kl=()=>({type:"MOVE_RIGHT",payload:null}),Jl=()=>({type:"MOVE_LEFT",payload:null}),gr=()=>({type:"FLUSH",payload:null}),Xl=e=>({type:"DROP_ANIMATE",payload:e}),mr=e=>({type:"DROP_COMPLETE",payload:e}),wo=e=>({type:"DROP",payload:e}),Zl=e=>({type:"DROP_PENDING",payload:e}),So=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Ql=e=>({getState:t,dispatch:r})=>n=>o=>{if(!L(o,"LIFT")){n(o);return}const{id:s,clientSelection:i,movementMode:a}=o.payload,l=t();l.phase==="DROP_ANIMATING"&&r(mr({completed:l.completed})),t().phase!=="IDLE"&&S(),r(gr()),r(Ml({draggableId:s,movementMode:a}));const f={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:c,dimensions:p,viewport:g}=e.startPublishing(f);r(_l({critical:c,dimensions:p,clientSelection:i,movementMode:a,viewport:g}))},ec=e=>()=>t=>r=>{L(r,"INITIAL_PUBLISH")&&e.dragging(),L(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(L(r,"FLUSH")||L(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const hr={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ve={opacity:{drop:0,combining:.7},scale:{drop:.75}},Do={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},fe=`${Do.outOfTheWay}s ${hr.outOfTheWay}`,Me={fluid:`opacity ${fe}`,snap:`transform ${fe}, opacity ${fe}`,drop:e=>{const t=`${e}s ${hr.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${fe}`,placeholder:`height ${fe}, width ${fe}, margin ${fe}`},ln=e=>ce(e,$)?void 0:`translate(${e.x}px, ${e.y}px)`,Qt={moveTo:ln,drop:(e,t)=>{const r=ln(e);if(r)return t?`${r} scale(${Ve.scale.drop})`:r}},{minDropTime:er,maxDropTime:No}=Do,tc=No-er,cn=1500,rc=.6;var nc=({current:e,destination:t,reason:r})=>{const n=Ge(e,t);if(n<=0)return er;if(n>=cn)return No;const o=n/cn,s=er+tc*o,i=r==="CANCEL"?s*rc:s;return Number(i.toFixed(2))},oc=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:o})=>{const{draggables:s,droppables:i}=r,a=X(e),l=a?i[a]:null,d=i[t.descriptor.droppableId],f=bo({impact:e,draggable:t,draggables:s,afterCritical:o,droppable:l||d,viewport:n});return J(f,t.client.borderBox.center)},sc=({draggables:e,reason:t,lastImpact:r,home:n,viewport:o,onLiftImpact:s})=>!r.at||t!=="DROP"?{impact:ho({draggables:e,impact:s,destination:n,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Ue},didDropInsideDroppable:!0};const ic=({getState:e,dispatch:t})=>r=>n=>{if(!L(n,"DROP")){r(n);return}const o=e(),s=n.payload.reason;if(o.phase==="COLLECTING"){t(Zl({reason:s}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&S(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||S();const a=o.critical,l=o.dimensions,d=l.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:c}=sc({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=c?lr(f):null,g=c?St(f):null,m={index:a.draggable.index,droppableId:a.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:m,reason:s,mode:o.movementMode,destination:p,combine:g},h=oc({impact:f,draggable:d,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),w={critical:o.critical,afterCritical:o.afterCritical,result:y,impact:f};if(!(!ce(o.current.client.offset,h)||!!y.combine)){t(mr({completed:w}));return}const D=nc({current:o.current.client.offset,destination:h,reason:s});t(Xl({newHomeClientOffset:h,dropDuration:D,completed:w}))};var Eo=()=>({x:window.pageXOffset,y:window.pageYOffset});function ac(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function lc({onWindowScroll:e}){function t(){e(Eo())}const r=$e(t),n=ac(r);let o=le;function s(){return o!==le}function i(){s()&&S(),o=re(window,[n])}function a(){s()||S(),r.cancel(),o(),o=le}return{start:i,stop:a,isActive:s}}const cc=e=>L(e,"DROP_COMPLETE")||L(e,"DROP_ANIMATE")||L(e,"FLUSH"),dc=e=>{const t=lc({onWindowScroll:r=>{e.dispatch(Hl({newScroll:r}))}});return r=>n=>{!t.isActive()&&L(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&cc(n)&&t.stop(),r(n)}};var uc=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),o=s=>{t||r||(t=!0,e(s),clearTimeout(n))};return o.wasCalled=()=>t,o},pc=()=>{const e=[],t=o=>{const s=e.findIndex(a=>a.timerId===o);s===-1&&S();const[i]=e.splice(s,1);i.callback()};return{add:o=>{const s=setTimeout(()=>t(s)),i={timerId:s,callback:o};e.push(i)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const fc=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,gc=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,mc=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},je=(e,t)=>{t()},tt=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Mt(e,t,r,n){if(!e){r(n(t));return}const o=uc(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}var hc=(e,t)=>{const r=pc();let n=null;const o=(c,p)=>{n&&S(),je("onBeforeCapture",()=>{const g=e().onBeforeCapture;g&&g({draggableId:c,mode:p})})},s=(c,p)=>{n&&S(),je("onBeforeDragStart",()=>{const g=e().onBeforeDragStart;g&&g(tt(c,p))})},i=(c,p)=>{n&&S();const g=tt(c,p);n={mode:p,lastCritical:c,lastLocation:g.source,lastCombine:null},r.add(()=>{je("onDragStart",()=>Mt(e().onDragStart,g,t,ot.onDragStart))})},a=(c,p)=>{const g=lr(p),m=St(p);n||S();const y=!mc(c,n.lastCritical);y&&(n.lastCritical=c);const h=!fc(n.lastLocation,g);h&&(n.lastLocation=g);const w=!gc(n.lastCombine,m);if(w&&(n.lastCombine=m),!y&&!h&&!w)return;const x={...tt(c,n.mode),combine:m,destination:g};r.add(()=>{je("onDragUpdate",()=>Mt(e().onDragUpdate,x,t,ot.onDragUpdate))})},l=()=>{n||S(),r.flush()},d=c=>{n||S(),n=null,je("onDragEnd",()=>Mt(e().onDragEnd,c,t,ot.onDragEnd))};return{beforeCapture:o,beforeStart:s,start:i,update:a,flush:l,drop:d,abort:()=>{if(!n)return;const c={...tt(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};d(c)}}},bc=(e,t)=>{const r=hc(e,t);return n=>o=>s=>{if(L(s,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(L(s,"INITIAL_PUBLISH")){const a=s.payload.critical;r.beforeStart(a,s.payload.movementMode),o(s),r.start(a,s.payload.movementMode);return}if(L(s,"DROP_COMPLETE")){const a=s.payload.completed.result;r.flush(),o(s),r.drop(a);return}if(o(s),L(s,"FLUSH")){r.abort();return}const i=n.getState();i.phase==="DRAGGING"&&r.update(i.critical,i.impact)}};const xc=e=>t=>r=>{if(!L(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&S(),e.dispatch(mr({completed:n.completed}))},yc=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return o=>s=>{if((L(s,"FLUSH")||L(s,"DROP_COMPLETE")||L(s,"DROP_ANIMATION_FINISHED"))&&n(),o(s),!L(s,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(So())}};r=requestAnimationFrame(()=>{r=null,t=re(window,[i])})}};var vc=e=>()=>t=>r=>{(L(r,"DROP_COMPLETE")||L(r,"FLUSH")||L(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},wc=e=>{let t=!1;return()=>r=>n=>{if(L(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(L(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(L(n,"DROP_COMPLETE")){t=!1;const o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Sc=e=>L(e,"DROP_COMPLETE")||L(e,"DROP_ANIMATE")||L(e,"FLUSH");var Dc=e=>t=>r=>n=>{if(Sc(n)){e.stop(),r(n);return}if(L(n,"INITIAL_PUBLISH")){r(n);const o=t.getState();o.phase!=="DRAGGING"&&S(),e.start(o);return}r(n),e.scroll(t.getState())};const Nc=e=>t=>r=>{if(t(r),!L(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(wo({reason:n.reason})))},Ec=$n;var Cc=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:o,autoScroller:s})=>_n(kl,Ec(yi(ec(r),vc(e),Ql(e),ic,xc,yc,Nc,Dc(s),dc,wc(t),bc(n,o))));const Ft=()=>({additions:{},removals:{},modified:{}});function Ic({registry:e,callbacks:t}){let r=Ft(),n=null;const o=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:d,modified:f}=r,c=Object.keys(l).map(m=>e.draggable.getById(m).getDimension($)).sort((m,y)=>m.descriptor.index-y.descriptor.index),p=Object.keys(f).map(m=>{const h=e.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:h}}),g={additions:c,removals:Object.keys(d),modified:p};r=Ft(),t.publish(g)}))};return{add:l=>{const d=l.descriptor.id;r.additions[d]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},remove:l=>{const d=l.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=Ft())}}}var Co=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const o=J({x:t,y:e},{x:n,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Io=()=>{const e=document.documentElement;return e||S(),e},Po=()=>{const e=Io();return Co({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Pc=()=>{const e=Eo(),t=Po(),r=e.y,n=e.x,o=Io(),s=o.clientWidth,i=o.clientHeight,a=n+s,l=r+i;return{frame:se({top:r,left:n,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:$,displacement:$}}}},Rc=({critical:e,scrollOptions:t,registry:r})=>{const n=Pc(),o=n.scroll.current,s=e.droppable,i=r.droppable.getAllByType(s.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,t)),a=r.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:to(a),droppables:eo(i)},critical:e,viewport:n}};function dn(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var Ac=(e,t)=>{let r=null;const n=Ic({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(p,g)=>{e.droppable.exists(p)||S(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:g})},s=(p,g)=>{r&&(e.droppable.exists(p)||S(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:g}))},i=(p,g)=>{r&&(e.droppable.exists(p)||S(),t.updateDroppableScroll({id:p,newScroll:g}))},a=(p,g)=>{r&&e.droppable.getById(p).callbacks.scroll(g)},l=()=>{if(!r)return;n.stop();const p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(g=>g.callbacks.dragStopped()),r.unsubscribe(),r=null},d=p=>{r||S();const g=r.critical.draggable;p.type==="ADDITION"&&dn(e,g,p.value)&&n.add(p.value),p.type==="REMOVAL"&&dn(e,g,p.value)&&n.remove(p.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:i,startPublishing:p=>{r&&S();const g=e.draggable.getById(p.draggableId),m=e.droppable.getById(g.descriptor.droppableId),y={draggable:g.descriptor,droppable:m.descriptor},h=e.subscribe(d);return r={critical:y,unsubscribe:h},Rc({critical:y,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:l}},Ro=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",jc=e=>{window.scrollBy(e.x,e.y)};const Tc=_(e=>wt(e).filter(t=>!(!t.isEnabled||!t.frame))),Oc=(e,t)=>Tc(t).find(n=>(n.frame||S(),po(n.frame.pageMarginBox)(e)))||null;var Bc=({center:e,destination:t,droppables:r})=>{if(t){const o=r[t];return o.frame?o:null}return Oc(e,r)};const He={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Lc=(e,t,r=()=>He)=>{const n=r(),o=e[t.size]*n.startFromPercentage,s=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:s}},Ao=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},br=1,kc=(e,t,r=()=>He)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return br;const s=1-Ao({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=n.maxPixelScroll*n.ease(s);return Math.ceil(i)},Mc=(e,t,r)=>{const n=r(),o=n.durationDampening.accelerateAt,s=n.durationDampening.stopDampeningAt,i=t,a=s,d=Date.now()-i;if(d>=s)return e;if(d<o)return br;const f=Ao({startOfRange:o,endOfRange:a,current:d}),c=e*n.ease(f);return Math.ceil(c)},un=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const s=kc(e,t,o);return s===0?0:n?Math.max(Mc(s,r,o),br):s},pn=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=Lc(e,n,s);return t[n.end]<t[n.start]?un({distanceToEdge:t[n.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s}):-1*un({distanceToEdge:t[n.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})},Fc=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,o=t.width>e.width;return!o&&!n?r:o&&n?null:{x:o?0:r.x,y:n?0:r.y}};const _c=Qn(e=>e===0?0:e);var jo=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},a=pn({container:t,distanceToEdges:i,dragStartTime:e,axis:cr,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),l=pn({container:t,distanceToEdges:i,dragStartTime:e,axis:oo,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),d=_c({x:l,y:a});if(ce(d,$))return null;const f=Fc({container:t,subject:r,proposedScroll:d});return f?ce(f,$)?null:f:null};const $c=Qn(e=>e===0?0:e>0?1:-1),xr=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const o=W(t,n),s={x:e(o.x,r.x),y:e(o.y,r.y)};return ce(s,$)?null:s}})(),To=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=$c(r),s=xr({max:n,current:t,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},yr=(e,t)=>To({current:e.scroll.current,max:e.scroll.max,change:t}),Gc=(e,t)=>{if(!yr(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return xr({current:n,max:r,change:t})},vr=(e,t)=>{const r=e.frame;return r?To({current:r.scroll.current,max:r.scroll.max,change:t}):!1},Uc=(e,t)=>{const r=e.frame;return!r||!vr(e,t)?null:xr({current:r.scroll.current,max:r.scroll.max,change:t})};var Wc=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=jo({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return i&&yr(e,i)?i:null},Vc=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=e.frame;if(!i)return null;const a=jo({dragStartTime:n,container:i.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return a&&vr(e,a)?a:null},fn=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:o,getAutoScrollerOptions:s})=>{const i=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const c=e.viewport,p=Wc({dragStartTime:t,viewport:c,subject:l,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s});if(p){n(p);return}}const d=Bc({center:i,destination:X(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=Vc({dragStartTime:t,droppable:d,subject:l,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:s});f&&o(d.descriptor.id,f)},Hc=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>He})=>{const n=$e(e),o=$e(t);let s=null;const i=d=>{s||S();const{shouldUseTimeDampening:f,dragStartTime:c}=s;fn({state:d,scrollWindow:n,scrollDroppable:o,dragStartTime:c,shouldUseTimeDampening:f,getAutoScrollerOptions:r})};return{start:d=>{s&&S();const f=Date.now();let c=!1;const p=()=>{c=!0};fn({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:r}),s={dragStartTime:f,shouldUseTimeDampening:c},c&&i(d)},stop:()=>{s&&(n.cancel(),o.cancel(),s=null)},scroll:i}},zc=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(a,l)=>{const d=W(a.current.client.selection,l);e({client:d})},o=(a,l)=>{if(!vr(a,l))return l;const d=Uc(a,l);if(!d)return t(a.descriptor.id,l),null;const f=J(l,d);return t(a.descriptor.id,f),J(l,f)},s=(a,l,d)=>{if(!a||!yr(l,d))return d;const f=Gc(l,d);if(!f)return r(d),null;const c=J(d,f);return r(c),J(d,c)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const d=X(a.impact);d||S();const f=o(a.dimensions.droppables[d],l);if(!f)return;const c=a.viewport,p=s(a.isWindowScrollAllowed,c,f);p&&n(a,p)}},qc=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const o=Hc({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),s=zc({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){o.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:o.start,stop:o.stop}};const Se="data-rfd",De=(()=>{const e=`${Se}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),tr=(()=>{const e=`${Se}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Yc=(()=>{const e=`${Se}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),gn={contextId:`${Se}-scroll-container-context-id`},Kc=e=>t=>`[${t}="${e}"]`,Te=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),Jc="pointer-events: none;";var Xc=e=>{const t=Kc(e),r=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(De.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Jc,dropAnimating:a}}})(),n=(()=>{const a=`
      transition: ${Me.outOfTheWay};
    `;return{selector:t(tr.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),o={selector:t(Yc.contextId),styles:{always:"overflow-anchor: none;"}},i=[n,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Te(i,"always"),resting:Te(i,"resting"),dragging:Te(i,"dragging"),dropAnimating:Te(i,"dropAnimating"),userCancel:Te(i,"userCancel")}};const Z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,_t=()=>{const e=document.querySelector("head");return e||S(),e},mn=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Zc(e,t){const r=O(()=>Xc(e),[e]),n=b.useRef(null),o=b.useRef(null),s=P(_(c=>{const p=o.current;p||S(),p.textContent=c}),[]),i=P(c=>{const p=n.current;p||S(),p.textContent=c},[]);Z(()=>{!n.current&&!o.current||S();const c=mn(t),p=mn(t);return n.current=c,o.current=p,c.setAttribute(`${Se}-always`,e),p.setAttribute(`${Se}-dynamic`,e),_t().appendChild(c),_t().appendChild(p),i(r.always),s(r.resting),()=>{const g=m=>{const y=m.current;y||S(),_t().removeChild(y),m.current=null};g(n),g(o)}},[t,i,s,r.always,r.resting,e]);const a=P(()=>s(r.dragging),[s,r.dragging]),l=P(c=>{if(c==="DROP"){s(r.dropAnimating);return}s(r.userCancel)},[s,r.dropAnimating,r.userCancel]),d=P(()=>{o.current&&s(r.resting)},[s,r.resting]);return O(()=>({dragging:a,dropping:l,resting:d}),[a,l,d])}function Oo(e,t){return Array.from(e.querySelectorAll(t))}var Bo=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Et(e){return e instanceof Bo(e).HTMLElement}function Qc(e,t){const r=`[${De.contextId}="${e}"]`,n=Oo(document,r);if(!n.length)return null;const o=n.find(s=>s.getAttribute(De.draggableId)===t);return!o||!Et(o)?null:o}function ed(e){const t=b.useRef({}),r=b.useRef(null),n=b.useRef(null),o=b.useRef(!1),s=P(function(p,g){const m={id:p,focus:g};return t.current[p]=m,function(){const h=t.current;h[p]!==m&&delete h[p]}},[]),i=P(function(p){const g=Qc(e,p);g&&g!==document.activeElement&&g.focus()},[e]),a=P(function(p,g){r.current===p&&(r.current=g)},[]),l=P(function(){n.current||o.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const p=r.current;p&&i(p)}))},[i]),d=P(function(p){r.current=null;const g=document.activeElement;g&&g.getAttribute(De.draggableId)===p&&(r.current=p)},[]);return Z(()=>(o.current=!0,function(){o.current=!1;const p=n.current;p&&cancelAnimationFrame(p)}),[]),O(()=>({register:s,tryRecordFocus:d,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,d,l,a])}function td(){const e={draggables:{},droppables:{}},t=[];function r(c){return t.push(c),function(){const g=t.indexOf(c);g!==-1&&t.splice(g,1)}}function n(c){t.length&&t.forEach(p=>p(c))}function o(c){return e.draggables[c]||null}function s(c){const p=o(c);return p||S(),p}const i={register:c=>{e.draggables[c.descriptor.id]=c,n({type:"ADDITION",value:c})},update:(c,p)=>{const g=e.draggables[p.descriptor.id];g&&g.uniqueId===c.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[c.descriptor.id]=c)},unregister:c=>{const p=c.descriptor.id,g=o(p);g&&c.uniqueId===g.uniqueId&&(delete e.draggables[p],e.droppables[c.descriptor.droppableId]&&n({type:"REMOVAL",value:c}))},getById:s,findById:o,exists:c=>!!o(c),getAllByType:c=>Object.values(e.draggables).filter(p=>p.descriptor.type===c)};function a(c){return e.droppables[c]||null}function l(c){const p=a(c);return p||S(),p}const d={register:c=>{e.droppables[c.descriptor.id]=c},unregister:c=>{const p=a(c.descriptor.id);p&&c.uniqueId===p.uniqueId&&delete e.droppables[c.descriptor.id]},getById:l,findById:a,exists:c=>!!a(c),getAllByType:c=>Object.values(e.droppables).filter(p=>p.descriptor.type===c)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:d,subscribe:r,clean:f}}function rd(){const e=O(td,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var wr=M.createContext(null),mt=()=>{const e=document.body;return e||S(),e};const nd={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},od=e=>`rfd-announcement-${e}`;function sd(e){const t=O(()=>od(e),[e]),r=b.useRef(null);return b.useEffect(function(){const s=document.createElement("div");return r.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),ut(s.style,nd),mt().appendChild(s),function(){setTimeout(function(){const l=mt();l.contains(s)&&l.removeChild(s),s===r.current&&(r.current=null)})}},[t]),P(o=>{const s=r.current;if(s){s.textContent=o;return}},[])}const id={separator:"::"};function Sr(e,t=id){const r=M.useId();return O(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function ad({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function ld({contextId:e,text:t}){const r=Sr("hidden-text",{separator:"-"}),n=O(()=>ad({contextId:e,uniqueId:r}),[r,e]);return b.useEffect(function(){const s=document.createElement("div");return s.id=n,s.textContent=t,s.style.display="none",mt().appendChild(s),function(){const a=mt();a.contains(s)&&a.removeChild(s)}},[n,t]),n}var Ct=M.createContext(null);function Lo(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),t}function cd(){let e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&S();const a={abandon:i};return e=a,a}function o(){e||S(),e=null}function s(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:s}}function ze(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const dd=9,ud=13,Dr=27,ko=32,pd=33,fd=34,gd=35,md=36,hd=37,bd=38,xd=39,yd=40,vd={[ud]:!0,[dd]:!0};var Mo=e=>{vd[e.keyCode]&&e.preventDefault()};const It=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),Fo=0,hn=5;function wd(e,t){return Math.abs(t.x-e.x)>=hn||Math.abs(t.y-e.y)>=hn}const bn={type:"IDLE"};function Sd({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:o=>{const{button:s,clientX:i,clientY:a}=o;if(s!==Fo)return;const l={x:i,y:a},d=r();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(l);return}d.type!=="PENDING"&&S();const f=d.point;if(!wd(f,l))return;o.preventDefault();const c=d.actions.fluidLift(l);n({type:"DRAGGING",actions:c})}},{eventName:"mouseup",fn:o=>{const s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===Dr){o.preventDefault(),e();return}Mo(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const s=r();if(s.type==="IDLE"&&S(),s.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:It,fn:e}]}function Dd(e){const t=b.useRef(bn),r=b.useRef(le),n=O(()=>({eventName:"mousedown",fn:function(c){if(c.defaultPrevented||c.button!==Fo||c.ctrlKey||c.metaKey||c.shiftKey||c.altKey)return;const p=e.findClosestDraggableId(c);if(!p)return;const g=e.tryGetLock(p,i,{sourceEvent:c});if(!g)return;c.preventDefault();const m={x:c.clientX,y:c.clientY};r.current(),d(g,m)}}),[e]),o=O(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const c=e.findClosestDraggableId(f);if(!c)return;const p=e.findOptionsForDraggable(c);p&&(p.shouldRespectForcePress||e.canGetLock(c)&&f.preventDefault())}}),[e]),s=P(function(){const c={passive:!1,capture:!0};r.current=re(window,[o,n],c)},[o,n]),i=P(()=>{t.current.type!=="IDLE"&&(t.current=bn,r.current(),s())},[s]),a=P(()=>{const f=t.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),l=P(function(){const c={capture:!0,passive:!1},p=Sd({cancel:a,completed:i,getPhase:()=>t.current,setPhase:g=>{t.current=g}});r.current=re(window,p,c)},[a,i]),d=P(function(c,p){t.current.type!=="IDLE"&&S(),t.current={type:"PENDING",point:p,actions:c},l()},[l]);Z(function(){return s(),function(){r.current()}},[s])}function Nd(){}const Ed={[fd]:!0,[pd]:!0,[md]:!0,[gd]:!0};function Cd(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===Dr){o.preventDefault(),r();return}if(o.keyCode===ko){o.preventDefault(),n();return}if(o.keyCode===yd){o.preventDefault(),e.moveDown();return}if(o.keyCode===bd){o.preventDefault(),e.moveUp();return}if(o.keyCode===xd){o.preventDefault(),e.moveRight();return}if(o.keyCode===hd){o.preventDefault(),e.moveLeft();return}if(Ed[o.keyCode]){o.preventDefault();return}Mo(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:It,fn:r}]}function Id(e){const t=b.useRef(Nd),r=O(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==ko)return;const i=e.findClosestDraggableId(s);if(!i)return;const a=e.tryGetLock(i,f,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const d=a.snapLift();t.current();function f(){l||S(),l=!1,t.current(),n()}t.current=re(window,Cd(d,f),{capture:!0,passive:!1})}}),[e]),n=P(function(){const s={passive:!1,capture:!0};t.current=re(window,[r],s)},[r]);Z(function(){return n(),function(){t.current()}},[n])}const $t={type:"IDLE"},Pd=120,Rd=.15;function Ad({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===Dr&&r.preventDefault(),e()}},{eventName:It,fn:e}]}function jd({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:s,clientY:i}=n.touches[0],a={x:s,y:i};n.preventDefault(),o.actions.move(a)}},{eventName:"touchend",fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}n.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const o=r();o.type==="IDLE"&&S();const s=n.touches[0];if(!s||!(s.force>=Rd))return;const a=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){a&&e();return}if(a){if(o.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:It,fn:e}]}function Td(e){const t=b.useRef($t),r=b.useRef(le),n=P(function(){return t.current},[]),o=P(function(g){t.current=g},[]),s=O(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const m=e.findClosestDraggableId(g);if(!m)return;const y=e.tryGetLock(m,a,{sourceEvent:g});if(!y)return;const h=g.touches[0],{clientX:w,clientY:x}=h,D={x:w,y:x};r.current(),c(y,D)}}),[e]),i=P(function(){const g={capture:!0,passive:!1};r.current=re(window,[s],g)},[s]),a=P(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o($t),r.current(),i())},[i,o]),l=P(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),d=P(function(){const g={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:n},y=re(window,jd(m),g),h=re(window,Ad(m),g);r.current=function(){y(),h()}},[l,n,a]),f=P(function(){const g=n();g.type!=="PENDING"&&S();const m=g.actions.fluidLift(g.point);o({type:"DRAGGING",actions:m,hasMoved:!1})},[n,o]),c=P(function(g,m){n().type!=="IDLE"&&S();const y=setTimeout(f,Pd);o({type:"PENDING",point:m,actions:g,longPressTimerId:y}),d()},[d,n,o,f]);Z(function(){return i(),function(){r.current();const m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),o($t))}},[n,i,o]),Z(function(){return re(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Od=["input","button","textarea","select","option","optgroup","video","audio"];function _o(e,t){if(t==null)return!1;if(Od.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:_o(e,t.parentElement)}function Bd(e,t){const r=t.target;return Et(r)?_o(e,r):!1}var Ld=e=>se(e.getBoundingClientRect()).center;function kd(e){return e instanceof Bo(e).Element}const Md=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function $o(e,t){return e==null?null:e[Md](t)?e:$o(e.parentElement,t)}function Fd(e,t){return e.closest?e.closest(t):$o(e,t)}function _d(e){return`[${De.contextId}="${e}"]`}function $d(e,t){const r=t.target;if(!kd(r))return null;const n=_d(e),o=Fd(r,n);return!o||!Et(o)?null:o}function Gd(e,t){const r=$d(e,t);return r?r.getAttribute(De.draggableId):null}function Ud(e,t){const r=`[${tr.contextId}="${e}"]`,o=Oo(document,r).find(s=>s.getAttribute(tr.id)===t);return!o||!Et(o)?null:o}function Wd(e){e.preventDefault()}function rt({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function Go({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const o=r.draggable.findById(n);return!(!o||!o.options.isEnabled||!Ro(t.getState(),n))}function Vd({lockAPI:e,contextId:t,store:r,registry:n,draggableId:o,forceSensorStop:s,sourceEvent:i}){if(!Go({lockAPI:e,store:r,registry:n,draggableId:o}))return null;const l=n.draggable.getById(o),d=Ud(t,l.descriptor.id);if(!d||i&&!l.options.canDragInteractiveElements&&Bd(d,i))return null;const f=e.claim(s||le);let c="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function g(){return e.isActive(f)}function m(I,R){rt({expected:I,phase:c,isLockActive:g,shouldWarn:!0})&&r.dispatch(R())}const y=m.bind(null,"DRAGGING");function h(I){function R(){e.release(),c="COMPLETED"}c!=="PRE_DRAG"&&(R(),S()),r.dispatch(Fl(I.liftActionArgs)),c="DRAGGING";function E(C,k={shouldBlockNextClick:!1}){if(I.cleanup(),k.shouldBlockNextClick){const j=re(window,[{eventName:"click",fn:Wd,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}R(),r.dispatch(wo({reason:C}))}return{isActive:()=>rt({expected:"DRAGGING",phase:c,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:p,drop:C=>E("DROP",C),cancel:C=>E("CANCEL",C),...I.actions}}function w(I){const R=$e(C=>{y(()=>vo({client:C}))});return{...h({liftActionArgs:{id:o,clientSelection:I,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function x(){const I={moveUp:()=>y(ql),moveRight:()=>y(Kl),moveDown:()=>y(Yl),moveLeft:()=>y(Jl)};return h({liftActionArgs:{id:o,clientSelection:Ld(d),movementMode:"SNAP"},cleanup:le,actions:I})}function D(){rt({expected:"PRE_DRAG",phase:c,isLockActive:g,shouldWarn:!0})&&e.release()}return{isActive:()=>rt({expected:"PRE_DRAG",phase:c,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:w,snapLift:x,abort:D}}const Hd=[Dd,Id,Td];function zd({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:o}){const s=[...o?Hd:[],...n||[]],i=b.useState(()=>cd())[0],a=P(function(h,w){ze(h)&&!ze(w)&&i.tryAbandon()},[i]);Z(function(){let h=t.getState();return t.subscribe(()=>{const x=t.getState();a(h,x),h=x})},[i,t,a]),Z(()=>i.tryAbandon,[i.tryAbandon]);const l=P(y=>Go({lockAPI:i,registry:r,store:t,draggableId:y}),[i,r,t]),d=P((y,h,w)=>Vd({lockAPI:i,registry:r,contextId:e,store:t,draggableId:y,forceSensorStop:h||null,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null}),[e,i,r,t]),f=P(y=>Gd(e,y),[e]),c=P(y=>{const h=r.draggable.findById(y);return h?h.options:null},[r.draggable]),p=P(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(gr()))},[i,t]),g=P(()=>i.isClaimed(),[i]),m=O(()=>({canGetLock:l,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:c,tryReleaseLock:p,isLockClaimed:g}),[l,d,f,c,p,g]);for(let y=0;y<s.length;y++)s[y](m)}const qd=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};En.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Yd=e=>({...He,...e.autoScrollerOptions,durationDampening:{...He.durationDampening,...e.autoScrollerOptions}});function Oe(e){return e.current||S(),e.current}function Kd(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:o,dragHandleUsageInstructions:s}=e,i=b.useRef(null),a=Lo(e),l=P(()=>qd(a.current),[a]),d=P(()=>Yd(a.current),[a]),f=sd(t),c=ld({contextId:t,text:s}),p=Zc(t,o),g=P(j=>{Oe(i).dispatch(j)},[]),m=O(()=>Vr({publishWhileDragging:$l,updateDroppableScroll:Ul,updateDroppableIsEnabled:Wl,updateDroppableIsCombineEnabled:Vl,collectionStarting:Gl},g),[g]),y=rd(),h=O(()=>Ac(y,m),[y,m]),w=O(()=>qc({scrollWindow:jc,scrollDroppable:h.scrollDroppable,getAutoScrollerOptions:d,...Vr({move:vo},g)}),[h.scrollDroppable,g,d]),x=ed(t),D=O(()=>Cc({announce:f,autoScroller:w,dimensionMarshal:h,focusMarshal:x,getResponders:l,styleMarshal:p}),[f,w,h,x,l,p]);i.current=D;const N=P(()=>{const j=Oe(i);j.getState().phase!=="IDLE"&&j.dispatch(gr())},[]),I=P(()=>{const j=Oe(i).getState();return j.phase==="DROP_ANIMATING"?!0:j.phase==="IDLE"?!1:j.isDragging},[]),R=O(()=>({isDragging:I,tryAbort:N}),[I,N]);r(R);const E=P(j=>Ro(Oe(i).getState(),j),[]),C=P(()=>ge(Oe(i).getState()),[]),k=O(()=>({marshal:h,focus:x,contextId:t,canLift:E,isMovementAllowed:C,dragHandleUsageInstructionsId:c,registry:y}),[t,h,c,x,E,C,y]);return zd({contextId:t,store:D,registry:y,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>N,[N]),M.createElement(Ct.Provider,{value:k},M.createElement(va,{context:wr,store:D},e.children))}function Jd(){return M.useId()}function Xd(e){const t=Jd(),r=e.dragHandleUsageInstructions||ot.dragHandleUsageInstructions;return M.createElement(Ia,null,n=>M.createElement(Kd,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const xn={dragging:5e3,dropAnimating:4500},Zd=(e,t)=>t?Me.drop(t.duration):e?Me.snap:Me.fluid,Qd=(e,t)=>{if(e)return t?Ve.opacity.drop:Ve.opacity.combining},eu=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function tu(e){const r=e.dimension.client,{offset:n,combineWith:o,dropping:s}=e,i=!!o,a=eu(e),l=!!s,d=l?Qt.drop(n,i):Qt.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Zd(a,s),transform:d,opacity:Qd(i,l),zIndex:l?xn.dropAnimating:xn.dragging,pointerEvents:"none"}}function ru(e){return{transform:Qt.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function nu(e){return e.type==="DRAGGING"?tu(e):ru(e)}function ou(e,t,r=$){const n=window.getComputedStyle(t),o=t.getBoundingClientRect(),s=qn(o,n),i=dt(s,r),a={client:s,tagName:t.tagName.toLowerCase(),display:n.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:i}}function su(e){const t=Sr("draggable"),{descriptor:r,registry:n,getDraggableRef:o,canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:a}=e,l=O(()=>({canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:a}),[s,a,i]),d=P(g=>{const m=o();return m||S(),ou(r,m,g)},[r,o]),f=O(()=>({uniqueId:t,descriptor:r,options:l,getDimension:d}),[r,d,l,t]),c=b.useRef(f),p=b.useRef(!0);Z(()=>(n.draggable.register(c.current),()=>n.draggable.unregister(c.current)),[n.draggable]),Z(()=>{if(p.current){p.current=!1;return}const g=c.current;c.current=f,n.draggable.update(f,g)},[f,n.draggable])}var Nr=M.createContext(null);function ht(e){const t=b.useContext(e);return t||S(),t}function iu(e){e.preventDefault()}const au=e=>{const t=b.useRef(null),r=P((R=null)=>{t.current=R},[]),n=P(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:s,registry:i}=ht(Ct),{type:a,droppableId:l}=ht(Nr),d=O(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:f,draggableId:c,isEnabled:p,shouldRespectForcePress:g,canDragInteractiveElements:m,isClone:y,mapped:h,dropAnimationFinished:w}=e;if(!y){const R=O(()=>({descriptor:d,registry:i,getDraggableRef:n,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:p}),[d,i,n,m,g,p]);su(R)}const x=O(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":c,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:iu}:null,[o,s,c,p]),D=P(R=>{h.type==="DRAGGING"&&h.dropping&&R.propertyName==="transform"&&En.flushSync(w)},[w,h]),N=O(()=>{const R=nu(h),E=h.type==="DRAGGING"&&h.dropping?D:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":c,style:R,onTransitionEnd:E},dragHandleProps:x}},[o,x,c,h,D,r]),I=O(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return M.createElement(M.Fragment,null,f(N,h.snapshot,I))};var Uo=(e,t)=>e===t,Wo=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const lu=e=>e.combine?e.combine.draggableId:null,cu=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function du(){const e=_((o,s)=>({x:o,y:s})),t=_((o,s,i=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:o,draggingOver:i,combineWith:a,combineTargetFor:null})),r=_((o,s,i,a,l=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:d,mode:s,offset:o,dimension:i,forceShouldAnimate:f,snapshot:t(s,a,l,d,null)}}));return(o,s)=>{if(ze(o)){if(o.critical.draggable.id!==s.draggableId)return null;const i=o.current.client.offset,a=o.dimensions.draggables[s.draggableId],l=X(o.impact),d=cu(o.impact),f=o.forceShouldAnimate;return r(e(i.x,i.y),o.movementMode,a,s.isClone,l,d,f)}if(o.phase==="DROP_ANIMATING"){const i=o.completed;if(i.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=o.dimensions.draggables[s.draggableId],d=i.result,f=d.mode,c=Wo(d),p=lu(d),m={duration:o.dropDuration,curve:hr.drop,moveTo:o.newHomeClientOffset,opacity:p?Ve.opacity.drop:null,scale:p?Ve.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:l,dropping:m,draggingOver:c,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,a,c,p,m)}}}return null}}function Vo(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const uu={mapped:{type:"SECONDARY",offset:$,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Vo(null)}};function pu(){const e=_((i,a)=>({x:i,y:a})),t=_(Vo),r=_((i,a=null,l)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),n=i=>i?r($,i,!0):null,o=(i,a,l,d)=>{const f=l.displaced.visible[i],c=!!(d.inVirtualList&&d.effected[i]),p=St(l),g=p&&p.draggableId===i?a:null;if(!f){if(!c)return n(g);if(l.displaced.invisible[i])return null;const h=Ne(d.displacedBy.point),w=e(h.x,h.y);return r(w,g,!0)}if(c)return n(g);const m=l.displacedBy.point,y=e(m.x,m.y);return r(y,g,f.shouldAnimate)};return(i,a)=>{if(ze(i))return i.critical.draggable.id===a.draggableId?null:o(a.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const l=i.completed;return l.result.draggableId===a.draggableId?null:o(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const fu=()=>{const e=du(),t=pu();return(n,o)=>e(n,o)||t(n,o)||uu},gu={dropAnimationFinished:So},mu=zn(fu,gu,null,{context:wr,areStatePropsEqual:Uo})(au);function Ho(e){return ht(Nr).isUsingCloneFor===e.draggableId&&!e.isClone?null:M.createElement(mu,e)}function hu(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return M.createElement(Ho,ut({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const zo=e=>t=>e===t,bu=zo("scroll"),xu=zo("auto"),yn=(e,t)=>t(e.overflowX)||t(e.overflowY),yu=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return yn(r,bu)||yn(r,xu)},vu=()=>!1,qo=e=>e==null?null:e===document.body?vu()?e:null:e===document.documentElement?null:yu(e)?e:qo(e.parentElement);var rr=e=>({x:e.scrollLeft,y:e.scrollTop});const Yo=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Yo(e.parentElement):!1;var wu=e=>{const t=qo(e),r=Yo(e);return{closestScrollable:t,isFixedOnPage:r}},Su=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:o,client:s,page:i,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:p,client:g}=a,m=Co({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:g,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:m,diff:{value:$,displacement:$}}}})(),d=o==="vertical"?cr:oo,f=we({page:i,withPlaceholder:null,axis:d,frame:l});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:d,isEnabled:t,client:s,page:i,frame:l,subject:f}};const Du=(e,t)=>{const r=Yn(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,s=n+t.scrollHeight,i=o+t.scrollWidth,l=sr({top:n,right:i,bottom:s,left:o},r.border);return ir({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var Nu=({ref:e,descriptor:t,env:r,windowScroll:n,direction:o,isDropDisabled:s,isCombineEnabled:i,shouldClipSubject:a})=>{const l=r.closestScrollable,d=Du(e,l),f=dt(d,n),c=(()=>{if(!l)return null;const g=Yn(l),m={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:g,page:dt(g,n),scroll:rr(l),scrollSize:m,shouldClipSubject:a}})();return Su({descriptor:t,isEnabled:!s,isCombineEnabled:i,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:f,closest:c})};const Eu={passive:!1},Cu={passive:!0};var vn=e=>e.shouldPublishImmediately?Eu:Cu;const nt=e=>e&&e.env.closestScrollable||null;function Iu(e){const t=b.useRef(null),r=ht(Ct),n=Sr("droppable"),{registry:o,marshal:s}=r,i=Lo(e),a=O(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=b.useRef(a),d=O(()=>_((N,I)=>{t.current||S();const R={x:N,y:I};s.updateDroppableScroll(a.id,R)}),[a.id,s]),f=P(()=>{const N=t.current;return!N||!N.env.closestScrollable?$:rr(N.env.closestScrollable)},[]),c=P(()=>{const N=f();d(N.x,N.y)},[f,d]),p=O(()=>$e(c),[c]),g=P(()=>{const N=t.current,I=nt(N);if(N&&I||S(),N.scrollOptions.shouldPublishImmediately){c();return}p()},[p,c]),m=P((N,I)=>{t.current&&S();const R=i.current,E=R.getDroppableRef();E||S();const C=wu(E),k={ref:E,descriptor:a,env:C,scrollOptions:I};t.current=k;const j=Nu({ref:E,descriptor:a,env:C,windowScroll:N,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),T=C.closestScrollable;return T&&(T.setAttribute(gn.contextId,r.contextId),T.addEventListener("scroll",g,vn(k.scrollOptions))),j},[r.contextId,a,g,i]),y=P(()=>{const N=t.current,I=nt(N);return N&&I||S(),rr(I)},[]),h=P(()=>{const N=t.current;N||S();const I=nt(N);t.current=null,I&&(p.cancel(),I.removeAttribute(gn.contextId),I.removeEventListener("scroll",g,vn(N.scrollOptions)))},[g,p]),w=P(N=>{const I=t.current;I||S();const R=nt(I);R||S(),R.scrollTop+=N.y,R.scrollLeft+=N.x},[]),x=O(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:h,scroll:w}),[h,m,y,w]),D=O(()=>({uniqueId:n,descriptor:a,callbacks:x}),[x,a,n]);Z(()=>(l.current=D.descriptor,o.droppable.register(D),()=>{t.current&&h(),o.droppable.unregister(D)}),[x,a,h,D,s,o.droppable]),Z(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Z(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function Gt(){}const wn={width:0,height:0,margin:Ba},Pu=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?wn:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Ru=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=Pu({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Me.placeholder:null}},Au=e=>{const t=b.useRef(null),r=P(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:o,onClose:s,contextId:i}=e,[a,l]=b.useState(e.animate==="open");b.useEffect(()=>a?n!=="open"?(r(),l(!1),Gt):t.current?Gt:(t.current=setTimeout(()=>{t.current=null,l(!1)}),r):Gt,[n,a,r]);const d=P(c=>{c.propertyName==="height"&&(o(),n==="close"&&s())},[n,s,o]),f=Ru({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return M.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})};var ju=M.memo(Au);class Tu extends M.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Ou=e=>{const t=b.useContext(Ct);t||S();const{contextId:r,isMovementAllowed:n}=t,o=b.useRef(null),s=b.useRef(null),{children:i,droppableId:a,type:l,mode:d,direction:f,ignoreContainerClipping:c,isDropDisabled:p,isCombineEnabled:g,snapshot:m,useClone:y,updateViewportMaxScroll:h,getContainerForClone:w}=e,x=P(()=>o.current,[]),D=P((T=null)=>{o.current=T},[]);P(()=>s.current,[]);const N=P((T=null)=>{s.current=T},[]),I=P(()=>{n()&&h({maxScroll:Po()})},[n,h]);Iu({droppableId:a,type:l,mode:d,direction:f,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:c,getDroppableRef:x});const R=O(()=>M.createElement(Tu,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:T,data:G,animate:Y})=>M.createElement(ju,{placeholder:G,onClose:T,innerRef:N,animate:Y,contextId:r,onTransitionEnd:I})),[r,I,e.placeholder,e.shouldAnimatePlaceholder,N]),E=O(()=>({innerRef:D,placeholder:R,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":r}}),[r,a,R,D]),C=y?y.dragging.draggableId:null,k=O(()=>({droppableId:a,type:l,isUsingCloneFor:C}),[a,C,l]);function j(){if(!y)return null;const{dragging:T,render:G}=y,Y=M.createElement(Ho,{draggableId:T.draggableId,index:T.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ie,U)=>G(Ie,U,T));return Xo.createPortal(Y,w())}return M.createElement(Nr.Provider,{value:k},i(E,m),j())};function Bu(){return document.body||S(),document.body}const Sn={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Bu},Ko=e=>{let t={...e},r;for(r in Sn)e[r]===void 0&&(t={...t,[r]:Sn[r]});return t},Ut=(e,t)=>e===t.droppable.type,Dn=(e,t)=>t.draggables[e.draggable.id],Lu=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=_(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),n=_((s,i,a,l,d,f)=>{const c=d.descriptor.id;if(d.descriptor.droppableId===s){const m=f?{render:f,dragging:r(d.descriptor)}:null,y={isDraggingOver:a,draggingOverWith:a?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!i)return t;if(!l)return e;const g={isDraggingOver:a,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(s,i)=>{const a=Ko(i),l=a.droppableId,d=a.type,f=!a.isDropDisabled,c=a.renderClone;if(ze(s)){const p=s.critical;if(!Ut(d,p))return t;const g=Dn(p,s.dimensions),m=X(s.impact)===l;return n(l,f,m,m,g,c)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!Ut(d,p.critical))return t;const g=Dn(p.critical,s.dimensions);return n(l,f,Wo(p.result)===l,X(p.impact)===l,g,c)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!Ut(d,p.critical))return t;const g=X(p.impact)===l,m=!!(p.impact.at&&p.impact.at.type==="COMBINE"),y=p.critical.droppable.id===l;return g?m?e:t:y?e:t}return t}},ku={updateViewportMaxScroll:zl},Mu=zn(Lu,ku,(e,t,r)=>({...Ko(r),...e,...t}),{context:wr,areStatePropsEqual:Uo})(Ou),Fu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Nn={pattern:"",unlockType:"none",password:"",timerDuration:30,scheduleDays:[1,2,3,4,5],scheduleStart:"09:00",scheduleEnd:"17:00",folderId:void 0};function _u(){const[e,t]=b.useState([]),[r,n]=b.useState([]),[o,s]=b.useState(!0),[i,a]=b.useState(!1),[l,d]=b.useState(!1),[f,c]=b.useState(null),[p,g]=b.useState(null),[m,y]=b.useState(Nn),[h,w]=b.useState("");b.useEffect(()=>{x()},[]);async function x(){try{const[v,A]=await Promise.all([chrome.runtime.sendMessage({type:"GET_BLOCKED_SITES"}),chrome.runtime.sendMessage({type:"GET_BLOCKED_SITE_FOLDERS"})]);t(v),n(A)}catch(v){console.error("Failed to load data:",v)}finally{s(!1)}}function D(){c(null),y(Nn),a(!0)}function N(v){var A,B,V;c(v),y({pattern:v.pattern,unlockType:v.unlockType,password:"",timerDuration:v.timerDuration||30,scheduleDays:((A=v.schedule)==null?void 0:A.days)||[1,2,3,4,5],scheduleStart:((B=v.schedule)==null?void 0:B.startTime)||"09:00",scheduleEnd:((V=v.schedule)==null?void 0:V.endTime)||"17:00",folderId:v.folderId}),a(!0)}function I(){g(null),w(""),d(!0)}function R(v){g(v),w(v.name),d(!0)}async function E(v){v.preventDefault();const A={pattern:m.pattern.toLowerCase().trim(),enabled:!0,unlockType:m.unlockType,folderId:m.folderId};m.unlockType==="password"&&m.password&&(A.passwordHash=await Qo(m.password)),m.unlockType==="timer"&&(A.timerDuration=m.timerDuration),m.unlockType==="schedule"&&(A.schedule={days:m.scheduleDays,startTime:m.scheduleStart,endTime:m.scheduleEnd});try{f?await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...f,...A}}):await chrome.runtime.sendMessage({type:"ADD_BLOCKED_SITE",payload:A}),await x(),a(!1)}catch(B){console.error("Failed to save site:",B)}}async function C(v){if(v.preventDefault(),!!h.trim())try{p?await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE_FOLDER",payload:{...p,name:h.trim()}}):await chrome.runtime.sendMessage({type:"ADD_BLOCKED_SITE_FOLDER",payload:{name:h.trim(),order:r.length}}),await x(),d(!1)}catch(A){console.error("Failed to save folder:",A)}}async function k(v){if(confirm("Delete this folder? Sites in this folder will be moved to Uncategorized."))try{await chrome.runtime.sendMessage({type:"REMOVE_BLOCKED_SITE_FOLDER",payload:{id:v}}),await x()}catch(A){console.error("Failed to delete folder:",A)}}async function j(v){const A={...v,collapsed:!v.collapsed};n(r.map(B=>B.id===v.id?A:B)),await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE_FOLDER",payload:A})}async function T(v,A){const B=e.filter(K=>K.folderId===v).map(K=>({...K,enabled:A})),oe=[...e.filter(K=>K.folderId!==v),...B];t(oe),await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITES",payload:oe})}async function G(v){try{await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:{...v,enabled:!v.enabled}}),await x()}catch(A){console.error("Failed to toggle site:",A)}}async function Y(v){if(confirm("Are you sure you want to remove this blocked site?"))try{await chrome.runtime.sendMessage({type:"REMOVE_BLOCKED_SITE",payload:{id:v}}),await x()}catch(A){console.error("Failed to delete site:",A)}}async function Ie(v){if(!v.destination)return;const{source:A,destination:B,draggableId:V}=v;if(A.droppableId!==B.droppableId){const oe=B.droppableId==="uncategorized"?void 0:B.droppableId,K=e.find(H=>H.id===V);if(K){const H={...K,folderId:oe};await chrome.runtime.sendMessage({type:"UPDATE_BLOCKED_SITE",payload:H}),await x()}}}const U=new Map;r.forEach(v=>U.set(v.id,[])),U.set(void 0,[]),e.forEach(v=>{const A=v.folderId,B=U.get(A)||[];B.push(v),U.set(A,B)});function Ze(v){switch(v){case"password":return u.jsx(Ir,{className:"w-4 h-4"});case"timer":return u.jsx(st,{className:"w-4 h-4"});case"schedule":return u.jsx(Wt,{className:"w-4 h-4"});default:return u.jsx(ye,{className:"w-4 h-4"})}}function Pe(v){switch(v.unlockType){case"password":return"Password protected";case"timer":return`${v.timerDuration}min timer`;case"schedule":return"Scheduled";default:return"Always blocked"}}if(o)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const pe=(v,A)=>u.jsx(hu,{draggableId:v.id,index:A,children:B=>u.jsxs("div",{ref:B.innerRef,...B.draggableProps,className:"flex items-center gap-3 px-4 py-3 bg-white border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[u.jsx("div",{...B.dragHandleProps,className:"text-gray-300 hover:text-gray-500 cursor-grab",children:u.jsx(as,{className:"w-4 h-4"})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("span",{className:"font-medium text-gray-900",children:v.pattern})}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[Ze(v.unlockType),u.jsx("span",{className:"hidden sm:inline",children:Pe(v)})]}),u.jsx("button",{onClick:()=>G(v),className:`text-xs px-2 py-1 rounded-full transition-colors ${v.enabled?"bg-red-100 text-red-700 hover:bg-red-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:v.enabled?"Blocking":"Disabled"}),u.jsx("button",{onClick:()=>N(v),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:u.jsx(Pr,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>Y(v.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:u.jsx(Vt,{className:"w-4 h-4"})})]})},v.id),Re=(v,A)=>{const B=v==null?void 0:v.id,V=v==null?void 0:v.collapsed,oe=A.length>0&&A.every(H=>H.enabled),K=A.some(H=>H.enabled);return u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-gray-50 border-b border-gray-200",children:[v&&u.jsx("button",{onClick:()=>j(v),className:"text-gray-500 hover:text-gray-700",children:V?u.jsx(os,{className:"w-5 h-5"}):u.jsx(ns,{className:"w-5 h-5"})}),u.jsxs("span",{className:"font-semibold text-gray-900 flex-1",children:[(v==null?void 0:v.name)||"Uncategorized"," (",A.length,")"]}),A.length>0&&u.jsx("button",{onClick:()=>T(B,!oe),className:`text-xs px-2 py-1 rounded transition-colors ${oe?"bg-red-100 text-red-700 hover:bg-red-200":K?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:oe?"Disable All":"Enable All"}),v&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>R(v),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:u.jsx(Pr,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>k(v.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:u.jsx(Vt,{className:"w-4 h-4"})})]})]}),(!v||!V)&&u.jsx(Mu,{droppableId:B||"uncategorized",children:H=>u.jsxs("div",{ref:H.innerRef,...H.droppableProps,className:"min-h-[48px]",children:[A.length>0?A.map((Qe,Pt)=>pe(Qe,Pt)):u.jsx("div",{className:"px-4 py-6 text-center text-gray-400 text-sm",children:"Drag sites here or add new ones"}),H.placeholder]})})]},B||"uncategorized")};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Blocked Sites"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:I,className:"flex items-center gap-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:[u.jsx(ss,{className:"w-5 h-5"}),"Add Folder"]}),u.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[u.jsx(Er,{className:"w-5 h-5"}),"Add Site"]})]})]}),u.jsx(Xd,{onDragEnd:Ie,children:u.jsxs("div",{className:"space-y-4",children:[r.map(v=>Re(v,U.get(v.id)||[])),Re(null,U.get(void 0)||[])]})}),e.length===0&&r.length===0&&u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center mt-4",children:[u.jsx(ye,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No blocked sites"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Add sites you want to block to help stay focused."}),u.jsxs("button",{onClick:D,className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[u.jsx(Er,{className:"w-5 h-5"}),"Add Your First Site"]})]}),i&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg mx-4 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:f?"Edit Blocked Site":"Add Blocked Site"}),u.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:u.jsx(Cr,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:E,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Pattern"}),u.jsx("input",{type:"text",value:m.pattern,onChange:v=>y({...m,pattern:v.target.value}),placeholder:"e.g., twitter.com or *.reddit.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use *.domain.com to block all subdomains"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unlock Method"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"none",label:"Always Blocked",icon:ye},{value:"password",label:"Password",icon:Ir},{value:"timer",label:"Timer",icon:st},{value:"schedule",label:"Schedule",icon:Wt}].map(({value:v,label:A,icon:B})=>u.jsxs("button",{type:"button",onClick:()=>y({...m,unlockType:v}),className:`flex items-center gap-2 p-3 border rounded-lg transition-colors ${m.unlockType===v?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:[u.jsx(B,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm font-medium",children:A})]},v))})]}),m.unlockType==="password"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unlock Password"}),u.jsx("input",{type:"password",value:m.password,onChange:v=>y({...m,password:v.target.value}),placeholder:f?"Leave blank to keep current":"Enter password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!f})]}),m.unlockType==="timer"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timer Duration (minutes)"}),u.jsx("input",{type:"number",value:m.timerDuration,onChange:v=>y({...m,timerDuration:parseInt(v.target.value)||30}),min:1,max:480,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Site will be blocked again after this time"})]}),m.unlockType==="schedule"&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Block on these days"}),u.jsx("div",{className:"flex gap-1",children:Fu.map((v,A)=>u.jsx("button",{type:"button",onClick:()=>{const B=m.scheduleDays.includes(A)?m.scheduleDays.filter(V=>V!==A):[...m.scheduleDays,A];y({...m,scheduleDays:B})},className:`flex-1 py-2 text-xs font-medium rounded transition-colors ${m.scheduleDays.includes(A)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:v},v))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),u.jsx("input",{type:"time",value:m.scheduleStart,onChange:v=>y({...m,scheduleStart:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),u.jsx("input",{type:"time",value:m.scheduleEnd,onChange:v=>y({...m,scheduleEnd:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder"}),u.jsxs("select",{value:m.folderId||"",onChange:v=>y({...m,folderId:v.target.value||void 0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"",children:"Uncategorized"}),r.map(v=>u.jsx("option",{value:v.id,children:v.name},v.id))]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:f?"Save Changes":"Add Site"})]})]})]})}),l&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:p?"Edit Folder":"Add Folder"}),u.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:u.jsx(Cr,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Folder Name"}),u.jsx("input",{type:"text",value:h,onChange:v=>w(v.target.value),placeholder:"e.g., Social Media, Adult Content",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,autoFocus:!0})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:p?"Save Changes":"Add Folder"})]})]})]})})]})}function Be(e){const t=Math.floor(e/3600),r=Math.floor(e%3600/60);return t>0?`${t}h ${r}m`:`${r}m`}function $u(e){return new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const xe=["bg-blue-500","bg-indigo-500","bg-purple-500","bg-pink-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-teal-500","bg-cyan-500"];function Gu(){const[e,t]=b.useState({}),[r,n]=b.useState("week"),[o,s]=b.useState(!0),[i,a]=b.useState(null);b.useEffect(()=>{l()},[]);async function l(){try{const E=await chrome.runtime.sendMessage({type:"GET_STATS"});t(E)}catch(E){console.error("Failed to load stats:",E)}finally{s(!1)}}if(o)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const d=new Date,f=r==="week"?7:30,c=[];for(let E=f-1;E>=0;E--){const C=new Date(d);C.setDate(C.getDate()-E);const k=C.getFullYear(),j=String(C.getMonth()+1).padStart(2,"0"),T=String(C.getDate()).padStart(2,"0");c.push(`${k}-${j}-${T}`)}const p=c.map(E=>e[E]||{date:E,totalTime:0,sites:{},visits:0,blockedAttempts:0}),g=p.reduce((E,C)=>E+C.totalTime,0),m=p.reduce((E,C)=>E+C.blockedAttempts,0),y=g/f,h={};for(const E of p)for(const[C,k]of Object.entries(E.sites))h[C]=(h[C]||0)+k;const w=Object.entries(h).sort((E,C)=>C[1]-E[1]).slice(0,10),x=Math.max(...p.map(E=>E.totalTime),1),D=[];for(let E=f*2-1;E>=f;E--){const C=new Date(d);C.setDate(C.getDate()-E);const k=C.getFullYear(),j=String(C.getMonth()+1).padStart(2,"0"),T=String(C.getDate()).padStart(2,"0");D.push(`${k}-${j}-${T}`)}const I=D.map(E=>e[E]||{totalTime:0}).reduce((E,C)=>E+C.totalTime,0),R=I>0?(g-I)/I*100:0;return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Metrics"}),u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>n("week"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${r==="week"?"bg-white shadow text-gray-900":"text-gray-600"}`,children:"Week"}),u.jsx("button",{onClick:()=>n("month"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${r==="month"?"bg-white shadow text-gray-900":"text-gray-600"}`,children:"Month"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"Total Time"}),u.jsx(st,{className:"w-5 h-5 text-gray-400"})]}),u.jsx("p",{className:"text-2xl font-bold",children:Be(g)}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[R>0?u.jsx(Cn,{className:"w-4 h-4 text-red-500"}):u.jsx(Ar,{className:"w-4 h-4 text-green-500"}),u.jsxs("span",{className:`text-sm ${R>0?"text-red-500":"text-green-500"}`,children:[Math.abs(R).toFixed(0),"% vs prev ",r]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"Daily Average"}),u.jsx(Wt,{className:"w-5 h-5 text-gray-400"})]}),u.jsx("p",{className:"text-2xl font-bold",children:Be(y)}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"per day"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:"Sites Blocked"}),u.jsx(Ar,{className:"w-5 h-5 text-gray-400"})]}),u.jsx("p",{className:"text-2xl font-bold",children:m}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"distractions avoided"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[u.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Top Sites (",r,")"]}),w.length>0?u.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3",children:w.map(([E,C],k)=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-3 h-3 rounded-full ${xe[k%xe.length]}`}),u.jsx("span",{className:"text-sm text-gray-400 w-4",children:k+1}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium truncate",children:E}),u.jsx("span",{className:"text-sm text-gray-500 ml-2",children:Be(C)})]})})]},E))}):u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No data for this period"})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Daily Breakdown"}),i&&u.jsxs("div",{className:"bg-gray-900 text-white text-xs px-3 py-1.5 rounded-lg flex items-center gap-2 animate-fade-in",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${xe[w.findIndex(([E])=>E===i.domain)%xe.length]||"bg-gray-400"}`}),u.jsx("span",{className:"font-medium",children:i.domain}),u.jsx("span",{className:"text-gray-300",children:""}),u.jsx("span",{children:Be(i.time)}),u.jsxs("span",{className:"text-gray-400",children:["(",i.percent.toFixed(1),"%)"]})]})]}),u.jsx("div",{className:"space-y-3",children:p.slice(-7).map(E=>{const C=Object.entries(E.sites).sort((j,T)=>T[1]-j[1]),k=new Map(w.map(([j],T)=>[j,T]));return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs text-gray-500 w-20",children:$u(E.date)}),u.jsx("div",{className:"flex-1 h-8 bg-gray-100 rounded-lg overflow-hidden flex",children:E.totalTime>0?C.map(([j,T])=>{const G=k.get(j)??9,Y=T/x*100;return Y<.5?null:u.jsx("div",{className:`h-full ${xe[G%xe.length]} hover:opacity-80 transition-opacity cursor-pointer`,style:{width:`${Y}%`},onMouseEnter:()=>a({date:E.date,domain:j,time:T,percent:T/E.totalTime*100}),onMouseLeave:()=>a(null)},j)}):u.jsx("div",{className:"flex-1 flex items-center justify-center text-xs text-gray-400",children:"No activity"})}),u.jsx("span",{className:"text-xs text-gray-600 w-14 text-right",children:Be(E.totalTime)})]},E.date)})}),u.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Hover over segments to see domain details. Colors match the top sites list above."})]})]})}function Uu(){const[e,t]=b.useState(null),[r,n]=b.useState(!0),[o,s]=b.useState(!1),[i,a]=b.useState(""),[l,d]=b.useState(""),[f,c]=b.useState("");b.useEffect(()=>{p()},[]);async function p(){try{const x=await chrome.runtime.sendMessage({type:"GET_SETTINGS"});t(x)}catch(x){console.error("Failed to load settings:",x)}finally{n(!1)}}async function g(){if(e){s(!0);try{await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:e})}catch(x){console.error("Failed to save settings:",x)}finally{s(!1)}}}async function m(){if(i!==l){c("Passwords do not match");return}if(i.length<4){c("Password must be at least 4 characters");return}try{const D=new TextEncoder().encode(i),N=await crypto.subtle.digest("SHA-256",D),R=Array.from(new Uint8Array(N)).map(E=>E.toString(16).padStart(2,"0")).join("");await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:{passwordHash:R}}),a(""),d(""),c(""),alert("Master password set successfully!")}catch(x){console.error("Failed to set password:",x),c("Failed to set password")}}async function y(){if(confirm("Are you sure you want to clear ALL data? This includes all tracking history and blocked sites. This cannot be undone!"))try{await chrome.storage.local.clear(),alert("All data cleared. The extension will reload."),window.location.reload()}catch(x){console.error("Failed to clear data:",x)}}async function h(){try{const x=await chrome.storage.local.get(null),D=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),N=URL.createObjectURL(D),I=document.createElement("a");I.href=N;const R=new Date,E=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`;I.download=`browserutils-export-${E}.json`,I.click(),URL.revokeObjectURL(N)}catch(x){console.error("Failed to export data:",x)}}async function w(x){try{const D=await x.text(),N=JSON.parse(D);await chrome.storage.local.set(N),alert("Data imported successfully!"),window.location.reload()}catch(D){console.error("Failed to import data:",D),alert("Failed to import data. Make sure the file is valid.")}}return r||!e?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"max-w-2xl",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"General"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("label",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Enable Tracking"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Record time spent on websites"})]}),u.jsx("input",{type:"checkbox",checked:e.trackingEnabled,onChange:x=>t({...e,trackingEnabled:x.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),u.jsxs("label",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Enable Blocking"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Block access to configured sites"})]}),u.jsx("input",{type:"checkbox",checked:e.blockingEnabled,onChange:x=>t({...e,blockingEnabled:x.target.checked}),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-1",children:"Data Retention"}),u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"How long to keep tracking history"}),u.jsxs("select",{value:e.retentionDays,onChange:x=>t({...e,retentionDays:parseInt(x.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:7,children:"7 days"}),u.jsx("option",{value:14,children:"14 days"}),u.jsx("option",{value:30,children:"30 days"}),u.jsx("option",{value:60,children:"60 days"}),u.jsx("option",{value:90,children:"90 days"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-1",children:"Idle Timeout"}),u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Stop tracking after this many seconds of inactivity. Set to 0 to disable."}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"number",value:e.idleThreshold,onChange:x=>t({...e,idleThreshold:parseInt(x.target.value)||0}),min:0,max:3600,step:15,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsx("span",{className:"text-sm text-gray-500",children:"seconds"}),u.jsx("div",{className:"flex gap-2 ml-auto",children:[30,60,120,300].map(x=>u.jsx("button",{type:"button",onClick:()=>t({...e,idleThreshold:x}),className:`px-2 py-1 text-xs rounded ${e.idleThreshold===x?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:x<60?`${x}s`:`${x/60}m`},x))})]}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Minimum: 15 seconds (Chrome API limit). Tracking also pauses when windows are minimized."})]})]}),u.jsxs("button",{onClick:g,disabled:o,className:"mt-6 flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:[u.jsx(Rr,{className:"w-4 h-4"}),o?"Saving...":"Save Settings"]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"New Tab"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block font-medium mb-1",children:"Display Name"}),u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Your name for the greeting on new tabs"}),u.jsx("input",{type:"text",value:e.displayName,onChange:x=>t({...e,displayName:x.target.value}),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Quick links can be added and removed directly on the new tab page."})]}),u.jsxs("button",{onClick:g,disabled:o,className:"mt-6 flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:[u.jsx(Rr,{className:"w-4 h-4"}),o?"Saving...":"Save Settings"]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Master Password"}),u.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Set a master password for unlocking password-protected blocked sites.",e.passwordHash&&u.jsx("span",{className:"ml-1 text-green-600",children:"(Currently set)"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"password",value:i,onChange:x=>{a(x.target.value),c("")},placeholder:"New password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsx("input",{type:"password",value:l,onChange:x=>{d(x.target.value),c("")},placeholder:"Confirm password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),f&&u.jsx("p",{className:"text-sm text-red-600",children:f}),u.jsx("button",{onClick:m,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:e.passwordHash?"Update Password":"Set Password"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data Management"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:h,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"Export Data"}),u.jsxs("label",{className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors cursor-pointer",children:["Import Data",u.jsx("input",{type:"file",accept:".json",onChange:x=>{var D;return((D=x.target.files)==null?void 0:D[0])&&w(x.target.files[0])},className:"hidden"})]})]}),u.jsx("div",{className:"pt-4 border-t border-gray-200",children:u.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 rounded-lg",children:[u.jsx(rs,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Danger Zone"}),u.jsx("p",{className:"text-sm text-red-700 mb-3",children:"This will permanently delete all your data including tracking history, blocked sites, and settings."}),u.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:[u.jsx(Vt,{className:"w-4 h-4"}),"Clear All Data"]})]})]})})]})]})]})}const Wu=[{to:"/",icon:ls,label:"Overview"},{to:"/blocked",icon:ye,label:"Blocked Sites"},{to:"/metrics",icon:es,label:"Metrics"},{to:"/settings",icon:ts,label:"Settings"}];function Vu(){const[e,t]=b.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[u.jsxs("nav",{className:"w-64 bg-white border-r border-gray-200 p-4 flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-default",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:u.jsx(ye,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"font-bold text-gray-900 relative overflow-hidden h-6",children:[u.jsx("span",{className:`inline-block transition-all duration-300 ${e?"opacity-0 -translate-y-full":"opacity-100 translate-y-0"}`,children:"BrowserUtils"}),u.jsx("span",{className:`absolute left-0 top-0 transition-all duration-300 ${e?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,children:"BoyoungUtils"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Focus & Productivity"})]})]}),u.jsx("div",{className:"space-y-1",children:Wu.map(({to:r,icon:n,label:o})=>u.jsxs(ui,{to:r,className:({isActive:s})=>`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${s?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[u.jsx(n,{className:"w-5 h-5"}),o]},r))}),u.jsx("div",{className:"mt-auto pt-4 border-t",children:u.jsx("p",{className:"text-xs text-gray-400 text-center",children:"v1.0.0"})})]}),u.jsx("main",{className:"flex-1 p-8 overflow-auto",children:u.jsxs(Qs,{children:[u.jsx(Le,{path:"/",element:u.jsx(mi,{})}),u.jsx(Le,{path:"/blocked",element:u.jsx(_u,{})}),u.jsx(Le,{path:"/metrics",element:u.jsx(Gu,{})}),u.jsx(Le,{path:"/settings",element:u.jsx(Uu,{})})]})})]})}Zo.createRoot(document.getElementById("root")).render(u.jsx(M.StrictMode,{children:u.jsx(ai,{children:u.jsx(Vu,{})})}));
