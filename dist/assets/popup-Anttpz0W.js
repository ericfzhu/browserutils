import{c as p,r as l,j as e,i as N,a as v,R as k}from"./theme-D67k5iMh.js";import{S as m,C as S}from"./shield-CLK5kpVR.js";import{B as w}from"./bar-chart-3-BnB3mxXT.js";import{S as E}from"./settings-B11GEtbu.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=p("ShieldOff",[["path",{d:"M19.7 14a6.9 6.9 0 0 0 .3-2V5l-8-3-3.2 1.2",key:"342pvf"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M4.7 4.7 4 5v7c0 6 8 10 8 10a20.3 20.3 0 0 0 5.62-4.38",key:"p0ycf4"}]]);function x(t){const i=Math.floor(t/3600),s=Math.floor(t%3600/60);return i>0?`${i}h ${s}m`:`${s}m`}function M(){const[t,i]=l.useState(null),[s,n]=l.useState(null),[h,g]=l.useState(!0),[c,d]=l.useState(!1);l.useEffect(()=>{u()},[]);async function u(){try{const a=new Date,r=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,[y,j]=await Promise.all([chrome.runtime.sendMessage({type:"GET_STATS",payload:{date:r}}),chrome.runtime.sendMessage({type:"GET_SETTINGS"})]);i(y),n(j)}catch(a){console.error("Failed to load data:",a)}finally{g(!1)}}async function b(){if(!s)return;const a=await chrome.runtime.sendMessage({type:"UPDATE_SETTINGS",payload:{blockingEnabled:!s.blockingEnabled}});n(a)}function f(){chrome.tabs.create({url:chrome.runtime.getURL("dashboard.html")})}if(h)return e.jsx("div",{className:"w-80 p-4 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const o=t?Object.entries(t.sites).sort((a,r)=>r[1]-a[1]).slice(0,3):[];return e.jsxs("div",{className:"w-80 bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-lg font-semibold cursor-default relative overflow-hidden",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[e.jsx("span",{className:`inline-block transition-all duration-300 ${c?"opacity-0 -translate-y-full":"opacity-100 translate-y-0"}`,children:"BrowserUtils"}),e.jsx("span",{className:`absolute left-0 transition-all duration-300 ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,children:"BoyoungðŸ˜˜Utils"})]}),e.jsx("button",{onClick:b,className:`p-2 rounded-lg transition-colors ${s!=null&&s.blockingEnabled?"bg-white/20 hover:bg-white/30":"bg-red-500/50 hover:bg-red-500/70"}`,title:s!=null&&s.blockingEnabled?"Blocking enabled":"Blocking disabled",children:s!=null&&s.blockingEnabled?e.jsx(m,{className:"w-5 h-5"}):e.jsx(T,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Today"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(S,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("div",{className:"text-lg font-semibold",children:x((t==null?void 0:t.totalTime)||0)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(w,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsx("div",{className:"text-lg font-semibold",children:(t==null?void 0:t.visits)||0}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Visits"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(m,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),e.jsx("div",{className:"text-lg font-semibold",children:(t==null?void 0:t.blockedAttempts)||0}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Blocked"})]})]})]}),o.length>0&&e.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Top Sites"}),e.jsx("div",{className:"space-y-2",children:o.map(([a,r])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm truncate flex-1",children:a}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:x(r)})]},a))})]}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200 py-2 px-4 rounded-lg transition-colors",children:[e.jsx(E,{className:"w-4 h-4"}),"Open Dashboard"]})})]})}N();v.createRoot(document.getElementById("root")).render(e.jsx(k.StrictMode,{children:e.jsx(M,{})}));
